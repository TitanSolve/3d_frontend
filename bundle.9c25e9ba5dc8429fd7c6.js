/*! For license information please see bundle.9c25e9ba5dc8429fd7c6.js.LICENSE.txt */
(()=>{"use strict";var t={20:(t,e,n)=>{var i=n(540),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var i,o={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)s.call(e,i)&&!l.hasOwnProperty(i)&&(o[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===o[i]&&(o[i]=e[i]);return{$$typeof:r,type:t,key:c,ref:u,props:o,_owner:a.current}}e.Fragment=o,e.jsx=c,e.jsxs=c},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function n(t){for(var n=-1,i=0;i<e.length;i++)if(e[i].identifier===t){n=i;break}return n}function i(t,i){for(var o={},s=[],a=0;a<t.length;a++){var l=t[a],c=i.base?l[0]+i.base:l[0],u=o[c]||0,d="".concat(c," ").concat(u);o[c]=u+1;var p=n(d),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(h);else{var f=r(h,i);i.byIndex=a,e.splice(a,0,{identifier:d,updater:f,references:1})}s.push(d)}return s}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var o=i(t=t||[],r=r||{});return function(t){t=t||[];for(var s=0;s<o.length;s++){var a=n(o[s]);e[a].references--}for(var l=i(t,r),c=0;c<o.length;c++){var u=n(o[c]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}o=l}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},159:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},235:(t,e,n)=>{n.d(e,{A:()=>a});var i=n(601),r=n.n(i),o=n(314),s=n.n(o)()(r());s.push([t.id,"@keyframes dialogSlideDown {\n  0% {\n    opacity: 0;\n    transform: translateY(-80px) scale(0.9);\n    filter: blur(4px);\n  }\n  50% {\n    filter: blur(2px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n    filter: blur(0);\n  }\n}\n\n@keyframes magicalGlow {\n  0% {\n    box-shadow: \n      0 12px 32px rgba(15, 23, 42, 0.22),\n      0 0 20px rgba(147, 112, 219, 0);\n  }\n  50% {\n    box-shadow: \n      0 12px 32px rgba(15, 23, 42, 0.22),\n      0 0 30px rgba(147, 112, 219, 0.4),\n      0 0 60px rgba(147, 112, 219, 0.2);\n  }\n  100% {\n    box-shadow: \n      0 12px 32px rgba(15, 23, 42, 0.22),\n      0 0 20px rgba(147, 112, 219, 0);\n  }\n}\n\n@keyframes borderShimmer {\n  0% {\n    border-color: rgba(255, 255, 255, 0.2);\n  }\n  50% {\n    border-color: rgba(147, 112, 219, 0.6);\n  }\n  100% {\n    border-color: rgba(255, 255, 255, 0.2);\n  }\n}\n\n.dialog-entrance-animation {\n  animation: \n    dialogSlideDown 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) both,\n    magicalGlow 3s ease-in-out 0.3s infinite,\n    borderShimmer 3s ease-in-out 0.3s infinite;\n}\n\n@keyframes typewriter {\n  from {\n    width: 0;\n  }\n  to {\n    width: 100%;\n  }\n}\n\n.typewriter-text {\n  overflow: hidden;\n  border-right: 2px solid rgba(147, 112, 219, 0.8);\n  white-space: pre-wrap;\n  word-break: break-word;\n  animation: typewriter 0.05s steps(1, end) forwards;\n}\n\n.typewriter-cursor {\n  animation: blink 0.7s infinite;\n}\n\n@keyframes blink {\n  0%, 49% {\n    border-right-color: rgba(147, 112, 219, 0.8);\n  }\n  50%, 100% {\n    border-right-color: transparent;\n  }\n}\n",""]);const a=s},287:(t,e)=>{var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator,f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function x(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||f}function g(){}function v(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||f}x.prototype.isReactComponent={},x.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},x.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},g.prototype=x.prototype;var _=v.prototype=new g;_.constructor=v,m(_,x.prototype),_.isPureReactComponent=!0;var z=Array.isArray,b=Object.prototype.hasOwnProperty,S={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function E(t,e,i){var r,o={},s=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(s=""+e.key),e)b.call(e,r)&&!M.hasOwnProperty(r)&&(o[r]=e[r]);var l=arguments.length-2;if(1===l)o.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:n,type:t,key:s,ref:a,props:o,_owner:S.current}}function w(t){return"object"==typeof t&&null!==t&&t.$$typeof===n}var T=/\/+/g;function A(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(t){return e[t]})}(""+t.key):e.toString(36)}function R(t,e,r,o,s){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case i:l=!0}}if(l)return s=s(l=t),t=""===o?"."+A(l,0):o,z(s)?(r="",null!=t&&(r=t.replace(T,"$&/")+"/"),R(s,e,r,"",function(t){return t})):null!=s&&(w(s)&&(s=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+t)),e.push(s)),1;if(l=0,o=""===o?".":o+":",z(t))for(var c=0;c<t.length;c++){var u=o+A(a=t[c],c);l+=R(a,e,r,u,s)}else if(u=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=h&&t[h]||t["@@iterator"])?t:null}(t),"function"==typeof u)for(t=u.call(t),c=0;!(a=t.next()).done;)l+=R(a=a.value,e,r,u=o+A(a,c++),s);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function C(t,e,n){if(null==t)return t;var i=[],r=0;return R(t,i,"","",function(t){return e.call(n,t,r++)}),i}function P(t){if(-1===t._status){var e=t._result;(e=e()).then(function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)},function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)}),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var L={current:null},I={transition:null},N={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:I,ReactCurrentOwner:S};function D(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:C,forEach:function(t,e,n){C(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return C(t,function(){e++}),e},toArray:function(t){return C(t,function(t){return t})||[]},only:function(t){if(!w(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=x,e.Fragment=r,e.Profiler=s,e.PureComponent=v,e.StrictMode=o,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,e.act=D,e.cloneElement=function(t,e,i){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=m({},t.props),o=t.key,s=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,a=S.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)b.call(e,c)&&!M.hasOwnProperty(c)&&(r[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:t.type,key:o,ref:s,props:r,_owner:a}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=E,e.createFactory=function(t){var e=E.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=w,e.lazy=function(t){return{$$typeof:p,_payload:{_status:-1,_result:t},_init:P}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=I.transition;I.transition={};try{t()}finally{I.transition=e}},e.unstable_act=D,e.useCallback=function(t,e){return L.current.useCallback(t,e)},e.useContext=function(t){return L.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return L.current.useDeferredValue(t)},e.useEffect=function(t,e){return L.current.useEffect(t,e)},e.useId=function(){return L.current.useId()},e.useImperativeHandle=function(t,e,n){return L.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return L.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return L.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return L.current.useMemo(t,e)},e.useReducer=function(t,e,n){return L.current.useReducer(t,e,n)},e.useRef=function(t){return L.current.useRef(t)},e.useState=function(t){return L.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return L.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return L.current.useTransition()},e.version="18.3.1"},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n}).join("")},e.i=function(t,n,i,r,o){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(i)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var c=0;c<t.length;c++){var u=[].concat(t[c]);i&&s[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),e.push(u))}},e}},338:(t,e,n)=>{var i=n(961);e.H=i.createRoot,i.hydrateRoot},463:(t,e)=>{function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,r=t[i];if(!(0<o(r,e)))break t;t[i]=e,t[n]=r,n=i}}function i(t){return 0===t.length?null:t[0]}function r(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length,s=r>>>1;i<s;){var a=2*(i+1)-1,l=t[a],c=a+1,u=t[c];if(0>o(l,n))c<r&&0>o(u,l)?(t[i]=u,t[c]=n,i=c):(t[i]=l,t[a]=n,i=a);else{if(!(c<r&&0>o(u,n)))break t;t[i]=u,t[c]=n,i=c}}}return e}function o(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,p=null,h=3,f=!1,m=!1,y=!1,x="function"==typeof setTimeout?setTimeout:null,g="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function _(t){for(var e=i(u);null!==e;){if(null===e.callback)r(u);else{if(!(e.startTime<=t))break;r(u),e.sortIndex=e.expirationTime,n(c,e)}e=i(u)}}function z(t){if(y=!1,_(t),!m)if(null!==i(c))m=!0,I(b);else{var e=i(u);null!==e&&N(z,e.startTime-t)}}function b(t,n){m=!1,y&&(y=!1,g(w),w=-1),f=!0;var o=h;try{for(_(n),p=i(c);null!==p&&(!(p.expirationTime>n)||t&&!R());){var s=p.callback;if("function"==typeof s){p.callback=null,h=p.priorityLevel;var a=s(p.expirationTime<=n);n=e.unstable_now(),"function"==typeof a?p.callback=a:p===i(c)&&r(c),_(n)}else r(c);p=i(c)}if(null!==p)var l=!0;else{var d=i(u);null!==d&&N(z,d.startTime-n),l=!1}return l}finally{p=null,h=o,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,M=!1,E=null,w=-1,T=5,A=-1;function R(){return!(e.unstable_now()-A<T)}function C(){if(null!==E){var t=e.unstable_now();A=t;var n=!0;try{n=E(!0,t)}finally{n?S():(M=!1,E=null)}}else M=!1}if("function"==typeof v)S=function(){v(C)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,L=P.port2;P.port1.onmessage=C,S=function(){L.postMessage(null)}}else S=function(){x(C,0)};function I(t){E=t,M||(M=!0,S())}function N(t,n){w=x(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){m||f||(m=!0,I(b))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return i(c)},e.unstable_next=function(t){switch(h){case 1:case 2:case 3:var e=3;break;default:e=h}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_scheduleCallback=function(t,r,o){var s=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?s+o:s,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:d++,callback:r,priorityLevel:t,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(t.sortIndex=o,n(u,t),null===i(c)&&t===i(u)&&(y?(g(w),w=-1):y=!0,N(z,o-s))):(t.sortIndex=a,n(c,t),m||f||(m=!0,I(b))),t},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(t){var e=h;return function(){var n=h;h=e;try{return t.apply(this,arguments)}finally{h=n}}}},540:(t,e,n)=>{t.exports=n(287)},551:(t,e,n)=>{var i=n(540),r=n(982);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(a[t]=e,t=0;t<e.length;t++)s.add(e[t])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function m(t,e,n,i,r,o,s){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){y[t]=new m(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];y[e]=new m(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){y[t]=new m(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){y[t]=new m(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){y[t]=new m(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){y[t]=new m(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){y[t]=new m(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){y[t]=new m(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){y[t]=new m(t,5,!1,t.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function g(t){return t[1].toUpperCase()}function v(t,e,n,i){var r=y.hasOwnProperty(e)?y[e]:null;(null!==r?0!==r.type:i||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,i){if(null==e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,i)&&(n=null),i||null===r?function(t){return!!d.call(f,t)||!d.call(h,t)&&(p.test(t)?f[t]=!0:(h[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(x,g);y[e]=new m(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(x,g);y[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(x,g);y[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){y[t]=new m(t,1,!1,t.toLowerCase(),null,!1,!1)}),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){y[t]=new m(t,1,!1,t.toLowerCase(),null,!0,!0)});var _=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),T=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function D(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=N&&t[N]||t["@@iterator"])?t:null}var U,O=Object.assign;function k(t){if(void 0===U)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);U=e&&e[1]||""}return"\n"+U+t}var F=!1;function B(t,e){if(!t||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(t){var i=t}Reflect.construct(t,[],e)}else{try{e.call()}catch(t){i=t}t.call(e.prototype)}else{try{throw Error()}catch(t){i=t}t()}}catch(e){if(e&&i&&"string"==typeof e.stack){for(var r=e.stack.split("\n"),o=i.stack.split("\n"),s=r.length-1,a=o.length-1;1<=s&&0<=a&&r[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(r[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||r[s]!==o[a]){var l="\n"+r[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=s&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?k(t):""}function H(t){switch(t.tag){case 5:return k(t.type);case 16:return k("Lazy");case 13:return k("Suspense");case 19:return k("SuspenseList");case 0:case 2:case 15:return B(t.type,!1);case 11:return B(t.type.render,!1);case 1:return B(t.type,!0);default:return""}}function V(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case S:return"Fragment";case b:return"Portal";case E:return"Profiler";case M:return"StrictMode";case R:return"Suspense";case C:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case T:return(t.displayName||"Context")+".Consumer";case w:return(t._context.displayName||"Context")+".Provider";case A:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case P:return null!==(e=t.displayName||null)?e:V(t.type)||"Memo";case L:e=t._payload,t=t._init;try{return V(t(e))}catch(t){}}return null}function G(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(e);case 8:return e===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e}return null}function W(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function j(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function X(t){t._valueTracker||(t._valueTracker=function(t){var e=j(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function q(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=j(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function Y(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function K(t,e){var n=e.checked;return O({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Z(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=W(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function $(t,e){null!=(e=e.checked)&&v(t,"checked",e,!1)}function J(t,e){$(t,e);var n=W(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,W(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Q(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&Y(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+W(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function it(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return O({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(et(n)){if(1<n.length)throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:W(n)}}function ot(t,e){var n=W(e.value),i=W(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function st(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut,dt=(ut=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction(function(){return ut(t,e)})}:ut);function pt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ht={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ft=["Webkit","ms","Moz","O"];function mt(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||ht.hasOwnProperty(t)&&ht[t]?(""+e).trim():e+"px"}function yt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=mt(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(ht).forEach(function(t){ft.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ht[e]=ht[t]})});var xt=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gt(t,e){if(e){if(xt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(o(62))}}function vt(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=null;function zt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var bt=null,St=null,Mt=null;function Et(t){if(t=vr(t)){if("function"!=typeof bt)throw Error(o(280));var e=t.stateNode;e&&(e=zr(e),bt(t.stateNode,t.type,e))}}function wt(t){St?Mt?Mt.push(t):Mt=[t]:St=t}function Tt(){if(St){var t=St,e=Mt;if(Mt=St=null,Et(t),e)for(t=0;t<e.length;t++)Et(e[t])}}function At(t,e){return t(e)}function Rt(){}var Ct=!1;function Pt(t,e,n){if(Ct)return t(e,n);Ct=!0;try{return At(t,e,n)}finally{Ct=!1,(null!==St||null!==Mt)&&(Rt(),Tt())}}function Lt(t,e){var n=t.stateNode;if(null===n)return null;var i=zr(n);if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(o(231,e,typeof n));return n}var It=!1;if(u)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){It=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch(ut){It=!1}function Dt(t,e,n,i,r,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(t){this.onError(t)}}var Ut=!1,Ot=null,kt=!1,Ft=null,Bt={onError:function(t){Ut=!0,Ot=t}};function Ht(t,e,n,i,r,o,s,a,l){Ut=!1,Ot=null,Dt.apply(Bt,arguments)}function Vt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{!!(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Gt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&null!==(t=t.alternate)&&(e=t.memoizedState),null!==e)return e.dehydrated}return null}function Wt(t){if(Vt(t)!==t)throw Error(o(188))}function jt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Vt(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(i=r.return)){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Wt(r),t;if(s===i)return Wt(r),e;s=s.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t))?Xt(t):null}function Xt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Xt(t);if(null!==e)return e;t=t.sibling}return null}var qt=r.unstable_scheduleCallback,Yt=r.unstable_cancelCallback,Kt=r.unstable_shouldYield,Zt=r.unstable_requestPaint,$t=r.unstable_now,Jt=r.unstable_getCurrentPriorityLevel,Qt=r.unstable_ImmediatePriority,te=r.unstable_UserBlockingPriority,ee=r.unstable_NormalPriority,ne=r.unstable_LowPriority,ie=r.unstable_IdlePriority,re=null,oe=null,se=Math.clz32?Math.clz32:function(t){return 0===(t>>>=0)?32:31-(ae(t)/le|0)|0},ae=Math.log,le=Math.LN2,ce=64,ue=4194304;function de(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pe(t,e){var n=t.pendingLanes;if(0===n)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,s=268435455&n;if(0!==s){var a=s&~r;0!==a?i=de(a):0!==(o&=s)&&(i=de(o))}else 0!==(s=n&~r)?i=de(s):0!==o&&(i=de(o));if(0===i)return 0;if(0!==e&&e!==i&&0===(e&r)&&((r=i&-i)>=(o=e&-e)||16===r&&4194240&o))return e;if(4&i&&(i|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=i;0<e;)r=1<<(n=31-se(e)),i|=t[n],e&=~r;return i}function he(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function fe(t){return 0!=(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function me(){var t=ce;return!(4194240&(ce<<=1))&&(ce=64),t}function ye(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xe(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-se(e)]=n}function ge(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-se(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var ve=0;function _e(t){return 1<(t&=-t)?4<t?268435455&t?16:536870912:4:1}var ze,be,Se,Me,Ee,we=!1,Te=[],Ae=null,Re=null,Ce=null,Pe=new Map,Le=new Map,Ie=[],Ne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function De(t,e){switch(t){case"focusin":case"focusout":Ae=null;break;case"dragenter":case"dragleave":Re=null;break;case"mouseover":case"mouseout":Ce=null;break;case"pointerover":case"pointerout":Pe.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Le.delete(e.pointerId)}}function Ue(t,e,n,i,r,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==e&&null!==(e=vr(e))&&be(e),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function Oe(t){var e=gr(t.target);if(null!==e){var n=Vt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Gt(n)))return t.blockedOn=e,void Ee(t.priority,function(){Se(n)})}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ke(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ke(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=vr(n))&&be(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);_t=i,n.target.dispatchEvent(i),_t=null,e.shift()}return!0}function Fe(t,e,n){ke(t)&&n.delete(e)}function Be(){we=!1,null!==Ae&&ke(Ae)&&(Ae=null),null!==Re&&ke(Re)&&(Re=null),null!==Ce&&ke(Ce)&&(Ce=null),Pe.forEach(Fe),Le.forEach(Fe)}function He(t,e){t.blockedOn===e&&(t.blockedOn=null,we||(we=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Be)))}function Ve(t){function e(e){return He(e,t)}if(0<Te.length){He(Te[0],t);for(var n=1;n<Te.length;n++){var i=Te[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==Ae&&He(Ae,t),null!==Re&&He(Re,t),null!==Ce&&He(Ce,t),Pe.forEach(e),Le.forEach(e),n=0;n<Ie.length;n++)(i=Ie[n]).blockedOn===t&&(i.blockedOn=null);for(;0<Ie.length&&null===(n=Ie[0]).blockedOn;)Oe(n),null===n.blockedOn&&Ie.shift()}var Ge=_.ReactCurrentBatchConfig,We=!0;function je(t,e,n,i){var r=ve,o=Ge.transition;Ge.transition=null;try{ve=1,qe(t,e,n,i)}finally{ve=r,Ge.transition=o}}function Xe(t,e,n,i){var r=ve,o=Ge.transition;Ge.transition=null;try{ve=4,qe(t,e,n,i)}finally{ve=r,Ge.transition=o}}function qe(t,e,n,i){if(We){var r=Ke(t,e,n,i);if(null===r)Wi(t,e,i,Ye,n),De(t,i);else if(function(t,e,n,i,r){switch(e){case"focusin":return Ae=Ue(Ae,t,e,n,i,r),!0;case"dragenter":return Re=Ue(Re,t,e,n,i,r),!0;case"mouseover":return Ce=Ue(Ce,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return Pe.set(o,Ue(Pe.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Le.set(o,Ue(Le.get(o)||null,t,e,n,i,r)),!0}return!1}(r,t,e,n,i))i.stopPropagation();else if(De(t,i),4&e&&-1<Ne.indexOf(t)){for(;null!==r;){var o=vr(r);if(null!==o&&ze(o),null===(o=Ke(t,e,n,i))&&Wi(t,e,i,Ye,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else Wi(t,e,i,null,n)}}var Ye=null;function Ke(t,e,n,i){if(Ye=null,null!==(t=gr(t=zt(i))))if(null===(e=Vt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Gt(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ye=t,null}function Ze(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case Qt:return 1;case te:return 4;case ee:case ne:return 16;case ie:return 536870912;default:return 16}default:return 16}}var $e=null,Je=null,Qe=null;function tn(){if(Qe)return Qe;var t,e,n=Je,i=n.length,r="value"in $e?$e.value:$e.textContent,o=r.length;for(t=0;t<i&&n[t]===r[t];t++);var s=i-t;for(e=1;e<=s&&n[i-e]===r[o-e];e++);return Qe=r.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function on(t){function e(e,n,i,r,o){for(var s in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(s)&&(e=t[s],this[s]=e?e(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return O(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=O({},cn,{view:0,detail:0}),pn=on(dn),hn=O({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(sn=t.screenX-ln.screenX,an=t.screenY-ln.screenY):an=sn=0,ln=t),sn)},movementY:function(t){return"movementY"in t?t.movementY:an}}),fn=on(hn),mn=on(O({},hn,{dataTransfer:0})),yn=on(O({},dn,{relatedTarget:0})),xn=on(O({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=O({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vn=on(gn),_n=on(O({},cn,{data:0})),zn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function En(){return Mn}var wn=O({},dn,{key:function(t){if(t.key){var e=zn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?bn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Tn=on(wn),An=on(O({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=on(O({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Cn=on(O({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=O({},hn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=on(Pn),In=[9,13,27,32],Nn=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Un=u&&"TextEvent"in window&&!Dn,On=u&&(!Nn||Dn&&8<Dn&&11>=Dn),kn=String.fromCharCode(32),Fn=!1;function Bn(t,e){switch(t){case"keyup":return-1!==In.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var Vn=!1,Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Gn[t.type]:"textarea"===e}function jn(t,e,n,i){wt(i),0<(e=Xi(e,"onChange")).length&&(n=new un("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Xn=null,qn=null;function Yn(t){ki(t,0)}function Kn(t){if(q(_r(t)))return t}function Zn(t,e){if("change"===t)return e}var $n=!1;if(u){var Jn;if(u){var Qn="oninput"in document;if(!Qn){var ti=document.createElement("div");ti.setAttribute("oninput","return;"),Qn="function"==typeof ti.oninput}Jn=Qn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function ei(){Xn&&(Xn.detachEvent("onpropertychange",ni),qn=Xn=null)}function ni(t){if("value"===t.propertyName&&Kn(qn)){var e=[];jn(e,qn,t,zt(t)),Pt(Yn,e)}}function ii(t,e,n){"focusin"===t?(ei(),qn=n,(Xn=e).attachEvent("onpropertychange",ni)):"focusout"===t&&ei()}function ri(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Kn(qn)}function oi(t,e){if("click"===t)return Kn(e)}function si(t,e){if("input"===t||"change"===t)return Kn(e)}var ai="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e};function li(t,e){if(ai(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!d.call(e,r)||!ai(t[r],e[r]))return!1}return!0}function ci(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ui(t,e){var n,i=ci(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=ci(i)}}function di(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?di(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function pi(){for(var t=window,e=Y();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=Y((t=e.contentWindow).document)}return e}function hi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function fi(t){var e=pi(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&di(n.ownerDocument.documentElement,n)){if(null!==i&&hi(n))if(e=i.start,void 0===(t=i.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=ui(n,o);var s=ui(n,i);r&&s&&(1!==t.rangeCount||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&((e=e.createRange()).setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mi=u&&"documentMode"in document&&11>=document.documentMode,yi=null,xi=null,gi=null,vi=!1;function _i(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vi||null==yi||yi!==Y(i)||(i="selectionStart"in(i=yi)&&hi(i)?{start:i.selectionStart,end:i.selectionEnd}:{anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},gi&&li(gi,i)||(gi=i,0<(i=Xi(xi,"onSelect")).length&&(e=new un("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=yi)))}function zi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bi={animationend:zi("Animation","AnimationEnd"),animationiteration:zi("Animation","AnimationIteration"),animationstart:zi("Animation","AnimationStart"),transitionend:zi("Transition","TransitionEnd")},Si={},Mi={};function Ei(t){if(Si[t])return Si[t];if(!bi[t])return t;var e,n=bi[t];for(e in n)if(n.hasOwnProperty(e)&&e in Mi)return Si[t]=n[e];return t}u&&(Mi=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);var wi=Ei("animationend"),Ti=Ei("animationiteration"),Ai=Ei("animationstart"),Ri=Ei("transitionend"),Ci=new Map,Pi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(t,e){Ci.set(t,e),l(e,[t])}for(var Ii=0;Ii<Pi.length;Ii++){var Ni=Pi[Ii];Li(Ni.toLowerCase(),"on"+(Ni[0].toUpperCase()+Ni.slice(1)))}Li(wi,"onAnimationEnd"),Li(Ti,"onAnimationIteration"),Li(Ai,"onAnimationStart"),Li("dblclick","onDoubleClick"),Li("focusin","onFocus"),Li("focusout","onBlur"),Li(Ri,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ui=new Set("cancel close invalid load scroll toggle".split(" ").concat(Di));function Oi(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,i,r,s,a,l,c){if(Ht.apply(this,arguments),Ut){if(!Ut)throw Error(o(198));var u=Ot;Ut=!1,Ot=null,kt||(kt=!0,Ft=u)}}(i,e,void 0,t),t.currentTarget=null}function ki(t,e){e=!!(4&e);for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;t:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break t;Oi(r,a,c),o=l}else for(s=0;s<i.length;s++){if(l=(a=i[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break t;Oi(r,a,c),o=l}}}if(kt)throw t=Ft,kt=!1,Ft=null,t}function Fi(t,e){var n=e[mr];void 0===n&&(n=e[mr]=new Set);var i=t+"__bubble";n.has(i)||(Gi(e,t,2,!1),n.add(i))}function Bi(t,e,n){var i=0;e&&(i|=4),Gi(n,t,i,e)}var Hi="_reactListening"+Math.random().toString(36).slice(2);function Vi(t){if(!t[Hi]){t[Hi]=!0,s.forEach(function(e){"selectionchange"!==e&&(Ui.has(e)||Bi(e,!1,t),Bi(e,!0,t))});var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Hi]||(e[Hi]=!0,Bi("selectionchange",!1,e))}}function Gi(t,e,n,i){switch(Ze(e)){case 1:var r=je;break;case 4:r=Xe;break;default:r=qe}n=r.bind(null,e,n,t),r=void 0,!It||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),i?void 0!==r?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):void 0!==r?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Wi(t,e,n,i,r){var o=i;if(!(1&e||2&e||null===i))t:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===s)for(s=i.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==a;){if(null===(s=gr(a)))return;if(5===(l=s.tag)||6===l){i=o=s;continue t}a=a.parentNode}}i=i.return}Pt(function(){var i=o,r=zt(n),s=[];t:{var a=Ci.get(t);if(void 0!==a){var l=un,c=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=yn;break;case"focusout":c="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case wi:case Ti:case Ai:l=xn;break;case Ri:l=Cn;break;case"scroll":l=pn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var u=!!(4&e),d=!u&&"scroll"===t,p=u?null!==a?a+"Capture":null:a;u=[];for(var h,f=i;null!==f;){var m=(h=f).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==p&&null!=(m=Lt(f,p))&&u.push(ji(f,m,h))),d)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,r),s.push({event:a,listeners:u}))}}if(!(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||n===_t||!(c=n.relatedTarget||n.fromElement)||!gr(c)&&!c[fr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?gr(c):null)&&(c!==(d=Vt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=fn,m="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==t&&"pointerover"!==t||(u=An,m="onPointerLeave",p="onPointerEnter",f="pointer"),d=null==l?a:_r(l),h=null==c?a:_r(c),(a=new u(m,f+"leave",l,n,r)).target=d,a.relatedTarget=h,m=null,gr(r)===i&&((u=new u(p,f+"enter",c,n,r)).target=h,u.relatedTarget=d,m=u),d=m,l&&c)t:{for(p=c,f=0,h=u=l;h;h=qi(h))f++;for(h=0,m=p;m;m=qi(m))h++;for(;0<f-h;)u=qi(u),f--;for(;0<h-f;)p=qi(p),h--;for(;f--;){if(u===p||null!==p&&u===p.alternate)break t;u=qi(u),p=qi(p)}u=null}else u=null;null!==l&&Yi(s,a,l,u,!1),null!==c&&null!==d&&Yi(s,d,c,u,!0)}if("select"===(l=(a=i?_r(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var y=Zn;else if(Wn(a))if($n)y=si;else{y=ri;var x=ii}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(y=oi);switch(y&&(y=y(t,i))?jn(s,y,n,r):(x&&x(t,a,i),"focusout"===t&&(x=a._wrapperState)&&x.controlled&&"number"===a.type&&tt(a,"number",a.value)),x=i?_r(i):window,t){case"focusin":(Wn(x)||"true"===x.contentEditable)&&(yi=x,xi=i,gi=null);break;case"focusout":gi=xi=yi=null;break;case"mousedown":vi=!0;break;case"contextmenu":case"mouseup":case"dragend":vi=!1,_i(s,n,r);break;case"selectionchange":if(mi)break;case"keydown":case"keyup":_i(s,n,r)}var g;if(Nn)t:{switch(t){case"compositionstart":var v="onCompositionStart";break t;case"compositionend":v="onCompositionEnd";break t;case"compositionupdate":v="onCompositionUpdate";break t}v=void 0}else Vn?Bn(t,n)&&(v="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(v="onCompositionStart");v&&(On&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Vn&&(g=tn()):(Je="value"in($e=r)?$e.value:$e.textContent,Vn=!0)),0<(x=Xi(i,v)).length&&(v=new _n(v,t,null,n,r),s.push({event:v,listeners:x}),(g||null!==(g=Hn(n)))&&(v.data=g))),(g=Un?function(t,e){switch(t){case"compositionend":return Hn(e);case"keypress":return 32!==e.which?null:(Fn=!0,kn);case"textInput":return(t=e.data)===kn&&Fn?null:t;default:return null}}(t,n):function(t,e){if(Vn)return"compositionend"===t||!Nn&&Bn(t,e)?(t=tn(),Qe=Je=$e=null,Vn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return On&&"ko"!==e.locale?null:e.data}}(t,n))&&0<(i=Xi(i,"onBeforeInput")).length&&(r=new _n("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:i}),r.data=g)}ki(s,e)})}function ji(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xi(t,e){for(var n=e+"Capture",i=[];null!==t;){var r=t,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=Lt(t,n))&&i.unshift(ji(t,o,r)),null!=(o=Lt(t,e))&&i.push(ji(t,o,r))),t=t.return}return i}function qi(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Yi(t,e,n,i,r){for(var o=e._reactName,s=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,r?null!=(l=Lt(n,o))&&s.unshift(ji(n,l,a)):r||null!=(l=Lt(n,o))&&s.push(ji(n,l,a))),n=n.return}0!==s.length&&t.push({event:e,listeners:s})}var Ki=/\r\n?/g,Zi=/\u0000|\uFFFD/g;function $i(t){return("string"==typeof t?t:""+t).replace(Ki,"\n").replace(Zi,"")}function Ji(t,e,n){if(e=$i(e),$i(t)!==e&&n)throw Error(o(425))}function Qi(){}var tr=null,er=null;function nr(t,e){return"textarea"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ir="function"==typeof setTimeout?setTimeout:void 0,rr="function"==typeof clearTimeout?clearTimeout:void 0,or="function"==typeof Promise?Promise:void 0,sr="function"==typeof queueMicrotask?queueMicrotask:void 0!==or?function(t){return or.resolve(null).then(t).catch(ar)}:ir;function ar(t){setTimeout(function(){throw t})}function lr(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return t.removeChild(r),void Ve(e);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Ve(e)}function cr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ur(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var dr=Math.random().toString(36).slice(2),pr="__reactFiber$"+dr,hr="__reactProps$"+dr,fr="__reactContainer$"+dr,mr="__reactEvents$"+dr,yr="__reactListeners$"+dr,xr="__reactHandles$"+dr;function gr(t){var e=t[pr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fr]||n[pr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ur(t);null!==t;){if(n=t[pr])return n;t=ur(t)}return e}n=(t=n).parentNode}return null}function vr(t){return!(t=t[pr]||t[fr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function _r(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function zr(t){return t[hr]||null}var br=[],Sr=-1;function Mr(t){return{current:t}}function Er(t){0>Sr||(t.current=br[Sr],br[Sr]=null,Sr--)}function wr(t,e){Sr++,br[Sr]=t.current,t.current=e}var Tr={},Ar=Mr(Tr),Rr=Mr(!1),Cr=Tr;function Pr(t,e){var n=t.type.contextTypes;if(!n)return Tr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Lr(t){return null!=t.childContextTypes}function Ir(){Er(Rr),Er(Ar)}function Nr(t,e,n){if(Ar.current!==Tr)throw Error(o(168));wr(Ar,e),wr(Rr,n)}function Dr(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in e))throw Error(o(108,G(t)||"Unknown",r));return O({},n,i)}function Ur(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tr,Cr=Ar.current,wr(Ar,t),wr(Rr,Rr.current),!0}function Or(t,e,n){var i=t.stateNode;if(!i)throw Error(o(169));n?(t=Dr(t,e,Cr),i.__reactInternalMemoizedMergedChildContext=t,Er(Rr),Er(Ar),wr(Ar,t)):Er(Rr),wr(Rr,n)}var kr=null,Fr=!1,Br=!1;function Hr(t){null===kr?kr=[t]:kr.push(t)}function Vr(){if(!Br&&null!==kr){Br=!0;var t=0,e=ve;try{var n=kr;for(ve=1;t<n.length;t++){var i=n[t];do{i=i(!0)}while(null!==i)}kr=null,Fr=!1}catch(e){throw null!==kr&&(kr=kr.slice(t+1)),qt(Qt,Vr),e}finally{ve=e,Br=!1}}return null}var Gr=[],Wr=0,jr=null,Xr=0,qr=[],Yr=0,Kr=null,Zr=1,$r="";function Jr(t,e){Gr[Wr++]=Xr,Gr[Wr++]=jr,jr=t,Xr=e}function Qr(t,e,n){qr[Yr++]=Zr,qr[Yr++]=$r,qr[Yr++]=Kr,Kr=t;var i=Zr;t=$r;var r=32-se(i)-1;i&=~(1<<r),n+=1;var o=32-se(e)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Zr=1<<32-se(e)+r|n<<r|i,$r=o+t}else Zr=1<<o|n<<r|i,$r=t}function to(t){null!==t.return&&(Jr(t,1),Qr(t,1,0))}function eo(t){for(;t===jr;)jr=Gr[--Wr],Gr[Wr]=null,Xr=Gr[--Wr],Gr[Wr]=null;for(;t===Kr;)Kr=qr[--Yr],qr[Yr]=null,$r=qr[--Yr],qr[Yr]=null,Zr=qr[--Yr],qr[Yr]=null}var no=null,io=null,ro=!1,oo=null;function so(t,e){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function ao(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,no=t,io=cr(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,no=t,io=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Kr?{id:Zr,overflow:$r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,no=t,io=null,!0);default:return!1}}function lo(t){return!(!(1&t.mode)||128&t.flags)}function co(t){if(ro){var e=io;if(e){var n=e;if(!ao(t,e)){if(lo(t))throw Error(o(418));e=cr(n.nextSibling);var i=no;e&&ao(t,e)?so(i,n):(t.flags=-4097&t.flags|2,ro=!1,no=t)}}else{if(lo(t))throw Error(o(418));t.flags=-4097&t.flags|2,ro=!1,no=t}}}function uo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;no=t}function po(t){if(t!==no)return!1;if(!ro)return uo(t),ro=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!nr(t.type,t.memoizedProps)),e&&(e=io)){if(lo(t))throw ho(),Error(o(418));for(;e;)so(t,e),e=cr(e.nextSibling)}if(uo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){io=cr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}io=null}}else io=no?cr(t.stateNode.nextSibling):null;return!0}function ho(){for(var t=io;t;)t=cr(t.nextSibling)}function fo(){io=no=null,ro=!1}function mo(t){null===oo?oo=[t]:oo.push(t)}var yo=_.ReactCurrentBatchConfig;function xo(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,t));var r=i,s=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===s?e.ref:(e=function(t){var e=r.refs;null===t?delete e[s]:e[s]=t},e._stringRef=s,e)}if("string"!=typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function go(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vo(t){return(0,t._init)(t._payload)}function _o(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Ic(t,e)).index=0,t.sibling=null,t}function s(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=2,n):i:(e.flags|=2,n):(e.flags|=1048576,n)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Oc(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function c(t,e,n,i){var o=n.type;return o===S?d(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===L&&vo(o)===e.type)?((i=r(e,n.props)).ref=xo(t,e,n),i.return=t,i):((i=Nc(n.type,n.key,n.props,null,t.mode,i)).ref=xo(t,e,n),i.return=t,i)}function u(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=kc(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function d(t,e,n,i,o){return null===e||7!==e.tag?((e=Dc(n,t.mode,i,o)).return=t,e):((e=r(e,n)).return=t,e)}function p(t,e,n){if("string"==typeof e&&""!==e||"number"==typeof e)return(e=Oc(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case z:return(n=Nc(e.type,e.key,e.props,null,t.mode,n)).ref=xo(t,null,e),n.return=t,n;case b:return(e=kc(e,t.mode,n)).return=t,e;case L:return p(t,(0,e._init)(e._payload),n)}if(et(e)||D(e))return(e=Dc(e,t.mode,n,null)).return=t,e;go(t,e)}return null}function h(t,e,n,i){var r=null!==e?e.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==r?null:l(t,e,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case z:return n.key===r?c(t,e,n,i):null;case b:return n.key===r?u(t,e,n,i):null;case L:return h(t,e,(r=n._init)(n._payload),i)}if(et(n)||D(n))return null!==r?null:d(t,e,n,i,null);go(t,n)}return null}function f(t,e,n,i,r){if("string"==typeof i&&""!==i||"number"==typeof i)return l(e,t=t.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case z:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r);case b:return u(e,t=t.get(null===i.key?n:i.key)||null,i,r);case L:return f(t,e,n,(0,i._init)(i._payload),r)}if(et(i)||D(i))return d(e,t=t.get(n)||null,i,r,null);go(e,i)}return null}function m(r,o,a,l){for(var c=null,u=null,d=o,m=o=0,y=null;null!==d&&m<a.length;m++){d.index>m?(y=d,d=null):y=d.sibling;var x=h(r,d,a[m],l);if(null===x){null===d&&(d=y);break}t&&d&&null===x.alternate&&e(r,d),o=s(x,o,m),null===u?c=x:u.sibling=x,u=x,d=y}if(m===a.length)return n(r,d),ro&&Jr(r,m),c;if(null===d){for(;m<a.length;m++)null!==(d=p(r,a[m],l))&&(o=s(d,o,m),null===u?c=d:u.sibling=d,u=d);return ro&&Jr(r,m),c}for(d=i(r,d);m<a.length;m++)null!==(y=f(d,r,m,a[m],l))&&(t&&null!==y.alternate&&d.delete(null===y.key?m:y.key),o=s(y,o,m),null===u?c=y:u.sibling=y,u=y);return t&&d.forEach(function(t){return e(r,t)}),ro&&Jr(r,m),c}function y(r,a,l,c){var u=D(l);if("function"!=typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=a,y=a=0,x=null,g=l.next();null!==m&&!g.done;y++,g=l.next()){m.index>y?(x=m,m=null):x=m.sibling;var v=h(r,m,g.value,c);if(null===v){null===m&&(m=x);break}t&&m&&null===v.alternate&&e(r,m),a=s(v,a,y),null===d?u=v:d.sibling=v,d=v,m=x}if(g.done)return n(r,m),ro&&Jr(r,y),u;if(null===m){for(;!g.done;y++,g=l.next())null!==(g=p(r,g.value,c))&&(a=s(g,a,y),null===d?u=g:d.sibling=g,d=g);return ro&&Jr(r,y),u}for(m=i(r,m);!g.done;y++,g=l.next())null!==(g=f(m,r,y,g.value,c))&&(t&&null!==g.alternate&&m.delete(null===g.key?y:g.key),a=s(g,a,y),null===d?u=g:d.sibling=g,d=g);return t&&m.forEach(function(t){return e(r,t)}),ro&&Jr(r,y),u}return function t(i,o,s,l){if("object"==typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"==typeof s&&null!==s){switch(s.$$typeof){case z:t:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===S){if(7===u.tag){n(i,u.sibling),(o=r(u,s.props.children)).return=i,i=o;break t}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===L&&vo(c)===u.type){n(i,u.sibling),(o=r(u,s.props)).ref=xo(i,u,s),o.return=i,i=o;break t}n(i,u);break}e(i,u),u=u.sibling}s.type===S?((o=Dc(s.props.children,i.mode,l,s.key)).return=i,i=o):((l=Nc(s.type,s.key,s.props,null,i.mode,l)).ref=xo(i,o,s),l.return=i,i=l)}return a(i);case b:t:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(i,o.sibling),(o=r(o,s.children||[])).return=i,i=o;break t}n(i,o);break}e(i,o),o=o.sibling}(o=kc(s,i.mode,l)).return=i,i=o}return a(i);case L:return t(i,o,(u=s._init)(s._payload),l)}if(et(s))return m(i,o,s,l);if(D(s))return y(i,o,s,l);go(i,s)}return"string"==typeof s&&""!==s||"number"==typeof s?(s=""+s,null!==o&&6===o.tag?(n(i,o.sibling),(o=r(o,s)).return=i,i=o):(n(i,o),(o=Oc(s,i.mode,l)).return=i,i=o),a(i)):n(i,o)}}var zo=_o(!0),bo=_o(!1),So=Mr(null),Mo=null,Eo=null,wo=null;function To(){wo=Eo=Mo=null}function Ao(t){var e=So.current;Er(So),t._currentValue=e}function Ro(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Co(t,e){Mo=t,wo=Eo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(va=!0),t.firstContext=null)}function Po(t){var e=t._currentValue;if(wo!==t)if(t={context:t,memoizedValue:e,next:null},null===Eo){if(null===Mo)throw Error(o(308));Eo=t,Mo.dependencies={lanes:0,firstContext:t}}else Eo=Eo.next=t;return e}var Lo=null;function Io(t){null===Lo?Lo=[t]:Lo.push(t)}function No(t,e,n,i){var r=e.interleaved;return null===r?(n.next=n,Io(e)):(n.next=r.next,r.next=n),e.interleaved=n,Do(t,i)}function Do(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Uo=!1;function Oo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ko(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bo(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,2&Al){var r=i.pending;return null===r?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Do(t,n)}return null===(r=i.interleaved)?(e.next=e,Io(i)):(e.next=r.next,r.next=e),i.interleaved=e,Do(t,n)}function Ho(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,4194240&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ge(t,n)}}function Vo(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?r=o=e:o=o.next=e}else r=o=e;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Go(t,e,n,i){var r=t.updateQueue;Uo=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=t.alternate;null!==u&&(a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l)}if(null!==o){var d=r.baseState;for(s=0,u=c=l=null,a=o;;){var p=a.lane,h=a.eventTime;if((i&p)===p){null!==u&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var f=t,m=a;switch(p=e,h=n,m.tag){case 1:if("function"==typeof(f=m.payload)){d=f.call(h,d,p);break t}d=f;break t;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(p="function"==typeof(f=m.payload)?f.call(h,d,p):f))break t;d=O({},d,p);break t;case 2:Uo=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(p=r.effects)?r.effects=[a]:p.push(a))}else h={eventTime:h,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=h,l=d):u=u.next=h,s|=p;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(p=a).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}if(null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(e=r.shared.interleaved)){r=e;do{s|=r.lane,r=r.next}while(r!==e)}else null===o&&(r.shared.lanes=0);Ul|=s,t.lanes=s,t.memoizedState=d}}function Wo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!=typeof r)throw Error(o(191,r));r.call(i)}}}var jo={},Xo=Mr(jo),qo=Mr(jo),Yo=Mr(jo);function Ko(t){if(t===jo)throw Error(o(174));return t}function Zo(t,e){switch(wr(Yo,e),wr(qo,t),wr(Xo,jo),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Er(Xo),wr(Xo,e)}function $o(){Er(Xo),Er(qo),Er(Yo)}function Jo(t){Ko(Yo.current);var e=Ko(Xo.current),n=lt(e,t.type);e!==n&&(wr(qo,t),wr(Xo,n))}function Qo(t){qo.current===t&&(Er(Xo),Er(qo))}var ts=Mr(0);function es(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(128&e.flags)return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ns=[];function is(){for(var t=0;t<ns.length;t++)ns[t]._workInProgressVersionPrimary=null;ns.length=0}var rs=_.ReactCurrentDispatcher,os=_.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,ds=!1,ps=0,hs=0;function fs(){throw Error(o(321))}function ms(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ai(t[n],e[n]))return!1;return!0}function ys(t,e,n,i,r,s){if(ss=s,as=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rs.current=null===t||null===t.memoizedState?Qs:ta,t=n(i,r),ds){s=0;do{if(ds=!1,ps=0,25<=s)throw Error(o(301));s+=1,cs=ls=null,e.updateQueue=null,rs.current=ea,t=n(i,r)}while(ds)}if(rs.current=Js,e=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,e)throw Error(o(300));return t}function xs(){var t=0!==ps;return ps=0,t}function gs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=t:cs=cs.next=t,cs}function vs(){if(null===ls){var t=as.alternate;t=null!==t?t.memoizedState:null}else t=ls.next;var e=null===cs?as.memoizedState:cs.next;if(null!==e)cs=e,ls=t;else{if(null===t)throw Error(o(310));t={memoizedState:(ls=t).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=t:cs=cs.next=t}return cs}function _s(t,e){return"function"==typeof e?e(t):e}function zs(t){var e=vs(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var i=ls,r=i.baseQueue,s=n.pending;if(null!==s){if(null!==r){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,n.pending=null}if(null!==r){s=r.next,i=i.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=p,a=i):c=c.next=p,as.lanes|=d,Ul|=d}u=u.next}while(null!==u&&u!==s);null===c?a=i:c.next=l,ai(i,e.memoizedState)||(va=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=c,n.lastRenderedState=i}if(null!==(t=n.interleaved)){r=t;do{s=r.lane,as.lanes|=s,Ul|=s,r=r.next}while(r!==t)}else null===r&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bs(t){var e=vs(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{s=t(s,a.action),a=a.next}while(a!==r);ai(s,e.memoizedState)||(va=!0),e.memoizedState=s,null===e.baseQueue&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function Ss(){}function Ms(t,e){var n=as,i=vs(),r=e(),s=!ai(i.memoizedState,r);if(s&&(i.memoizedState=r,va=!0),i=i.queue,Us(Ts.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Ps(9,ws.bind(null,n,i,r,e),void 0,null),null===Rl)throw Error(o(349));30&ss||Es(n,e,r)}return r}function Es(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=as.updateQueue)?(e={lastEffect:null,stores:null},as.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function ws(t,e,n,i){e.value=n,e.getSnapshot=i,As(e)&&Rs(t)}function Ts(t,e,n){return n(function(){As(e)&&Rs(t)})}function As(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ai(t,n)}catch(t){return!0}}function Rs(t){var e=Do(t,1);null!==e&&nc(e,t,1,-1)}function Cs(t){var e=gs();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:t},e.queue=t,t=t.dispatch=Ys.bind(null,as,t),[e.memoizedState,t]}function Ps(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=as.updateQueue)?(e={lastEffect:null,stores:null},as.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Ls(){return vs().memoizedState}function Is(t,e,n,i){var r=gs();as.flags|=t,r.memoizedState=Ps(1|e,n,void 0,void 0===i?null:i)}function Ns(t,e,n,i){var r=vs();i=void 0===i?null:i;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==i&&ms(i,s.deps))return void(r.memoizedState=Ps(e,n,o,i))}as.flags|=t,r.memoizedState=Ps(1|e,n,o,i)}function Ds(t,e){return Is(8390656,8,t,e)}function Us(t,e){return Ns(2048,8,t,e)}function Os(t,e){return Ns(4,2,t,e)}function ks(t,e){return Ns(4,4,t,e)}function Fs(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Bs(t,e,n){return n=null!=n?n.concat([t]):null,Ns(4,4,Fs.bind(null,e,t),n)}function Hs(){}function Vs(t,e){var n=vs();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&ms(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Gs(t,e){var n=vs();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&ms(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Ws(t,e,n){return 21&ss?(ai(n,e)||(n=me(),as.lanes|=n,Ul|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,va=!0),t.memoizedState=n)}function js(t,e){var n=ve;ve=0!==n&&4>n?n:4,t(!0);var i=os.transition;os.transition={};try{t(!1),e()}finally{ve=n,os.transition=i}}function Xs(){return vs().memoizedState}function qs(t,e,n){var i=ec(t);n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Ks(t)?Zs(e,n):null!==(n=No(t,e,n,i))&&(nc(n,t,i,tc()),$s(n,e,i))}function Ys(t,e,n){var i=ec(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ks(t))Zs(e,r);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var s=e.lastRenderedState,a=o(s,n);if(r.hasEagerState=!0,r.eagerState=a,ai(a,s)){var l=e.interleaved;return null===l?(r.next=r,Io(e)):(r.next=l.next,l.next=r),void(e.interleaved=r)}}catch(t){}null!==(n=No(t,e,r,i))&&(nc(n,t,i,r=tc()),$s(n,e,i))}}function Ks(t){var e=t.alternate;return t===as||null!==e&&e===as}function Zs(t,e){ds=us=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $s(t,e,n){if(4194240&n){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ge(t,n)}}var Js={readContext:Po,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Qs={readContext:Po,useCallback:function(t,e){return gs().memoizedState=[t,void 0===e?null:e],t},useContext:Po,useEffect:Ds,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,Is(4194308,4,Fs.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Is(4194308,4,t,e)},useInsertionEffect:function(t,e){return Is(4,2,t,e)},useMemo:function(t,e){var n=gs();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=gs();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=qs.bind(null,as,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},gs().memoizedState=t},useState:Cs,useDebugValue:Hs,useDeferredValue:function(t){return gs().memoizedState=t},useTransition:function(){var t=Cs(!1),e=t[0];return t=js.bind(null,t[1]),gs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=as,r=gs();if(ro){if(void 0===n)throw Error(o(407));n=n()}else{if(n=e(),null===Rl)throw Error(o(349));30&ss||Es(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Ds(Ts.bind(null,i,s,t),[t]),i.flags|=2048,Ps(9,ws.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=gs(),e=Rl.identifierPrefix;if(ro){var n=$r;e=":"+e+"R"+(n=(Zr&~(1<<32-se(Zr)-1)).toString(32)+n),0<(n=ps++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=hs++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ta={readContext:Po,useCallback:Vs,useContext:Po,useEffect:Us,useImperativeHandle:Bs,useInsertionEffect:Os,useLayoutEffect:ks,useMemo:Gs,useReducer:zs,useRef:Ls,useState:function(){return zs(_s)},useDebugValue:Hs,useDeferredValue:function(t){return Ws(vs(),ls.memoizedState,t)},useTransition:function(){return[zs(_s)[0],vs().memoizedState]},useMutableSource:Ss,useSyncExternalStore:Ms,useId:Xs,unstable_isNewReconciler:!1},ea={readContext:Po,useCallback:Vs,useContext:Po,useEffect:Us,useImperativeHandle:Bs,useInsertionEffect:Os,useLayoutEffect:ks,useMemo:Gs,useReducer:bs,useRef:Ls,useState:function(){return bs(_s)},useDebugValue:Hs,useDeferredValue:function(t){var e=vs();return null===ls?e.memoizedState=t:Ws(e,ls.memoizedState,t)},useTransition:function(){return[bs(_s)[0],vs().memoizedState]},useMutableSource:Ss,useSyncExternalStore:Ms,useId:Xs,unstable_isNewReconciler:!1};function na(t,e){if(t&&t.defaultProps){for(var n in e=O({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function ia(t,e,n,i){n=null==(n=n(i,e=t.memoizedState))?e:O({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var ra={isMounted:function(t){return!!(t=t._reactInternals)&&Vt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=tc(),r=ec(t),o=Fo(i,r);o.payload=e,null!=n&&(o.callback=n),null!==(e=Bo(t,o,r))&&(nc(e,t,r,i),Ho(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=tc(),r=ec(t),o=Fo(i,r);o.tag=1,o.payload=e,null!=n&&(o.callback=n),null!==(e=Bo(t,o,r))&&(nc(e,t,r,i),Ho(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tc(),i=ec(t),r=Fo(n,i);r.tag=2,null!=e&&(r.callback=e),null!==(e=Bo(t,r,i))&&(nc(e,t,i,n),Ho(e,t,i))}};function oa(t,e,n,i,r,o,s){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,o,s):!(e.prototype&&e.prototype.isPureReactComponent&&li(n,i)&&li(r,o))}function sa(t,e,n){var i=!1,r=Tr,o=e.contextType;return"object"==typeof o&&null!==o?o=Po(o):(r=Lr(e)?Cr:Ar.current,o=(i=null!=(i=e.contextTypes))?Pr(t,r):Tr),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=ra,t.stateNode=e,e._reactInternals=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function aa(t,e,n,i){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&ra.enqueueReplaceState(e,e.state,null)}function la(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Oo(t);var o=e.contextType;"object"==typeof o&&null!==o?r.context=Po(o):(o=Lr(e)?Cr:Ar.current,r.context=Pr(t,o)),r.state=t.memoizedState,"function"==typeof(o=e.getDerivedStateFromProps)&&(ia(t,e,o,n),r.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(e=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&ra.enqueueReplaceState(r,r.state,null),Go(t,n,r,i),r.state=t.memoizedState),"function"==typeof r.componentDidMount&&(t.flags|=4194308)}function ca(t,e){try{var n="",i=e;do{n+=H(i),i=i.return}while(i);var r=n}catch(t){r="\nError generating stack: "+t.message+"\n"+t.stack}return{value:t,source:e,stack:r,digest:null}}function ua(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function da(t,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var pa="function"==typeof WeakMap?WeakMap:Map;function ha(t,e,n){(n=Fo(-1,n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Wl||(Wl=!0,jl=i),da(0,e)},n}function fa(t,e,n){(n=Fo(-1,n)).tag=3;var i=t.type.getDerivedStateFromError;if("function"==typeof i){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){da(0,e)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){da(0,e),"function"!=typeof i&&(null===Xl?Xl=new Set([this]):Xl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function ma(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new pa;var r=new Set;i.set(e,r)}else void 0===(r=i.get(e))&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=Ec.bind(null,t,e,n),e.then(t,t))}function ya(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function xa(t,e,n,i,r){return 1&t.mode?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Fo(-1,1)).tag=2,Bo(n,e,1))),n.lanes|=1),t)}var ga=_.ReactCurrentOwner,va=!1;function _a(t,e,n,i){e.child=null===t?bo(e,null,n,i):zo(e,t.child,n,i)}function za(t,e,n,i,r){n=n.render;var o=e.ref;return Co(e,r),i=ys(t,e,n,i,o,r),n=xs(),null===t||va?(ro&&n&&to(e),e.flags|=1,_a(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Wa(t,e,r))}function ba(t,e,n,i,r){if(null===t){var o=n.type;return"function"!=typeof o||Lc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Nc(n.type,null,i,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Sa(t,e,o,i,r))}if(o=t.child,0===(t.lanes&r)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:li)(s,i)&&t.ref===e.ref)return Wa(t,e,r)}return e.flags|=1,(t=Ic(o,i)).ref=e.ref,t.return=e,e.child=t}function Sa(t,e,n,i,r){if(null!==t){var o=t.memoizedProps;if(li(o,i)&&t.ref===e.ref){if(va=!1,e.pendingProps=i=o,0===(t.lanes&r))return e.lanes=t.lanes,Wa(t,e,r);131072&t.flags&&(va=!0)}}return wa(t,e,n,i,r)}function Ma(t,e,n){var i=e.pendingProps,r=i.children,o=null!==t?t.memoizedState:null;if("hidden"===i.mode)if(1&e.mode){if(!(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,wr(Il,Ll),Ll|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==o?o.baseLanes:n,wr(Il,Ll),Ll|=i}else e.memoizedState={baseLanes:0,cachePool:null,transitions:null},wr(Il,Ll),Ll|=n;else null!==o?(i=o.baseLanes|n,e.memoizedState=null):i=n,wr(Il,Ll),Ll|=i;return _a(t,e,r,n),e.child}function Ea(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wa(t,e,n,i,r){var o=Lr(n)?Cr:Ar.current;return o=Pr(e,o),Co(e,r),n=ys(t,e,n,i,o,r),i=xs(),null===t||va?(ro&&i&&to(e),e.flags|=1,_a(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Wa(t,e,r))}function Ta(t,e,n,i,r){if(Lr(n)){var o=!0;Ur(e)}else o=!1;if(Co(e,r),null===e.stateNode)Ga(t,e),sa(e,n,i),la(e,n,i,r),i=!0;else if(null===t){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;c="object"==typeof c&&null!==c?Po(c):Pr(e,c=Lr(n)?Cr:Ar.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==i||l!==c)&&aa(e,s,i,c),Uo=!1;var p=e.memoizedState;s.state=p,Go(e,i,s,r),l=e.memoizedState,a!==i||p!==l||Rr.current||Uo?("function"==typeof u&&(ia(e,n,u,i),l=e.memoizedState),(a=Uo||oa(e,n,a,i,p,l,c))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(e.flags|=4194308)):("function"==typeof s.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),s.props=i,s.state=l,s.context=c,i=a):("function"==typeof s.componentDidMount&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,ko(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:na(e.type,a),s.props=c,d=e.pendingProps,p=s.context,l="object"==typeof(l=n.contextType)&&null!==l?Po(l):Pr(e,l=Lr(n)?Cr:Ar.current);var h=n.getDerivedStateFromProps;(u="function"==typeof h||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==d||p!==l)&&aa(e,s,i,l),Uo=!1,p=e.memoizedState,s.state=p,Go(e,i,s,r);var f=e.memoizedState;a!==d||p!==f||Rr.current||Uo?("function"==typeof h&&(ia(e,n,h,i),f=e.memoizedState),(c=Uo||oa(e,n,c,i,p,f,l)||!1)?(u||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(i,f,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,f,l)),"function"==typeof s.componentDidUpdate&&(e.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=f),s.props=i,s.state=f,s.context=l,i=c):("function"!=typeof s.componentDidUpdate||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return Aa(t,e,n,i,o,r)}function Aa(t,e,n,i,r,o){Ea(t,e);var s=!!(128&e.flags);if(!i&&!s)return r&&Or(e,n,!1),Wa(t,e,o);i=e.stateNode,ga.current=e;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return e.flags|=1,null!==t&&s?(e.child=zo(e,t.child,null,o),e.child=zo(e,null,a,o)):_a(t,e,a,o),e.memoizedState=i.state,r&&Or(e,n,!0),e.child}function Ra(t){var e=t.stateNode;e.pendingContext?Nr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Nr(0,e.context,!1),Zo(t,e.containerInfo)}function Ca(t,e,n,i,r){return fo(),mo(r),e.flags|=256,_a(t,e,n,i),e.child}var Pa,La,Ia,Na,Da={dehydrated:null,treeContext:null,retryLane:0};function Ua(t){return{baseLanes:t,cachePool:null,transitions:null}}function Oa(t,e,n){var i,r=e.pendingProps,s=ts.current,a=!1,l=!!(128&e.flags);if((i=l)||(i=(null===t||null!==t.memoizedState)&&!!(2&s)),i?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(s|=1),wr(ts,1&s),null===t)return co(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(1&e.mode?"$!"===t.data?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,a?(r=e.mode,a=e.child,l={mode:"hidden",children:l},1&r||null===a?a=Uc(l,r,0,null):(a.childLanes=0,a.pendingProps=l),t=Dc(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Ua(n),e.memoizedState=Da,t):ka(e,l));if(null!==(s=t.memoizedState)&&null!==(i=s.dehydrated))return function(t,e,n,i,r,s,a){if(n)return 256&e.flags?(e.flags&=-257,Fa(t,e,a,i=ua(Error(o(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Uc({mode:"visible",children:i.children},r,0,null),(s=Dc(s,r,a,null)).flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,1&e.mode&&zo(e,t.child,null,a),e.child.memoizedState=Ua(a),e.memoizedState=Da,s);if(!(1&e.mode))return Fa(t,e,a,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Fa(t,e,a,i=ua(s=Error(o(419)),i,void 0))}if(l=0!==(a&t.childLanes),va||l){if(null!==(i=Rl)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|a))?0:r)&&r!==s.retryLane&&(s.retryLane=r,Do(t,r),nc(i,t,r,-1))}return mc(),Fa(t,e,a,i=ua(Error(o(421))))}return"$?"===r.data?(e.flags|=128,e.child=t.child,e=Tc.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,io=cr(r.nextSibling),no=e,ro=!0,oo=null,null!==t&&(qr[Yr++]=Zr,qr[Yr++]=$r,qr[Yr++]=Kr,Zr=t.id,$r=t.overflow,Kr=e),(e=ka(e,i.children)).flags|=4096,e)}(t,e,l,r,i,s,n);if(a){a=r.fallback,l=e.mode,i=(s=t.child).sibling;var c={mode:"hidden",children:r.children};return 1&l||e.child===s?(r=Ic(s,c)).subtreeFlags=14680064&s.subtreeFlags:((r=e.child).childLanes=0,r.pendingProps=c,e.deletions=null),null!==i?a=Ic(i,a):(a=Dc(a,l,n,null)).flags|=2,a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,l=null===(l=t.child.memoizedState)?Ua(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=Da,r}return t=(a=t.child).sibling,r=Ic(a,{mode:"visible",children:r.children}),!(1&e.mode)&&(r.lanes=n),r.return=e,r.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ka(t,e){return(e=Uc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Fa(t,e,n,i){return null!==i&&mo(i),zo(e,t.child,null,n),(t=ka(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Ba(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),Ro(t.return,e,n)}function Ha(t,e,n,i,r){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function Va(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(_a(t,e,i.children,n),2&(i=ts.current))i=1&i|2,e.flags|=128;else{if(null!==t&&128&t.flags)t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ba(t,n,e);else if(19===t.tag)Ba(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(wr(ts,i),1&e.mode)switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===es(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Ha(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===es(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Ha(e,!0,n,null,o);break;case"together":Ha(e,!1,null,null,void 0);break;default:e.memoizedState=null}else e.memoizedState=null;return e.child}function Ga(t,e){!(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wa(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Ul|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=Ic(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Ic(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function ja(t,e){if(!ro)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Xa(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function qa(t,e,n){var i=e.pendingProps;switch(eo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xa(e),null;case 1:case 17:return Lr(e.type)&&Ir(),Xa(e),null;case 3:return i=e.stateNode,$o(),Er(Rr),Er(Ar),is(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||(po(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&!(256&e.flags)||(e.flags|=1024,null!==oo&&(sc(oo),oo=null))),La(t,e),Xa(e),null;case 5:Qo(e);var r=Ko(Yo.current);if(n=e.type,null!==t&&null!=e.stateNode)Ia(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(null===e.stateNode)throw Error(o(166));return Xa(e),null}if(t=Ko(Xo.current),po(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[pr]=e,i[hr]=s,t=!!(1&e.mode),n){case"dialog":Fi("cancel",i),Fi("close",i);break;case"iframe":case"object":case"embed":Fi("load",i);break;case"video":case"audio":for(r=0;r<Di.length;r++)Fi(Di[r],i);break;case"source":Fi("error",i);break;case"img":case"image":case"link":Fi("error",i),Fi("load",i);break;case"details":Fi("toggle",i);break;case"input":Z(i,s),Fi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Fi("invalid",i);break;case"textarea":rt(i,s),Fi("invalid",i)}for(var l in gt(n,s),r=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"==typeof c?i.textContent!==c&&(!0!==s.suppressHydrationWarning&&Ji(i.textContent,c,t),r=["children",c]):"number"==typeof c&&i.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Ji(i.textContent,c,t),r=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fi("scroll",i)}switch(n){case"input":X(i),Q(i,s,!0);break;case"textarea":X(i),st(i);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(i.onclick=Qi)}i=r,e.updateQueue=i,null!==i&&(e.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof i.is?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),"select"===n&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[pr]=e,t[hr]=i,Pa(t,e,!1,!1),e.stateNode=t;t:{switch(l=vt(n,i),n){case"dialog":Fi("cancel",t),Fi("close",t),r=i;break;case"iframe":case"object":case"embed":Fi("load",t),r=i;break;case"video":case"audio":for(r=0;r<Di.length;r++)Fi(Di[r],t);r=i;break;case"source":Fi("error",t),r=i;break;case"img":case"image":case"link":Fi("error",t),Fi("load",t),r=i;break;case"details":Fi("toggle",t),r=i;break;case"input":Z(t,i),r=K(t,i),Fi("invalid",t);break;case"option":default:r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=O({},i,{value:void 0}),Fi("invalid",t);break;case"textarea":rt(t,i),r=it(t,i),Fi("invalid",t)}for(s in gt(n,r),c=r)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?yt(t,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&dt(t,u):"children"===s?"string"==typeof u?("textarea"!==n||""!==u)&&pt(t,u):"number"==typeof u&&pt(t,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Fi("scroll",t):null!=u&&v(t,s,u,l))}switch(n){case"input":X(t),Q(t,i,!1);break;case"textarea":X(t),st(t);break;case"option":null!=i.value&&t.setAttribute("value",""+W(i.value));break;case"select":t.multiple=!!i.multiple,null!=(s=i.value)?nt(t,!!i.multiple,s,!1):null!=i.defaultValue&&nt(t,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof r.onClick&&(t.onclick=Qi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Xa(e),null;case 6:if(t&&null!=e.stateNode)Na(t,e,t.memoizedProps,i);else{if("string"!=typeof i&&null===e.stateNode)throw Error(o(166));if(n=Ko(Yo.current),Ko(Xo.current),po(e)){if(i=e.stateNode,n=e.memoizedProps,i[pr]=e,(s=i.nodeValue!==n)&&null!==(t=no))switch(t.tag){case 3:Ji(i.nodeValue,n,!!(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,!!(1&t.mode))}s&&(e.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[pr]=e,e.stateNode=i}return Xa(e),null;case 13:if(Er(ts),i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(ro&&null!==io&&1&e.mode&&!(128&e.flags))ho(),fo(),e.flags|=98560,s=!1;else if(s=po(e),null!==i&&null!==i.dehydrated){if(null===t){if(!s)throw Error(o(318));if(!(s=null!==(s=e.memoizedState)?s.dehydrated:null))throw Error(o(317));s[pr]=e}else fo(),!(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Xa(e),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&e.flags?e:null}return 128&e.flags?(e.lanes=n,e):((i=null!==i)!=(null!==t&&null!==t.memoizedState)&&i&&(e.child.flags|=8192,1&e.mode&&(null===t||1&ts.current?0===Nl&&(Nl=3):mc())),null!==e.updateQueue&&(e.flags|=4),Xa(e),null);case 4:return $o(),La(t,e),null===t&&Vi(e.stateNode.containerInfo),Xa(e),null;case 10:return Ao(e.type._context),Xa(e),null;case 19:if(Er(ts),null===(s=e.memoizedState))return Xa(e),null;if(i=!!(128&e.flags),null===(l=s.rendering))if(i)ja(s,!1);else{if(0!==Nl||null!==t&&128&t.flags)for(t=e.child;null!==t;){if(null!==(l=es(t))){for(e.flags|=128,ja(s,!1),null!==(i=l.updateQueue)&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;null!==n;)t=i,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,t=l.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return wr(ts,1&ts.current|2),e.child}t=t.sibling}null!==s.tail&&$t()>Vl&&(e.flags|=128,i=!0,ja(s,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=es(l))){if(e.flags|=128,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),ja(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ro)return Xa(e),null}else 2*$t()-s.renderingStartTime>Vl&&1073741824!==n&&(e.flags|=128,i=!0,ja(s,!1),e.lanes=4194304);s.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=s.last)?n.sibling=l:e.child=l,s.last=l)}return null!==s.tail?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=$t(),e.sibling=null,n=ts.current,wr(ts,i?1&n|2:1&n),e):(Xa(e),null);case 22:case 23:return dc(),i=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==i&&(e.flags|=8192),i&&1&e.mode?!!(1073741824&Ll)&&(Xa(e),6&e.subtreeFlags&&(e.flags|=8192)):Xa(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}function Ya(t,e){switch(eo(e),e.tag){case 1:return Lr(e.type)&&Ir(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return $o(),Er(Rr),Er(Ar),is(),65536&(t=e.flags)&&!(128&t)?(e.flags=-65537&t|128,e):null;case 5:return Qo(e),null;case 13:if(Er(ts),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));fo()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Er(ts),null;case 4:return $o(),null;case 10:return Ao(e.type._context),null;case 22:case 23:return dc(),null;default:return null}}Pa=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},La=function(){},Ia=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Ko(Xo.current);var o,s=null;switch(n){case"input":r=K(t,r),i=K(t,i),s=[];break;case"select":r=O({},r,{value:void 0}),i=O({},i,{value:void 0}),s=[];break;case"textarea":r=it(t,r),i=it(t,i),s=[];break;default:"function"!=typeof r.onClick&&"function"==typeof i.onClick&&(t.onclick=Qi)}for(u in gt(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fi("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}},Na=function(t,e,n,i){n!==i&&(e.flags|=4)};var Ka=!1,Za=!1,$a="function"==typeof WeakSet?WeakSet:Set,Ja=null;function Qa(t,e){var n=t.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Mc(t,e,n)}else n.current=null}function tl(t,e,n){try{n()}catch(n){Mc(t,e,n)}}var el=!1;function nl(t,e,n){var i=e.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,void 0!==o&&tl(e,n,o)}r=r.next}while(r!==i)}}function il(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function rl(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"==typeof e?e(t):e.current=t}}function ol(t){var e=t.alternate;null!==e&&(t.alternate=null,ol(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(e=t.stateNode)&&(delete e[pr],delete e[hr],delete e[mr],delete e[yr],delete e[xr]),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sl(t){return 5===t.tag||3===t.tag||4===t.tag}function al(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||sl(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ll(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!=(n=n._reactRootContainer)||null!==e.onclick||(e.onclick=Qi));else if(4!==i&&null!==(t=t.child))for(ll(t,e,n),t=t.sibling;null!==t;)ll(t,e,n),t=t.sibling}function cl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}var ul=null,dl=!1;function pl(t,e,n){for(n=n.child;null!==n;)hl(t,e,n),n=n.sibling}function hl(t,e,n){if(oe&&"function"==typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(re,n)}catch(t){}switch(n.tag){case 5:Za||Qa(n,e);case 6:var i=ul,r=dl;ul=null,pl(t,e,n),dl=r,null!==(ul=i)&&(dl?(t=ul,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(t=ul,n=n.stateNode,8===t.nodeType?lr(t.parentNode,n):1===t.nodeType&&lr(t,n),Ve(t)):lr(ul,n.stateNode));break;case 4:i=ul,r=dl,ul=n.stateNode.containerInfo,dl=!0,pl(t,e,n),ul=i,dl=r;break;case 0:case 11:case 14:case 15:if(!Za&&null!==(i=n.updateQueue)&&null!==(i=i.lastEffect)){r=i=i.next;do{var o=r,s=o.destroy;o=o.tag,void 0!==s&&(2&o||4&o)&&tl(n,e,s),r=r.next}while(r!==i)}pl(t,e,n);break;case 1:if(!Za&&(Qa(n,e),"function"==typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(t){Mc(n,e,t)}pl(t,e,n);break;case 21:pl(t,e,n);break;case 22:1&n.mode?(Za=(i=Za)||null!==n.memoizedState,pl(t,e,n),Za=i):pl(t,e,n);break;default:pl(t,e,n)}}function fl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new $a),e.forEach(function(e){var i=Ac.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))})}}function ml(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,a=e,l=a;t:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break t;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break t}l=l.return}if(null===ul)throw Error(o(160));hl(s,a,r),ul=null,dl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(t){Mc(r,e,t)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)yl(e,t),e=e.sibling}function yl(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ml(e,t),xl(t),4&i){try{nl(3,t,t.return),il(3,t)}catch(e){Mc(t,t.return,e)}try{nl(5,t,t.return)}catch(e){Mc(t,t.return,e)}}break;case 1:ml(e,t),xl(t),512&i&&null!==n&&Qa(n,n.return);break;case 5:if(ml(e,t),xl(t),512&i&&null!==n&&Qa(n,n.return),32&t.flags){var r=t.stateNode;try{pt(r,"")}catch(e){Mc(t,t.return,e)}}if(4&i&&null!=(r=t.stateNode)){var s=t.memoizedProps,a=null!==n?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&$(r,s),vt(l,a);var u=vt(l,s);for(a=0;a<c.length;a+=2){var d=c[a],p=c[a+1];"style"===d?yt(r,p):"dangerouslySetInnerHTML"===d?dt(r,p):"children"===d?pt(r,p):v(r,d,p,u)}switch(l){case"input":J(r,s);break;case"textarea":ot(r,s);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?nt(r,!!s.multiple,f,!1):h!==!!s.multiple&&(null!=s.defaultValue?nt(r,!!s.multiple,s.defaultValue,!0):nt(r,!!s.multiple,s.multiple?[]:"",!1))}r[hr]=s}catch(e){Mc(t,t.return,e)}}break;case 6:if(ml(e,t),xl(t),4&i){if(null===t.stateNode)throw Error(o(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(e){Mc(t,t.return,e)}}break;case 3:if(ml(e,t),xl(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ve(e.containerInfo)}catch(e){Mc(t,t.return,e)}break;case 4:default:ml(e,t),xl(t);break;case 13:ml(e,t),xl(t),8192&(r=t.child).flags&&(s=null!==r.memoizedState,r.stateNode.isHidden=s,!s||null!==r.alternate&&null!==r.alternate.memoizedState||(Hl=$t())),4&i&&fl(t);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&t.mode?(Za=(u=Za)||d,ml(e,t),Za=u):ml(e,t),xl(t),8192&i){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!d&&1&t.mode)for(Ja=t,d=t.child;null!==d;){for(p=Ja=d;null!==Ja;){switch(f=(h=Ja).child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:Qa(h,h.return);var m=h.stateNode;if("function"==typeof m.componentWillUnmount){i=h,n=h.return;try{e=i,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(t){Mc(i,n,t)}}break;case 5:Qa(h,h.return);break;case 22:if(null!==h.memoizedState){zl(p);continue}}null!==f?(f.return=h,Ja=f):zl(p)}d=d.sibling}t:for(d=null,p=t;;){if(5===p.tag){if(null===d){d=p;try{r=p.stateNode,u?"function"==typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=p.stateNode,a=null!=(c=p.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=mt("display",a))}catch(e){Mc(t,t.return,e)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(e){Mc(t,t.return,e)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===t)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===t)break t;for(;null===p.sibling;){if(null===p.return||p.return===t)break t;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ml(e,t),xl(t),4&i&&fl(t);case 21:}}function xl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(sl(n)){var i=n;break t}n=n.return}throw Error(o(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(pt(r,""),i.flags&=-33),cl(t,al(t),r);break;case 3:case 4:var s=i.stateNode.containerInfo;ll(t,al(t),s);break;default:throw Error(o(161))}}catch(e){Mc(t,t.return,e)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function gl(t,e,n){Ja=t,vl(t,e,n)}function vl(t,e,n){for(var i=!!(1&t.mode);null!==Ja;){var r=Ja,o=r.child;if(22===r.tag&&i){var s=null!==r.memoizedState||Ka;if(!s){var a=r.alternate,l=null!==a&&null!==a.memoizedState||Za;a=Ka;var c=Za;if(Ka=s,(Za=l)&&!c)for(Ja=r;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?bl(r):null!==l?(l.return=s,Ja=l):bl(r);for(;null!==o;)Ja=o,vl(o,e,n),o=o.sibling;Ja=r,Ka=a,Za=c}_l(t)}else 8772&r.subtreeFlags&&null!==o?(o.return=r,Ja=o):_l(t)}}function _l(t){for(;null!==Ja;){var e=Ja;if(8772&e.flags){var n=e.alternate;try{if(8772&e.flags)switch(e.tag){case 0:case 11:case 15:Za||il(5,e);break;case 1:var i=e.stateNode;if(4&e.flags&&!Za)if(null===n)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:na(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;null!==s&&Wo(e,s,i);break;case 3:var a=e.updateQueue;if(null!==a){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Wo(e,a,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Ve(p)}}}break;default:throw Error(o(163))}Za||512&e.flags&&rl(e)}catch(t){Mc(e,e.return,t)}}if(e===t){Ja=null;break}if(null!==(n=e.sibling)){n.return=e.return,Ja=n;break}Ja=e.return}}function zl(t){for(;null!==Ja;){var e=Ja;if(e===t){Ja=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Ja=n;break}Ja=e.return}}function bl(t){for(;null!==Ja;){var e=Ja;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{il(4,e)}catch(t){Mc(e,n,t)}break;case 1:var i=e.stateNode;if("function"==typeof i.componentDidMount){var r=e.return;try{i.componentDidMount()}catch(t){Mc(e,r,t)}}var o=e.return;try{rl(e)}catch(t){Mc(e,o,t)}break;case 5:var s=e.return;try{rl(e)}catch(t){Mc(e,s,t)}}}catch(t){Mc(e,e.return,t)}if(e===t){Ja=null;break}var a=e.sibling;if(null!==a){a.return=e.return,Ja=a;break}Ja=e.return}}var Sl,Ml=Math.ceil,El=_.ReactCurrentDispatcher,wl=_.ReactCurrentOwner,Tl=_.ReactCurrentBatchConfig,Al=0,Rl=null,Cl=null,Pl=0,Ll=0,Il=Mr(0),Nl=0,Dl=null,Ul=0,Ol=0,kl=0,Fl=null,Bl=null,Hl=0,Vl=1/0,Gl=null,Wl=!1,jl=null,Xl=null,ql=!1,Yl=null,Kl=0,Zl=0,$l=null,Jl=-1,Ql=0;function tc(){return 6&Al?$t():-1!==Jl?Jl:Jl=$t()}function ec(t){return 1&t.mode?2&Al&&0!==Pl?Pl&-Pl:null!==yo.transition?(0===Ql&&(Ql=me()),Ql):0!==(t=ve)?t:t=void 0===(t=window.event)?16:Ze(t.type):1}function nc(t,e,n,i){if(50<Zl)throw Zl=0,$l=null,Error(o(185));xe(t,n,i),2&Al&&t===Rl||(t===Rl&&(!(2&Al)&&(Ol|=n),4===Nl&&ac(t,Pl)),ic(t,i),1===n&&0===Al&&!(1&e.mode)&&(Vl=$t()+500,Fr&&Vr()))}function ic(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-se(o),a=1<<s,l=r[s];-1===l?0!==(a&n)&&0===(a&i)||(r[s]=he(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}(t,e);var i=pe(t,t===Rl?Pl:0);if(0===i)null!==n&&Yt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(null!=n&&Yt(n),1===e)0===t.tag?function(t){Fr=!0,Hr(t)}(lc.bind(null,t)):Hr(lc.bind(null,t)),sr(function(){!(6&Al)&&Vr()}),n=null;else{switch(_e(i)){case 1:n=Qt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=ie}n=Rc(n,rc.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rc(t,e){if(Jl=-1,Ql=0,6&Al)throw Error(o(327));var n=t.callbackNode;if(bc()&&t.callbackNode!==n)return null;var i=pe(t,t===Rl?Pl:0);if(0===i)return null;if(30&i||0!==(i&t.expiredLanes)||e)e=yc(t,i);else{e=i;var r=Al;Al|=2;var s=fc();for(Rl===t&&Pl===e||(Gl=null,Vl=$t()+500,pc(t,e));;)try{gc();break}catch(e){hc(t,e)}To(),El.current=s,Al=r,null!==Cl?e=0:(Rl=null,Pl=0,e=Nl)}if(0!==e){if(2===e&&0!==(r=fe(t))&&(i=r,e=oc(t,r)),1===e)throw n=Dl,pc(t,0),ac(t,i),ic(t,$t()),n;if(6===e)ac(t,i);else{if(r=t.current.alternate,!(30&i||function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!ai(o(),r))return!1}catch(t){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(r)||(e=yc(t,i),2===e&&(s=fe(t),0!==s&&(i=s,e=oc(t,s))),1!==e)))throw n=Dl,pc(t,0),ac(t,i),ic(t,$t()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(o(345));case 2:case 5:zc(t,Bl,Gl);break;case 3:if(ac(t,i),(130023424&i)===i&&10<(e=Hl+500-$t())){if(0!==pe(t,0))break;if(((r=t.suspendedLanes)&i)!==i){tc(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=ir(zc.bind(null,t,Bl,Gl),e);break}zc(t,Bl,Gl);break;case 4:if(ac(t,i),(4194240&i)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-se(i);s=1<<a,(a=e[a])>r&&(r=a),i&=~s}if(i=r,10<(i=(120>(i=$t()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Ml(i/1960))-i)){t.timeoutHandle=ir(zc.bind(null,t,Bl,Gl),i);break}zc(t,Bl,Gl);break;default:throw Error(o(329))}}}return ic(t,$t()),t.callbackNode===n?rc.bind(null,t):null}function oc(t,e){var n=Fl;return t.current.memoizedState.isDehydrated&&(pc(t,e).flags|=256),2!==(t=yc(t,e))&&(e=Bl,Bl=n,null!==e&&sc(e)),t}function sc(t){null===Bl?Bl=t:Bl.push.apply(Bl,t)}function ac(t,e){for(e&=~kl,e&=~Ol,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-se(e),i=1<<n;t[n]=-1,e&=~i}}function lc(t){if(6&Al)throw Error(o(327));bc();var e=pe(t,0);if(!(1&e))return ic(t,$t()),null;var n=yc(t,e);if(0!==t.tag&&2===n){var i=fe(t);0!==i&&(e=i,n=oc(t,i))}if(1===n)throw n=Dl,pc(t,0),ac(t,e),ic(t,$t()),n;if(6===n)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zc(t,Bl,Gl),ic(t,$t()),null}function cc(t,e){var n=Al;Al|=1;try{return t(e)}finally{0===(Al=n)&&(Vl=$t()+500,Fr&&Vr())}}function uc(t){null!==Yl&&0===Yl.tag&&!(6&Al)&&bc();var e=Al;Al|=1;var n=Tl.transition,i=ve;try{if(Tl.transition=null,ve=1,t)return t()}finally{ve=i,Tl.transition=n,!(6&(Al=e))&&Vr()}}function dc(){Ll=Il.current,Er(Il)}function pc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,rr(n)),null!==Cl)for(n=Cl.return;null!==n;){var i=n;switch(eo(i),i.tag){case 1:null!=(i=i.type.childContextTypes)&&Ir();break;case 3:$o(),Er(Rr),Er(Ar),is();break;case 5:Qo(i);break;case 4:$o();break;case 13:case 19:Er(ts);break;case 10:Ao(i.type._context);break;case 22:case 23:dc()}n=n.return}if(Rl=t,Cl=t=Ic(t.current,null),Pl=Ll=e,Nl=0,Dl=null,kl=Ol=Ul=0,Bl=Fl=null,null!==Lo){for(e=0;e<Lo.length;e++)if(null!==(i=(n=Lo[e]).interleaved)){n.interleaved=null;var r=i.next,o=n.pending;if(null!==o){var s=o.next;o.next=r,i.next=s}n.pending=i}Lo=null}return t}function hc(t,e){for(;;){var n=Cl;try{if(To(),rs.current=Js,us){for(var i=as.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}us=!1}if(ss=0,cs=ls=as=null,ds=!1,ps=0,wl.current=null,null===n||null===n.return){Nl=1,Dl=e,Cl=null;break}t:{var s=t,a=n.return,l=n,c=e;if(e=Pl,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,d=l,p=d.tag;if(!(1&d.mode||0!==p&&11!==p&&15!==p)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ya(a);if(null!==f){f.flags&=-257,xa(f,a,l,0,e),1&f.mode&&ma(s,u,e),c=u;var m=(e=f).updateQueue;if(null===m){var y=new Set;y.add(c),e.updateQueue=y}else m.add(c);break t}if(!(1&e)){ma(s,u,e),mc();break t}c=Error(o(426))}else if(ro&&1&l.mode){var x=ya(a);if(null!==x){!(65536&x.flags)&&(x.flags|=256),xa(x,a,l,0,e),mo(ca(c,l));break t}}s=c=ca(c,l),4!==Nl&&(Nl=2),null===Fl?Fl=[s]:Fl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e,Vo(s,ha(0,c,e));break t;case 1:l=c;var g=s.type,v=s.stateNode;if(!(128&s.flags||"function"!=typeof g.getDerivedStateFromError&&(null===v||"function"!=typeof v.componentDidCatch||null!==Xl&&Xl.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e,Vo(s,fa(s,l,e));break t}}s=s.return}while(null!==s)}_c(n)}catch(t){e=t,Cl===n&&null!==n&&(Cl=n=n.return);continue}break}}function fc(){var t=El.current;return El.current=Js,null===t?Js:t}function mc(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Rl||!(268435455&Ul)&&!(268435455&Ol)||ac(Rl,Pl)}function yc(t,e){var n=Al;Al|=2;var i=fc();for(Rl===t&&Pl===e||(Gl=null,pc(t,e));;)try{xc();break}catch(e){hc(t,e)}if(To(),Al=n,El.current=i,null!==Cl)throw Error(o(261));return Rl=null,Pl=0,Nl}function xc(){for(;null!==Cl;)vc(Cl)}function gc(){for(;null!==Cl&&!Kt();)vc(Cl)}function vc(t){var e=Sl(t.alternate,t,Ll);t.memoizedProps=t.pendingProps,null===e?_c(t):Cl=e,wl.current=null}function _c(t){var e=t;do{var n=e.alternate;if(t=e.return,32768&e.flags){if(null!==(n=Ya(n,e)))return n.flags&=32767,void(Cl=n);if(null===t)return Nl=6,void(Cl=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}else if(null!==(n=qa(n,e,Ll)))return void(Cl=n);if(null!==(e=e.sibling))return void(Cl=e);Cl=e=t}while(null!==e);0===Nl&&(Nl=5)}function zc(t,e,n){var i=ve,r=Tl.transition;try{Tl.transition=null,ve=1,function(t,e,n,i){do{bc()}while(null!==Yl);if(6&Al)throw Error(o(327));n=t.finishedWork;var r=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-se(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}(t,s),t===Rl&&(Cl=Rl=null,Pl=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||ql||(ql=!0,Rc(ee,function(){return bc(),null})),s=!!(15990&n.flags),15990&n.subtreeFlags||s){s=Tl.transition,Tl.transition=null;var a=ve;ve=1;var l=Al;Al|=4,wl.current=null,function(t,e){if(tr=We,hi(t=pi())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(t){n=null;break t}var a=0,l=-1,c=-1,u=0,d=0,p=t,h=null;e:for(;;){for(var f;p!==n||0!==r&&3!==p.nodeType||(l=a+r),p!==s||0!==i&&3!==p.nodeType||(c=a+i),3===p.nodeType&&(a+=p.nodeValue.length),null!==(f=p.firstChild);)h=p,p=f;for(;;){if(p===t)break e;if(h===n&&++u===r&&(l=a),h===s&&++d===i&&(c=a),null!==(f=p.nextSibling))break;h=(p=h).parentNode}p=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(er={focusedElem:t,selectionRange:n},We=!1,Ja=e;null!==Ja;)if(t=(e=Ja).child,1028&e.subtreeFlags&&null!==t)t.return=e,Ja=t;else for(;null!==Ja;){e=Ja;try{var m=e.alternate;if(1024&e.flags)switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var y=m.memoizedProps,x=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:na(e.type,y),x);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(t){Mc(e,e.return,t)}if(null!==(t=e.sibling)){t.return=e.return,Ja=t;break}Ja=e.return}m=el,el=!1}(t,n),yl(n,t),fi(er),We=!!tr,er=tr=null,t.current=n,gl(n,t,r),Zt(),Al=l,ve=a,Tl.transition=s}else t.current=n;if(ql&&(ql=!1,Yl=t,Kl=r),0===(s=t.pendingLanes)&&(Xl=null),function(t){if(oe&&"function"==typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(re,t,void 0,!(128&~t.current.flags))}catch(t){}}(n.stateNode),ic(t,$t()),null!==e)for(i=t.onRecoverableError,n=0;n<e.length;n++)i((r=e[n]).value,{componentStack:r.stack,digest:r.digest});if(Wl)throw Wl=!1,t=jl,jl=null,t;!!(1&Kl)&&0!==t.tag&&bc(),1&(s=t.pendingLanes)?t===$l?Zl++:(Zl=0,$l=t):Zl=0,Vr()}(t,e,n,i)}finally{Tl.transition=r,ve=i}return null}function bc(){if(null!==Yl){var t=_e(Kl),e=Tl.transition,n=ve;try{if(Tl.transition=null,ve=16>t?16:t,null===Yl)var i=!1;else{if(t=Yl,Yl=null,Kl=0,6&Al)throw Error(o(331));var r=Al;for(Al|=4,Ja=t.current;null!==Ja;){var s=Ja,a=s.child;if(16&Ja.flags){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var d=Ja;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var p=d.child;if(null!==p)p.return=d,Ja=p;else for(;null!==Ja;){var h=(d=Ja).sibling,f=d.return;if(ol(d),d===u){Ja=null;break}if(null!==h){h.return=f,Ja=h;break}Ja=f}}}var m=s.alternate;if(null!==m){var y=m.child;if(null!==y){m.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(null!==y)}}Ja=s}}if(2064&s.subtreeFlags&&null!==a)a.return=s,Ja=a;else t:for(;null!==Ja;){if(2048&(s=Ja).flags)switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var g=s.sibling;if(null!==g){g.return=s.return,Ja=g;break t}Ja=s.return}}var v=t.current;for(Ja=v;null!==Ja;){var _=(a=Ja).child;if(2064&a.subtreeFlags&&null!==_)_.return=a,Ja=_;else t:for(a=v;null!==Ja;){if(2048&(l=Ja).flags)try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(t){Mc(l,l.return,t)}if(l===a){Ja=null;break t}var z=l.sibling;if(null!==z){z.return=l.return,Ja=z;break t}Ja=l.return}}if(Al=r,Vr(),oe&&"function"==typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(re,t)}catch(t){}i=!0}return i}finally{ve=n,Tl.transition=e}}return!1}function Sc(t,e,n){t=Bo(t,e=ha(0,e=ca(n,e),1),1),e=tc(),null!==t&&(xe(t,1,e),ic(t,e))}function Mc(t,e,n){if(3===t.tag)Sc(t,t,n);else for(;null!==e;){if(3===e.tag){Sc(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"==typeof e.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Xl||!Xl.has(i))){e=Bo(e,t=fa(e,t=ca(n,t),1),1),t=tc(),null!==e&&(xe(e,1,t),ic(e,t));break}}e=e.return}}function Ec(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),e=tc(),t.pingedLanes|=t.suspendedLanes&n,Rl===t&&(Pl&n)===n&&(4===Nl||3===Nl&&(130023424&Pl)===Pl&&500>$t()-Hl?pc(t,0):kl|=n),ic(t,e)}function wc(t,e){0===e&&(1&t.mode?(e=ue,!(130023424&(ue<<=1))&&(ue=4194304)):e=1);var n=tc();null!==(t=Do(t,e))&&(xe(t,e,n),ic(t,n))}function Tc(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),wc(t,n)}function Ac(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(o(314))}null!==i&&i.delete(e),wc(t,n)}function Rc(t,e){return qt(t,e)}function Cc(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(t,e,n,i){return new Cc(t,e,n,i)}function Lc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ic(t,e){var n=t.alternate;return null===n?((n=Pc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nc(t,e,n,i,r,s){var a=2;if(i=t,"function"==typeof t)Lc(t)&&(a=1);else if("string"==typeof t)a=5;else t:switch(t){case S:return Dc(n.children,r,s,e);case M:a=8,r|=8;break;case E:return(t=Pc(12,n,e,2|r)).elementType=E,t.lanes=s,t;case R:return(t=Pc(13,n,e,r)).elementType=R,t.lanes=s,t;case C:return(t=Pc(19,n,e,r)).elementType=C,t.lanes=s,t;case I:return Uc(n,r,s,e);default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case w:a=10;break t;case T:a=9;break t;case A:a=11;break t;case P:a=14;break t;case L:a=16,i=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Pc(a,n,e,r)).elementType=t,e.type=i,e.lanes=s,e}function Dc(t,e,n,i){return(t=Pc(7,t,i,e)).lanes=n,t}function Uc(t,e,n,i){return(t=Pc(22,t,i,e)).elementType=I,t.lanes=n,t.stateNode={isHidden:!1},t}function Oc(t,e,n){return(t=Pc(6,t,null,e)).lanes=n,t}function kc(t,e,n){return(e=Pc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Fc(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ye(0),this.expirationTimes=ye(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ye(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Bc(t,e,n,i,r,o,s,a,l){return t=new Fc(t,e,n,a,l),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Pc(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oo(o),t}function Hc(t){if(!t)return Tr;t:{if(Vt(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Lr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var n=t.type;if(Lr(n))return Dr(t,n,e)}return e}function Vc(t,e,n,i,r,o,s,a,l){return(t=Bc(n,i,!0,t,0,o,0,a,l)).context=Hc(null),n=t.current,(o=Fo(i=tc(),r=ec(n))).callback=null!=e?e:null,Bo(n,o,r),t.current.lanes=r,xe(t,r,i),ic(t,i),t}function Gc(t,e,n,i){var r=e.current,o=tc(),s=ec(r);return n=Hc(n),null===e.context?e.context=n:e.pendingContext=n,(e=Fo(o,s)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),null!==(t=Bo(r,e,s))&&(nc(t,r,s,o),Ho(t,r,s)),s}function Wc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function jc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Xc(t,e){jc(t,e),(t=t.alternate)&&jc(t,e)}Sl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Rr.current)va=!0;else{if(0===(t.lanes&n)&&!(128&e.flags))return va=!1,function(t,e,n){switch(e.tag){case 3:Ra(e),fo();break;case 5:Jo(e);break;case 1:Lr(e.type)&&Ur(e);break;case 4:Zo(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;wr(So,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=e.memoizedState))return null!==i.dehydrated?(wr(ts,1&ts.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Oa(t,e,n):(wr(ts,1&ts.current),null!==(t=Wa(t,e,n))?t.sibling:null);wr(ts,1&ts.current);break;case 19:if(i=0!==(n&e.childLanes),128&t.flags){if(i)return Va(t,e,n);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),wr(ts,ts.current),i)break;return null;case 22:case 23:return e.lanes=0,Ma(t,e,n)}return Wa(t,e,n)}(t,e,n);va=!!(131072&t.flags)}else va=!1,ro&&1048576&e.flags&&Qr(e,Xr,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Ga(t,e),t=e.pendingProps;var r=Pr(e,Ar.current);Co(e,n),r=ys(null,e,i,t,r,n);var s=xs();return e.flags|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Lr(i)?(s=!0,Ur(e)):s=!1,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Oo(e),r.updater=ra,e.stateNode=r,r._reactInternals=e,la(e,i,t,n),e=Aa(null,e,i,!0,s,n)):(e.tag=0,ro&&s&&to(e),_a(null,e,r,n),e=e.child),e;case 16:i=e.elementType;t:{switch(Ga(t,e),t=e.pendingProps,i=(r=i._init)(i._payload),e.type=i,r=e.tag=function(t){if("function"==typeof t)return Lc(t)?1:0;if(null!=t){if((t=t.$$typeof)===A)return 11;if(t===P)return 14}return 2}(i),t=na(i,t),r){case 0:e=wa(null,e,i,t,n);break t;case 1:e=Ta(null,e,i,t,n);break t;case 11:e=za(null,e,i,t,n);break t;case 14:e=ba(null,e,i,na(i.type,t),n);break t}throw Error(o(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,wa(t,e,i,r=e.elementType===i?r:na(i,r),n);case 1:return i=e.type,r=e.pendingProps,Ta(t,e,i,r=e.elementType===i?r:na(i,r),n);case 3:t:{if(Ra(e),null===t)throw Error(o(387));i=e.pendingProps,r=(s=e.memoizedState).element,ko(t,e),Go(e,i,null,n);var a=e.memoizedState;if(i=a.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,256&e.flags){e=Ca(t,e,i,n,r=ca(Error(o(423)),e));break t}if(i!==r){e=Ca(t,e,i,n,r=ca(Error(o(424)),e));break t}for(io=cr(e.stateNode.containerInfo.firstChild),no=e,ro=!0,oo=null,n=bo(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),i===r){e=Wa(t,e,n);break t}_a(t,e,i,n)}e=e.child}return e;case 5:return Jo(e),null===t&&co(e),i=e.type,r=e.pendingProps,s=null!==t?t.memoizedProps:null,a=r.children,nr(i,r)?a=null:null!==s&&nr(i,s)&&(e.flags|=32),Ea(t,e),_a(t,e,a,n),e.child;case 6:return null===t&&co(e),null;case 13:return Oa(t,e,n);case 4:return Zo(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=zo(e,null,i,n):_a(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,za(t,e,i,r=e.elementType===i?r:na(i,r),n);case 7:return _a(t,e,e.pendingProps,n),e.child;case 8:case 12:return _a(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,a=r.value,wr(So,i._currentValue),i._currentValue=a,null!==s)if(ai(s.value,a)){if(s.children===r.children&&!Rr.current){e=Wa(t,e,n);break t}}else for(null!==(s=e.child)&&(s.return=e);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===s.tag){(c=Fo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ro(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===e.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ro(a,n,e),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===e){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}_a(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Co(e,n),i=i(r=Po(r)),e.flags|=1,_a(t,e,i,n),e.child;case 14:return r=na(i=e.type,e.pendingProps),ba(t,e,i,r=na(i.type,r),n);case 15:return Sa(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:na(i,r),Ga(t,e),e.tag=1,Lr(i)?(t=!0,Ur(e)):t=!1,Co(e,n),sa(e,i,r),la(e,i,r,n),Aa(null,e,i,!0,t,n);case 19:return Va(t,e,n);case 22:return Ma(t,e,n)}throw Error(o(156,e.tag))};var qc="function"==typeof reportError?reportError:function(t){console.error(t)};function Yc(t){this._internalRoot=t}function Kc(t){this._internalRoot=t}function Zc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function $c(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Jc(){}function Qc(t,e,n,i,r){var o=n._reactRootContainer;if(o){var s=o;if("function"==typeof r){var a=r;r=function(){var t=Wc(s);a.call(t)}}Gc(e,s,t,r)}else s=function(t,e,n,i,r){if(r){if("function"==typeof i){var o=i;i=function(){var t=Wc(s);o.call(t)}}var s=Vc(e,i,t,0,null,!1,0,"",Jc);return t._reactRootContainer=s,t[fr]=s.current,Vi(8===t.nodeType?t.parentNode:t),uc(),s}for(;r=t.lastChild;)t.removeChild(r);if("function"==typeof i){var a=i;i=function(){var t=Wc(l);a.call(t)}}var l=Bc(t,0,!1,null,0,!1,0,"",Jc);return t._reactRootContainer=l,t[fr]=l.current,Vi(8===t.nodeType?t.parentNode:t),uc(function(){Gc(e,l,n,i)}),l}(n,e,t,r,i);return Wc(s)}Kc.prototype.render=Yc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));Gc(t,e,null,null)},Kc.prototype.unmount=Yc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;uc(function(){Gc(null,t,null,null)}),e[fr]=null}},Kc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Me();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ie.length&&0!==e&&e<Ie[n].priority;n++);Ie.splice(n,0,t),0===n&&Oe(t)}},ze=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=de(e.pendingLanes);0!==n&&(ge(e,1|n),ic(e,$t()),!(6&Al)&&(Vl=$t()+500,Vr()))}break;case 13:uc(function(){var e=Do(t,1);if(null!==e){var n=tc();nc(e,t,1,n)}}),Xc(t,1)}},be=function(t){if(13===t.tag){var e=Do(t,134217728);null!==e&&nc(e,t,134217728,tc()),Xc(t,134217728)}},Se=function(t){if(13===t.tag){var e=ec(t),n=Do(t,e);null!==n&&nc(n,t,e,tc()),Xc(t,e)}},Me=function(){return ve},Ee=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}},bt=function(t,e,n){switch(e){case"input":if(J(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=zr(i);if(!r)throw Error(o(90));q(i),J(i,r)}}}break;case"textarea":ot(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},At=cc,Rt=uc;var tu={usingClientEntryPoint:!1,Events:[vr,_r,zr,wt,Tt,cc]},eu={findFiberByHostInstance:gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=jt(t))?null:t.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{re=iu.inject(nu),oe=iu}catch(ut){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(e))throw Error(o(200));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:b,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Zc(t))throw Error(o(299));var n=!1,i="",r=qc;return null!=e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onRecoverableError&&(r=e.onRecoverableError)),e=Bc(t,1,!1,null,0,n,0,i,r),t[fr]=e.current,Vi(8===t.nodeType?t.parentNode:t),new Yc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"==typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return null===(t=jt(e))?null:t.stateNode},e.flushSync=function(t){return uc(t)},e.hydrate=function(t,e,n){if(!$c(e))throw Error(o(200));return Qc(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Zc(t))throw Error(o(405));var i=null!=n&&n.hydratedSources||null,r=!1,s="",a=qc;if(null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),e=Vc(e,null,t,1,null!=n?n:null,r,0,s,a),t[fr]=e.current,Vi(t),i)for(t=0;t<i.length;t++)r=(r=(n=i[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Kc(e)},e.render=function(t,e,n){if(!$c(e))throw Error(o(200));return Qc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!$c(t))throw Error(o(40));return!!t._reactRootContainer&&(uc(function(){Qc(null,null,t,!1,function(){t._reactRootContainer=null,t[fr]=null})}),!0)},e.unstable_batchedUpdates=cc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!$c(n))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return Qc(t,e,n,!1,i)},e.version="18.3.1-next-f1338f8080-20240426"},601:t=>{t.exports=function(t){return t[1]}},628:(t,e,n)=>{n.d(e,{A:()=>a});var i=n(601),r=n.n(i),o=n(314),s=n.n(o)()(r());s.push([t.id,"/* Checkpoint Modal Styles */\n.checkpoint-modal-overlay {\n  position: fixed;\n  inset: 0;\n  background: rgba(10, 14, 26, 0.65);\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.checkpoint-modal {\n  background: #fff;\n  border-radius: 18px;\n  box-shadow: 0 8px 40px #0004;\n  padding: 2.2rem 2.5rem 1.5rem 2.5rem;\n  min-width: 320px;\n  max-width: 90vw;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n}\n.checkpoint-modal h2 {\n  margin: 0 0 1.2rem 0;\n  color: #2b6cff;\n  font-size: 1.3rem;\n  font-weight: 700;\n  text-align: center;\n}\n.checkpoint-title {\n  font-size: 1.1rem;\n  padding: 0.7rem 1rem;\n  border-radius: 8px;\n  border: 1.5px solid #b3c6ff;\n  margin-bottom: 1rem;\n}\n.checkpoint-comment {\n  font-size: 1rem;\n  padding: 0.7rem 1rem;\n  border-radius: 8px;\n  border: 1.5px solid #e0e6ff;\n  min-height: 60px;\n  margin-bottom: 1.2rem;\n  resize: vertical;\n}\n.checkpoint-modal-actions {\n  display: flex;\n  gap: 1rem;\n  justify-content: flex-end;\n}\n.checkpoint-modal-actions button {\n  background: #2b6cff;\n  color: #fff;\n  border: none;\n  border-radius: 8px;\n  padding: 0.6rem 1.2rem;\n  font-size: 1rem;\n  cursor: pointer;\n  transition: background 0.2s;\n}\n.checkpoint-modal-actions button:last-child {\n  background: #e0e6ff;\n  color: #2b6cff;\n}\n.enter-icon {\n  width: 38px;\n  height: 38px;\n  object-fit: contain;\n  user-select: none;\n  pointer-events: none;\n  transition: none;\n  filter: none;\n}\n.enter-icon-border {\n  border-radius: 50%;\n  border: 2.5px solid #fff;\n  background: #fff;\n  box-shadow: 0 2px 8px #b3c6ff22;\n}\n/* Global UI styles */\n.app-root { position: relative; width: 100%; height: 100%; }\n\n.title-intro { position: absolute; inset: 0; display: grid; place-items: center; text-align: center; color: #e6edf3; pointer-events: none; z-index: 2; }\n.title-glow { position: absolute; inset: 0; background: radial-gradient(1200px 600px at 50% 60%, rgba(102,153,255,0.08), rgba(0,0,0,0)); filter: blur(10px); }\n.title-text { font-size: clamp(2.5rem, 6vw, 5rem); letter-spacing: 0.06em; text-transform: uppercase; text-shadow: 0 10px 40px rgba(50,120,255,0.25); margin-bottom: 1rem; }\n.title-char { display: inline-block; will-change: transform, opacity; }\n.title-space { display: inline-block; width: 0.5ch; }\n/* 3D Perspective Enter Button */\n.enter-btn {\n  width: 72px;\n  height: 72px;\n  border-radius: 50%;\n  background: white;\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow:\n    0 0 0 0 rgba(255,255,255,0.7),\n    0 8px 32px rgba(0,0,0,0.18),\n    0 16px 40px 0 rgba(50,120,255,0.10),\n    0 1.5px 0 0 #e0e6ff inset;\n  cursor: pointer;\n  pointer-events: auto;\n  transition: box-shadow 0.3s, transform 0.2s, filter 0.2s;\n  position: relative;\n  z-index: 2;\n  padding: 0;\n  outline: none;\n  perspective: 400px;\n  transform-style: preserve-3d;\n  filter: drop-shadow(0 2px 16px #b3c6ff88);\n}\n.enter-btn:hover {\n  transform: rotateX(18deg) scale(1.04) perspective(400px);\n  box-shadow:\n    0 0 0 0 rgba(255,255,255,0.7),\n    0 16px 48px rgba(50,120,255,0.18),\n    0 32px 80px 0 rgba(50,120,255,0.13),\n    0 1.5px 0 0 #e0e6ff inset;\n  filter: brightness(1.08) drop-shadow(0 4px 24px #b3c6ffcc);\n}\n.enter-btn svg {\n  display: block;\n  width: 38px;\n  height: 38px;\n}\n.enter-btn:active {\n  transform: scale(0.96);\n}\n.heart-beat-btn {\n  animation: heart-beat-glow 1.3s infinite cubic-bezier(0.4,0,0.2,1);\n}\n@keyframes heart-beat-glow {\n  0%, 100% {\n    box-shadow: 0 0 0 0 rgba(255,255,255,0.7), 0 8px 32px rgba(0,0,0,0.18);\n    filter: brightness(1);\n  }\n  10% {\n    box-shadow: 0 0 0 8px rgba(255,255,255,0.18), 0 8px 32px rgba(0,0,0,0.18);\n    filter: brightness(1.08);\n  }\n  20% {\n    box-shadow: 0 0 0 16px rgba(255,255,255,0.12), 0 8px 32px rgba(0,0,0,0.18);\n    filter: brightness(1.12);\n  }\n  30% {\n    box-shadow: 0 0 0 24px rgba(255,255,255,0.08), 0 8px 32px rgba(0,0,0,0.18);\n    filter: brightness(1.18);\n  }\n  40% {\n    box-shadow: 0 0 0 32px rgba(255,255,255,0.04), 0 8px 32px rgba(0,0,0,0.18);\n    filter: brightness(1.22);\n  }\n  50% {\n    box-shadow: 0 0 0 40px rgba(255,255,255,0.01), 0 8px 32px rgba(0,0,0,0.18);\n    filter: brightness(1.25);\n  }\n  60% {\n    box-shadow: 0 0 0 32px rgba(255,255,255,0.04), 0 8px 32px rgba(0,0,0,0.18);\n    filter: brightness(1.22);\n  }\n  70% {\n    box-shadow: 0 0 0 24px rgba(255,255,255,0.08), 0 8px 32px rgba(0,0,0,0.18);\n    filter: brightness(1.18);\n  }\n  80% {\n    box-shadow: 0 0 0 16px rgba(255,255,255,0.12), 0 8px 32px rgba(0,0,0,0.18);\n    filter: brightness(1.12);\n  }\n  90% {\n    box-shadow: 0 0 0 8px rgba(255,255,255,0.18), 0 8px 32px rgba(0,0,0,0.18);\n    filter: brightness(1.08);\n  }\n}\n\n.exhibition-canvas { position: absolute; inset: 0; cursor: auto; }\n.exhibition-canvas canvas { cursor: auto; }\n.background-hall { position: absolute; inset: 0; z-index: 1; }\n.background-hall-canvas { width: 100%; height: 100%; display: block; filter: saturate(0.9) contrast(1.05) brightness(0.9); }\n.hall-viewer { position: absolute; inset: 0; z-index: 1; }\n.viewer-canvas { width: 100%; height: 100%; display: block; }\n.save-rotation-btn { background: #222a; backdrop-filter: blur(6px); color: #fff; border: 1px solid #4a4f58; padding: 0.6rem 0.9rem; border-radius: 10px; cursor: pointer; }\n.save-rotation-btn:hover { border-color: #5f83ff; box-shadow: 0 0 0 2px rgba(95,131,255,0.25); }\n\n/* Loading Progress Bar */\n.loading-overlay {\n  position: absolute;\n  inset: 0;\n  z-index: 10;\n  background: rgba(10, 14, 26, 0.85);\n  backdrop-filter: blur(8px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  animation: fadeIn 0.3s ease-in;\n}\n\n.loading-overlay.fade-out {\n  animation: glowAndFade 2s ease-out forwards;\n}\n\n@keyframes glowAndFade {\n  0% {\n    opacity: 1;\n  }\n  40% {\n    opacity: 1;\n    filter: brightness(2);\n  }\n  100% {\n    opacity: 0;\n    filter: brightness(2);\n  }\n}\n\n/* Loading Background Canvas removed */\n\n.loading-container {\n  text-align: center;\n  padding: 2rem;\n  max-width: 400px;\n  width: 90%;\n}\n\n.loading-logo {\n  width: 160px;\n  height: 160px;\n  border-radius: 50%;\n  border: 1px solid #ffffff;\n  padding: 20px;\n  object-fit: cover;\n  margin-bottom: 2rem;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);\n  animation: fadeDown 0.6s ease-out;\n}\n\n.loading-text {\n  font-size: 1.5rem;\n  color: #e6edf3;\n  letter-spacing: 0.08em;\n  text-transform: none;\n  margin-bottom: 2rem;\n  text-shadow: 0 4px 20px rgba(102,153,255,0.3);\n  animation: fadeDown 0.6s ease-out, pulse 2s ease-in-out 0.6s infinite;\n}\n\n.progress-bar-wrapper {\n  width: 60%;\n  height: 2px;\n  background: rgba(255, 255, 255, 0.08);\n  border-radius: 999px;\n  overflow: visible;\n  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.3);\n  margin-bottom: 1rem;\n  margin-left: auto;\n  margin-right: auto;\n  position: relative;\n  animation: fadeUp 0.6s ease-out 0.3s both;\n}\n\n.progress-bar-fill {\n  height: 100%;\n  background: linear-gradient(90deg, #ffffff, #f0f0f0, #ffffff);\n  border-radius: 999px;\n  transition: width 0.3s ease-out;\n  box-shadow: 0 0 20px rgba(255, 255, 255, 0.6), 0 0 40px rgba(255, 255, 255, 0.3);\n  animation: shimmer 1.5s ease-in-out infinite;\n  position: relative;\n}\n\n.loading-percent {\n  font-size: 0.9rem;\n  color: #ffffff;\n  letter-spacing: 0.05em;\n  font-weight: 500;\n  position: absolute;\n  bottom: -30px;\n  right: 0;\n  transition: right 0.3s ease-out;\n  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);\n}\n\n@keyframes fadeIn {\n  from { opacity: 0; }\n  to { opacity: 1; }\n}\n\n@keyframes fadeDown {\n  0% {\n    opacity: 0;\n    transform: translateY(-20px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n@keyframes fadeUp {\n  0% {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n@keyframes pulse {\n  0%, 100% { opacity: 1; }\n  50% { opacity: 0.7; }\n}\n\n@keyframes shimmer {\n  0%, 100% { opacity: 1; }\n  50% { opacity: 0.8; filter: brightness(1.2); }\n}\n\n/* Navigation Buttons - Prev and Next */\n.nav-button {\n  font-size: 16px;\n  font-weight: 600;\n  padding: 14px 24px;\n  border: none;\n  border-radius: 12px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n  letter-spacing: 0.8px;\n  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);\n  text-transform: uppercase;\n  backdrop-filter: blur(12px) saturate(160%);\n  background: linear-gradient(135deg, rgba(168, 139, 250, 0.15) 0%, rgba(124, 58, 237, 0.1) 100%);\n  color: #e0e6ff;\n  border: 1.5px solid rgba(168, 139, 250, 0.3);\n  box-shadow: 0 8px 32px rgba(15, 23, 42, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1);\n}\n\n.nav-button::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\n  transition: left 0.6s ease;\n}\n\n.nav-button:hover:not(:disabled) {\n  background: linear-gradient(135deg, rgba(168, 139, 250, 0.25) 0%, rgba(124, 58, 237, 0.2) 100%);\n  border-color: rgba(168, 139, 250, 0.6);\n  color: #ffffff;\n  box-shadow: 0 12px 48px rgba(168, 139, 250, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2);\n  transform: translateY(-3px);\n}\n\n.nav-button:hover:not(:disabled)::before {\n  left: 100%;\n}\n\n.nav-button:active:not(:disabled) {\n  transform: translateY(-1px);\n  box-shadow: 0 6px 24px rgba(168, 139, 250, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1);\n}\n\n.nav-button:disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n  color: #a1afc7;\n}\n\n.nav-button-prev::after {\n  content: '';\n  position: absolute;\n  right: 0;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 2px;\n  height: 70%;\n  background: linear-gradient(to bottom, transparent, rgba(168, 139, 250, 0.5), transparent);\n  opacity: 0;\n  transition: opacity 0.3s ease;\n}\n\n.nav-button-prev:hover::after,\n.nav-button-next:hover::after {\n  opacity: 1;\n}\n\n.nav-button-export {\n  background: linear-gradient(135deg, rgba(34, 197, 94, 0.15) 0%, rgba(22, 163, 74, 0.1) 100%);\n  border-color: rgba(34, 197, 94, 0.3);\n}\n\n.nav-button-export:hover:not(:disabled) {\n  background: linear-gradient(135deg, rgba(34, 197, 94, 0.25) 0%, rgba(22, 163, 74, 0.2) 100%);\n  border-color: rgba(34, 197, 94, 0.6);\n  box-shadow: 0 12px 48px rgba(34, 197, 94, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2);\n}\n",""]);const a=s},659:t=>{var e={};t.exports=function(t,n){var i=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,r&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(i,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},848:(t,e,n)=>{t.exports=n(20)},961:(t,e,n)=>{!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=n(551)},982:(t,e,n)=>{t.exports=n(463)}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={id:i,exports:{}};return t[i](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0;var i=n(338),r=n(540);const o="165",s=0,a=1,l=2,c=100,u=101,d=102,p=200,h=201,f=202,m=203,y=204,x=205,g=206,v=207,_=208,z=209,b=210,S=211,M=212,E=213,w=214,T="attached",A=301,R=302,C=306,P=1e3,L=1001,I=1002,N=1003,D=1004,U=1005,O=1006,k=1007,F=1008,B=1009,H=1012,V=1014,G=1015,W=1016,j=1020,X=1023,q=1026,Y=1027,K=33776,Z=33777,$=33778,J=33779,Q=36492,tt=2300,et=2301,nt=2302,it="",rt="srgb",ot="srgb-linear",st="display-p3",at="display-p3-linear",lt="linear",ct="srgb",ut="rec709",dt="p3",pt=7680,ht=512,ft=513,mt=514,yt=515,xt=516,gt=517,vt=518,_t=519,zt=35044,bt="300 es",St=2e3,Mt=2001;class Et{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const n=this._listeners[t];if(void 0!==n){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const e=this._listeners[t.type];if(void 0!==e){t.target=this;const n=e.slice(0);for(let e=0,i=n.length;e<i;e++)n[e].call(this,t);t.target=null}}}const wt=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];const Tt=Math.PI/180,At=180/Math.PI;function Rt(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(wt[255&t]+wt[t>>8&255]+wt[t>>16&255]+wt[t>>24&255]+"-"+wt[255&e]+wt[e>>8&255]+"-"+wt[e>>16&15|64]+wt[e>>24&255]+"-"+wt[63&n|128]+wt[n>>8&255]+"-"+wt[n>>16&255]+wt[n>>24&255]+wt[255&i]+wt[i>>8&255]+wt[i>>16&255]+wt[i>>24&255]).toLowerCase()}function Ct(t,e,n){return Math.max(e,Math.min(n,t))}function Pt(t,e){return(t%e+e)%e}function Lt(t,e,n){return(1-n)*t+n*e}function It(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Nt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(4294967295*t);case Uint16Array:return Math.round(65535*t);case Uint8Array:return Math.round(255*t);case Int32Array:return Math.round(2147483647*t);case Int16Array:return Math.round(32767*t);case Int8Array:return Math.round(127*t);default:throw new Error("Invalid component type.")}}const Dt=function(t){return t*At};class Ut{constructor(t=0,e=0){Ut.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(Ct(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,o=this.y-t.y;return this.x=r*n-o*i+t.x,this.y=r*i+o*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ot{constructor(t,e,n,i,r,o,s,a,l){Ot.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,e,n,i,r,o,s,a,l)}set(t,e,n,i,r,o,s,a,l){const c=this.elements;return c[0]=t,c[1]=i,c[2]=s,c[3]=e,c[4]=r,c[5]=a,c[6]=n,c[7]=o,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,i=e.elements,r=this.elements,o=n[0],s=n[3],a=n[6],l=n[1],c=n[4],u=n[7],d=n[2],p=n[5],h=n[8],f=i[0],m=i[3],y=i[6],x=i[1],g=i[4],v=i[7],_=i[2],z=i[5],b=i[8];return r[0]=o*f+s*x+a*_,r[3]=o*m+s*g+a*z,r[6]=o*y+s*v+a*b,r[1]=l*f+c*x+u*_,r[4]=l*m+c*g+u*z,r[7]=l*y+c*v+u*b,r[2]=d*f+p*x+h*_,r[5]=d*m+p*g+h*z,r[8]=d*y+p*v+h*b,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=t[6],l=t[7],c=t[8];return e*o*c-e*s*l-n*r*c+n*s*a+i*r*l-i*o*a}invert(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=t[6],l=t[7],c=t[8],u=c*o-s*l,d=s*a-c*r,p=l*r-o*a,h=e*u+n*d+i*p;if(0===h)return this.set(0,0,0,0,0,0,0,0,0);const f=1/h;return t[0]=u*f,t[1]=(i*l-c*n)*f,t[2]=(s*n-i*o)*f,t[3]=d*f,t[4]=(c*e-i*a)*f,t[5]=(i*r-s*e)*f,t[6]=p*f,t[7]=(n*a-l*e)*f,t[8]=(o*e-n*r)*f,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,i,r,o,s){const a=Math.cos(r),l=Math.sin(r);return this.set(n*a,n*l,-n*(a*o+l*s)+o+t,-i*l,i*a,-i*(-l*o+a*s)+s+e,0,0,1),this}scale(t,e){return this.premultiply(kt.makeScale(t,e)),this}rotate(t){return this.premultiply(kt.makeRotation(-t)),this}translate(t,e){return this.premultiply(kt.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,n,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,n=t.elements;for(let t=0;t<9;t++)if(e[t]!==n[t])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}const kt=new Ot;function Ft(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function Bt(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Ht(){const t=Bt("canvas");return t.style.display="block",t}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const Vt={};function Gt(t){t in Vt||(Vt[t]=!0,console.warn(t))}const Wt=(new Ot).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),jt=(new Ot).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Xt={[ot]:{transfer:lt,primaries:ut,toReference:t=>t,fromReference:t=>t},[rt]:{transfer:ct,primaries:ut,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[at]:{transfer:lt,primaries:dt,toReference:t=>t.applyMatrix3(jt),fromReference:t=>t.applyMatrix3(Wt)},[st]:{transfer:ct,primaries:dt,toReference:t=>t.convertSRGBToLinear().applyMatrix3(jt),fromReference:t=>t.applyMatrix3(Wt).convertLinearToSRGB()}},qt=new Set([ot,at]),Yt={enabled:!0,_workingColorSpace:ot,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!qt.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(!1===this.enabled||e===n||!e||!n)return t;const i=Xt[e].toReference;return(0,Xt[n].fromReference)(i(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return Xt[t].primaries},getTransfer:function(t){return t===it?lt:Xt[t].transfer}};function Kt(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function Zt(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}let $t;class Jt{static getDataURL(t){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===$t&&($t=Bt("canvas")),$t.width=t.width,$t.height=t.height;const n=$t.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=$t}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){const e=Bt("canvas");e.width=t.width,e.height=t.height;const n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);const i=n.getImageData(0,0,t.width,t.height),r=i.data;for(let t=0;t<r.length;t++)r[t]=255*Kt(r[t]/255);return n.putImageData(i,0,0),e}if(t.data){const e=t.data.slice(0);for(let t=0;t<e.length;t++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[t]=Math.floor(255*Kt(e[t]/255)):e[t]=Kt(e[t]);return{data:e,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let Qt=0;class te{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Qt++}),this.uuid=Rt(),this.data=t,this.dataReady=!0,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(null!==i){let t;if(Array.isArray(i)){t=[];for(let e=0,n=i.length;e<n;e++)i[e].isDataTexture?t.push(ee(i[e].image)):t.push(ee(i[e]))}else t=ee(i);n.url=t}return e||(t.images[this.uuid]=n),n}}function ee(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?Jt.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let ne=0;class ie extends Et{constructor(t=ie.DEFAULT_IMAGE,e=ie.DEFAULT_MAPPING,n=1001,i=1001,r=1006,o=1008,s=1023,a=1009,l=ie.DEFAULT_ANISOTROPY,c=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:ne++}),this.uuid=Rt(),this.name="",this.source=new te(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=l,this.format=s,this.internalFormat=null,this.type=a,this.offset=new Ut(0,0),this.repeat=new Ut(1,1),this.center=new Ut(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ot,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),e||(t.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case P:t.x=t.x-Math.floor(t.x);break;case L:t.x=t.x<0?0:1;break;case I:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case P:t.y=t.y-Math.floor(t.y);break;case L:t.y=t.y<0?0:1;break;case I:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){!0===t&&this.pmremVersion++}}ie.DEFAULT_IMAGE=null,ie.DEFAULT_MAPPING=300,ie.DEFAULT_ANISOTROPY=1;class re{constructor(t=0,e=0,n=0,i=1){re.prototype.isVector4=!0,this.x=t,this.y=e,this.z=n,this.w=i}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,i=this.z,r=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*i+o[12]*r,this.y=o[1]*e+o[5]*n+o[9]*i+o[13]*r,this.z=o[2]*e+o[6]*n+o[10]*i+o[14]*r,this.w=o[3]*e+o[7]*n+o[11]*i+o[15]*r,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,i,r;const o=.01,s=.1,a=t.elements,l=a[0],c=a[4],u=a[8],d=a[1],p=a[5],h=a[9],f=a[2],m=a[6],y=a[10];if(Math.abs(c-d)<o&&Math.abs(u-f)<o&&Math.abs(h-m)<o){if(Math.abs(c+d)<s&&Math.abs(u+f)<s&&Math.abs(h+m)<s&&Math.abs(l+p+y-3)<s)return this.set(1,0,0,0),this;e=Math.PI;const t=(l+1)/2,a=(p+1)/2,x=(y+1)/2,g=(c+d)/4,v=(u+f)/4,_=(h+m)/4;return t>a&&t>x?t<o?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(t),i=g/n,r=v/n):a>x?a<o?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(a),n=g/i,r=_/i):x<o?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(x),n=v/r,i=_/r),this.set(n,i,r,e),this}let x=Math.sqrt((m-h)*(m-h)+(u-f)*(u-f)+(d-c)*(d-c));return Math.abs(x)<.001&&(x=1),this.x=(m-h)/x,this.y=(u-f)/x,this.z=(d-c)/x,this.w=Math.acos((l+p+y-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class oe extends Et{constructor(t=1,e=1,n={}){super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new re(0,0,t,e),this.scissorTest=!1,this.viewport=new re(0,0,t,e);const i={width:t,height:e,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:O,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const r=new ie(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);r.flipY=!1,r.generateMipmaps=n.generateMipmaps,r.internalFormat=n.internalFormat,this.textures=[];const o=n.count;for(let t=0;t<o;t++)this.textures[t]=r.clone(),this.textures[t].isRenderTargetTexture=!0;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}setSize(t,e,n=1){if(this.width!==t||this.height!==e||this.depth!==n){this.width=t,this.height=e,this.depth=n;for(let i=0,r=this.textures.length;i<r;i++)this.textures[i].image.width=t,this.textures[i].image.height=e,this.textures[i].image.depth=n;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let e=0,n=t.textures.length;e<n;e++)this.textures[e]=t.textures[e].clone(),this.textures[e].isRenderTargetTexture=!0;const e=Object.assign({},t.texture.image);return this.texture.source=new te(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class se extends oe{constructor(t=1,e=1,n={}){super(t,e,n),this.isWebGLRenderTarget=!0}}class ae extends ie{constructor(t=null,e=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:n,depth:i},this.magFilter=N,this.minFilter=N,this.wrapR=L,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class le extends ie{constructor(t=null,e=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:n,depth:i},this.magFilter=N,this.minFilter=N,this.wrapR=L,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ce{constructor(t=0,e=0,n=0,i=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=n,this._w=i}static slerpFlat(t,e,n,i,r,o,s){let a=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3];const d=r[o+0],p=r[o+1],h=r[o+2],f=r[o+3];if(0===s)return t[e+0]=a,t[e+1]=l,t[e+2]=c,void(t[e+3]=u);if(1===s)return t[e+0]=d,t[e+1]=p,t[e+2]=h,void(t[e+3]=f);if(u!==f||a!==d||l!==p||c!==h){let t=1-s;const e=a*d+l*p+c*h+u*f,n=e>=0?1:-1,i=1-e*e;if(i>Number.EPSILON){const r=Math.sqrt(i),o=Math.atan2(r,e*n);t=Math.sin(t*o)/r,s=Math.sin(s*o)/r}const r=s*n;if(a=a*t+d*r,l=l*t+p*r,c=c*t+h*r,u=u*t+f*r,t===1-s){const t=1/Math.sqrt(a*a+l*l+c*c+u*u);a*=t,l*=t,c*=t,u*=t}}t[e]=a,t[e+1]=l,t[e+2]=c,t[e+3]=u}static multiplyQuaternionsFlat(t,e,n,i,r,o){const s=n[i],a=n[i+1],l=n[i+2],c=n[i+3],u=r[o],d=r[o+1],p=r[o+2],h=r[o+3];return t[e]=s*h+c*u+a*p-l*d,t[e+1]=a*h+c*d+l*u-s*p,t[e+2]=l*h+c*p+s*d-a*u,t[e+3]=c*h-s*u-a*d-l*p,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const n=t._x,i=t._y,r=t._z,o=t._order,s=Math.cos,a=Math.sin,l=s(n/2),c=s(i/2),u=s(r/2),d=a(n/2),p=a(i/2),h=a(r/2);switch(o){case"XYZ":this._x=d*c*u+l*p*h,this._y=l*p*u-d*c*h,this._z=l*c*h+d*p*u,this._w=l*c*u-d*p*h;break;case"YXZ":this._x=d*c*u+l*p*h,this._y=l*p*u-d*c*h,this._z=l*c*h-d*p*u,this._w=l*c*u+d*p*h;break;case"ZXY":this._x=d*c*u-l*p*h,this._y=l*p*u+d*c*h,this._z=l*c*h+d*p*u,this._w=l*c*u-d*p*h;break;case"ZYX":this._x=d*c*u-l*p*h,this._y=l*p*u+d*c*h,this._z=l*c*h-d*p*u,this._w=l*c*u+d*p*h;break;case"YZX":this._x=d*c*u+l*p*h,this._y=l*p*u+d*c*h,this._z=l*c*h-d*p*u,this._w=l*c*u-d*p*h;break;case"XZY":this._x=d*c*u-l*p*h,this._y=l*p*u-d*c*h,this._z=l*c*h+d*p*u,this._w=l*c*u+d*p*h;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!0===e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],i=e[4],r=e[8],o=e[1],s=e[5],a=e[9],l=e[2],c=e[6],u=e[10],d=n+s+u;if(d>0){const t=.5/Math.sqrt(d+1);this._w=.25/t,this._x=(c-a)*t,this._y=(r-l)*t,this._z=(o-i)*t}else if(n>s&&n>u){const t=2*Math.sqrt(1+n-s-u);this._w=(c-a)/t,this._x=.25*t,this._y=(i+o)/t,this._z=(r+l)/t}else if(s>u){const t=2*Math.sqrt(1+s-n-u);this._w=(r-l)/t,this._x=(i+o)/t,this._y=.25*t,this._z=(a+c)/t}else{const t=2*Math.sqrt(1+u-n-s);this._w=(o-i)/t,this._x=(r+l)/t,this._y=(a+c)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Ct(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(0===n)return this;const i=Math.min(1,e/n);return this.slerp(t,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,i=t._y,r=t._z,o=t._w,s=e._x,a=e._y,l=e._z,c=e._w;return this._x=n*c+o*s+i*l-r*a,this._y=i*c+o*a+r*s-n*l,this._z=r*c+o*l+n*a-i*s,this._w=o*c-n*s-i*a-r*l,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,i=this._y,r=this._z,o=this._w;let s=o*t._w+n*t._x+i*t._y+r*t._z;if(s<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),s>=1)return this._w=o,this._x=n,this._y=i,this._z=r,this;const a=1-s*s;if(a<=Number.EPSILON){const t=1-e;return this._w=t*o+e*this._w,this._x=t*n+e*this._x,this._y=t*i+e*this._y,this._z=t*r+e*this._z,this.normalize(),this}const l=Math.sqrt(a),c=Math.atan2(l,s),u=Math.sin((1-e)*c)/l,d=Math.sin(e*c)/l;return this._w=o*u+this._w*d,this._x=n*u+this._x*d,this._y=i*u+this._y*d,this._z=r*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(t,e,n){return this.copy(t).slerp(e,n)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),n=Math.random(),i=Math.sqrt(1-n),r=Math.sqrt(n);return this.set(i*Math.sin(t),i*Math.cos(t),r*Math.sin(e),r*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ue{constructor(t=0,e=0,n=0){ue.prototype.isVector3=!0,this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(pe.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(pe.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,i=this.z,r=t.elements,o=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*o,this}applyQuaternion(t){const e=this.x,n=this.y,i=this.z,r=t.x,o=t.y,s=t.z,a=t.w,l=2*(o*i-s*n),c=2*(s*e-r*i),u=2*(r*n-o*e);return this.x=e+a*l+o*u-s*c,this.y=n+a*c+s*l-r*u,this.z=i+a*u+r*c-o*l,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,i=t.y,r=t.z,o=e.x,s=e.y,a=e.z;return this.x=i*a-r*s,this.y=r*o-n*a,this.z=n*s-i*o,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return de.copy(this).projectOnVector(t),this.sub(de)}reflect(t){return this.sub(de.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(Ct(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=2*Math.random()-1,n=Math.sqrt(1-e*e);return this.x=n*Math.cos(t),this.y=e,this.z=n*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const de=new ue,pe=new ce;class he{constructor(t=new ue(1/0,1/0,1/0),e=new ue(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e+=3)this.expandByPoint(me.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,n=t.count;e<n;e++)this.expandByPoint(me.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=me.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const n=t.geometry;if(void 0!==n){const i=n.getAttribute("position");if(!0===e&&void 0!==i&&!0!==t.isInstancedMesh)for(let e=0,n=i.count;e<n;e++)!0===t.isMesh?t.getVertexPosition(e,me):me.fromBufferAttribute(i,e),me.applyMatrix4(t.matrixWorld),this.expandByPoint(me);else void 0!==t.boundingBox?(null===t.boundingBox&&t.computeBoundingBox(),ye.copy(t.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),ye.copy(n.boundingBox)),ye.applyMatrix4(t.matrixWorld),this.union(ye)}const i=t.children;for(let t=0,n=i.length;t<n;t++)this.expandByObject(i[t],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,me),me.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Se),Me.subVectors(this.max,Se),xe.subVectors(t.a,Se),ge.subVectors(t.b,Se),ve.subVectors(t.c,Se),_e.subVectors(ge,xe),ze.subVectors(ve,ge),be.subVectors(xe,ve);let e=[0,-_e.z,_e.y,0,-ze.z,ze.y,0,-be.z,be.y,_e.z,0,-_e.x,ze.z,0,-ze.x,be.z,0,-be.x,-_e.y,_e.x,0,-ze.y,ze.x,0,-be.y,be.x,0];return!!Te(e,xe,ge,ve,Me)&&(e=[1,0,0,0,1,0,0,0,1],!!Te(e,xe,ge,ve,Me)&&(Ee.crossVectors(_e,ze),e=[Ee.x,Ee.y,Ee.z],Te(e,xe,ge,ve,Me)))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,me).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=.5*this.getSize(me).length()),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(fe[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),fe[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),fe[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),fe[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),fe[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),fe[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),fe[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),fe[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(fe)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const fe=[new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue],me=new ue,ye=new he,xe=new ue,ge=new ue,ve=new ue,_e=new ue,ze=new ue,be=new ue,Se=new ue,Me=new ue,Ee=new ue,we=new ue;function Te(t,e,n,i,r){for(let o=0,s=t.length-3;o<=s;o+=3){we.fromArray(t,o);const s=r.x*Math.abs(we.x)+r.y*Math.abs(we.y)+r.z*Math.abs(we.z),a=e.dot(we),l=n.dot(we),c=i.dot(we);if(Math.max(-Math.max(a,l,c),Math.min(a,l,c))>s)return!1}return!0}const Ae=new he,Re=new ue,Ce=new ue;class Pe{constructor(t=new ue,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;void 0!==e?n.copy(e):Ae.setFromPoints(t).getCenter(n);let i=0;for(let e=0,r=t.length;e<r;e++)i=Math.max(i,n.distanceToSquared(t[e]));return this.radius=Math.sqrt(i),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;Re.subVectors(t,this.center);const e=Re.lengthSq();if(e>this.radius*this.radius){const t=Math.sqrt(e),n=.5*(t-this.radius);this.center.addScaledVector(Re,n/t),this.radius+=n}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(!0===this.center.equals(t.center)?this.radius=Math.max(this.radius,t.radius):(Ce.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(Re.copy(t.center).add(Ce)),this.expandByPoint(Re.copy(t.center).sub(Ce))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Le=new ue,Ie=new ue,Ne=new ue,De=new ue,Ue=new ue,Oe=new ue,ke=new ue;class Fe{constructor(t=new ue,e=new ue(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Le)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=Le.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Le.copy(this.origin).addScaledVector(this.direction,e),Le.distanceToSquared(t))}distanceSqToSegment(t,e,n,i){Ie.copy(t).add(e).multiplyScalar(.5),Ne.copy(e).sub(t).normalize(),De.copy(this.origin).sub(Ie);const r=.5*t.distanceTo(e),o=-this.direction.dot(Ne),s=De.dot(this.direction),a=-De.dot(Ne),l=De.lengthSq(),c=Math.abs(1-o*o);let u,d,p,h;if(c>0)if(u=o*a-s,d=o*s-a,h=r*c,u>=0)if(d>=-h)if(d<=h){const t=1/c;u*=t,d*=t,p=u*(u+o*d+2*s)+d*(o*u+d+2*a)+l}else d=r,u=Math.max(0,-(o*d+s)),p=-u*u+d*(d+2*a)+l;else d=-r,u=Math.max(0,-(o*d+s)),p=-u*u+d*(d+2*a)+l;else d<=-h?(u=Math.max(0,-(-o*r+s)),d=u>0?-r:Math.min(Math.max(-r,-a),r),p=-u*u+d*(d+2*a)+l):d<=h?(u=0,d=Math.min(Math.max(-r,-a),r),p=d*(d+2*a)+l):(u=Math.max(0,-(o*r+s)),d=u>0?r:Math.min(Math.max(-r,-a),r),p=-u*u+d*(d+2*a)+l);else d=o>0?-r:r,u=Math.max(0,-(o*d+s)),p=-u*u+d*(d+2*a)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),i&&i.copy(Ie).addScaledVector(Ne,d),p}intersectSphere(t,e){Le.subVectors(t.center,this.origin);const n=Le.dot(this.direction),i=Le.dot(Le)-n*n,r=t.radius*t.radius;if(i>r)return null;const o=Math.sqrt(r-i),s=n-o,a=n+o;return a<0?null:s<0?this.at(a,e):this.at(s,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,i,r,o,s,a;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(n=(t.min.x-d.x)*l,i=(t.max.x-d.x)*l):(n=(t.max.x-d.x)*l,i=(t.min.x-d.x)*l),c>=0?(r=(t.min.y-d.y)*c,o=(t.max.y-d.y)*c):(r=(t.max.y-d.y)*c,o=(t.min.y-d.y)*c),n>o||r>i?null:((r>n||isNaN(n))&&(n=r),(o<i||isNaN(i))&&(i=o),u>=0?(s=(t.min.z-d.z)*u,a=(t.max.z-d.z)*u):(s=(t.max.z-d.z)*u,a=(t.min.z-d.z)*u),n>a||s>i?null:((s>n||n!=n)&&(n=s),(a<i||i!=i)&&(i=a),i<0?null:this.at(n>=0?n:i,e)))}intersectsBox(t){return null!==this.intersectBox(t,Le)}intersectTriangle(t,e,n,i,r){Ue.subVectors(e,t),Oe.subVectors(n,t),ke.crossVectors(Ue,Oe);let o,s=this.direction.dot(ke);if(s>0){if(i)return null;o=1}else{if(!(s<0))return null;o=-1,s=-s}De.subVectors(this.origin,t);const a=o*this.direction.dot(Oe.crossVectors(De,Oe));if(a<0)return null;const l=o*this.direction.dot(Ue.cross(De));if(l<0)return null;if(a+l>s)return null;const c=-o*De.dot(ke);return c<0?null:this.at(c/s,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Be{constructor(t,e,n,i,r,o,s,a,l,c,u,d,p,h,f,m){Be.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,e,n,i,r,o,s,a,l,c,u,d,p,h,f,m)}set(t,e,n,i,r,o,s,a,l,c,u,d,p,h,f,m){const y=this.elements;return y[0]=t,y[4]=e,y[8]=n,y[12]=i,y[1]=r,y[5]=o,y[9]=s,y[13]=a,y[2]=l,y[6]=c,y[10]=u,y[14]=d,y[3]=p,y[7]=h,y[11]=f,y[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Be).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,i=1/He.setFromMatrixColumn(t,0).length(),r=1/He.setFromMatrixColumn(t,1).length(),o=1/He.setFromMatrixColumn(t,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=0,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=0,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,n=t.x,i=t.y,r=t.z,o=Math.cos(n),s=Math.sin(n),a=Math.cos(i),l=Math.sin(i),c=Math.cos(r),u=Math.sin(r);if("XYZ"===t.order){const t=o*c,n=o*u,i=s*c,r=s*u;e[0]=a*c,e[4]=-a*u,e[8]=l,e[1]=n+i*l,e[5]=t-r*l,e[9]=-s*a,e[2]=r-t*l,e[6]=i+n*l,e[10]=o*a}else if("YXZ"===t.order){const t=a*c,n=a*u,i=l*c,r=l*u;e[0]=t+r*s,e[4]=i*s-n,e[8]=o*l,e[1]=o*u,e[5]=o*c,e[9]=-s,e[2]=n*s-i,e[6]=r+t*s,e[10]=o*a}else if("ZXY"===t.order){const t=a*c,n=a*u,i=l*c,r=l*u;e[0]=t-r*s,e[4]=-o*u,e[8]=i+n*s,e[1]=n+i*s,e[5]=o*c,e[9]=r-t*s,e[2]=-o*l,e[6]=s,e[10]=o*a}else if("ZYX"===t.order){const t=o*c,n=o*u,i=s*c,r=s*u;e[0]=a*c,e[4]=i*l-n,e[8]=t*l+r,e[1]=a*u,e[5]=r*l+t,e[9]=n*l-i,e[2]=-l,e[6]=s*a,e[10]=o*a}else if("YZX"===t.order){const t=o*a,n=o*l,i=s*a,r=s*l;e[0]=a*c,e[4]=r-t*u,e[8]=i*u+n,e[1]=u,e[5]=o*c,e[9]=-s*c,e[2]=-l*c,e[6]=n*u+i,e[10]=t-r*u}else if("XZY"===t.order){const t=o*a,n=o*l,i=s*a,r=s*l;e[0]=a*c,e[4]=-u,e[8]=l*c,e[1]=t*u+r,e[5]=o*c,e[9]=n*u-i,e[2]=i*u-n,e[6]=s*c,e[10]=r*u+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(Ge,t,We)}lookAt(t,e,n){const i=this.elements;return qe.subVectors(t,e),0===qe.lengthSq()&&(qe.z=1),qe.normalize(),je.crossVectors(n,qe),0===je.lengthSq()&&(1===Math.abs(n.z)?qe.x+=1e-4:qe.z+=1e-4,qe.normalize(),je.crossVectors(n,qe)),je.normalize(),Xe.crossVectors(qe,je),i[0]=je.x,i[4]=Xe.x,i[8]=qe.x,i[1]=je.y,i[5]=Xe.y,i[9]=qe.y,i[2]=je.z,i[6]=Xe.z,i[10]=qe.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,i=e.elements,r=this.elements,o=n[0],s=n[4],a=n[8],l=n[12],c=n[1],u=n[5],d=n[9],p=n[13],h=n[2],f=n[6],m=n[10],y=n[14],x=n[3],g=n[7],v=n[11],_=n[15],z=i[0],b=i[4],S=i[8],M=i[12],E=i[1],w=i[5],T=i[9],A=i[13],R=i[2],C=i[6],P=i[10],L=i[14],I=i[3],N=i[7],D=i[11],U=i[15];return r[0]=o*z+s*E+a*R+l*I,r[4]=o*b+s*w+a*C+l*N,r[8]=o*S+s*T+a*P+l*D,r[12]=o*M+s*A+a*L+l*U,r[1]=c*z+u*E+d*R+p*I,r[5]=c*b+u*w+d*C+p*N,r[9]=c*S+u*T+d*P+p*D,r[13]=c*M+u*A+d*L+p*U,r[2]=h*z+f*E+m*R+y*I,r[6]=h*b+f*w+m*C+y*N,r[10]=h*S+f*T+m*P+y*D,r[14]=h*M+f*A+m*L+y*U,r[3]=x*z+g*E+v*R+_*I,r[7]=x*b+g*w+v*C+_*N,r[11]=x*S+g*T+v*P+_*D,r[15]=x*M+g*A+v*L+_*U,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],o=t[1],s=t[5],a=t[9],l=t[13],c=t[2],u=t[6],d=t[10],p=t[14];return t[3]*(+r*a*u-i*l*u-r*s*d+n*l*d+i*s*p-n*a*p)+t[7]*(+e*a*p-e*l*d+r*o*d-i*o*p+i*l*c-r*a*c)+t[11]*(+e*l*u-e*s*p-r*o*u+n*o*p+r*s*c-n*l*c)+t[15]*(-i*s*c-e*a*u+e*s*d+i*o*u-n*o*d+n*a*c)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=t[6],l=t[7],c=t[8],u=t[9],d=t[10],p=t[11],h=t[12],f=t[13],m=t[14],y=t[15],x=u*m*l-f*d*l+f*a*p-s*m*p-u*a*y+s*d*y,g=h*d*l-c*m*l-h*a*p+o*m*p+c*a*y-o*d*y,v=c*f*l-h*u*l+h*s*p-o*f*p-c*s*y+o*u*y,_=h*u*a-c*f*a-h*s*d+o*f*d+c*s*m-o*u*m,z=e*x+n*g+i*v+r*_;if(0===z)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const b=1/z;return t[0]=x*b,t[1]=(f*d*r-u*m*r-f*i*p+n*m*p+u*i*y-n*d*y)*b,t[2]=(s*m*r-f*a*r+f*i*l-n*m*l-s*i*y+n*a*y)*b,t[3]=(u*a*r-s*d*r-u*i*l+n*d*l+s*i*p-n*a*p)*b,t[4]=g*b,t[5]=(c*m*r-h*d*r+h*i*p-e*m*p-c*i*y+e*d*y)*b,t[6]=(h*a*r-o*m*r-h*i*l+e*m*l+o*i*y-e*a*y)*b,t[7]=(o*d*r-c*a*r+c*i*l-e*d*l-o*i*p+e*a*p)*b,t[8]=v*b,t[9]=(h*u*r-c*f*r-h*n*p+e*f*p+c*n*y-e*u*y)*b,t[10]=(o*f*r-h*s*r+h*n*l-e*f*l-o*n*y+e*s*y)*b,t[11]=(c*s*r-o*u*r-c*n*l+e*u*l+o*n*p-e*s*p)*b,t[12]=_*b,t[13]=(c*f*i-h*u*i+h*n*d-e*f*d-c*n*m+e*u*m)*b,t[14]=(h*s*i-o*f*i-h*n*a+e*f*a+o*n*m-e*s*m)*b,t[15]=(o*u*i-c*s*i+c*n*a-e*u*a-o*n*d+e*s*d)*b,this}scale(t){const e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,i))}makeTranslation(t,e,n){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),i=Math.sin(e),r=1-n,o=t.x,s=t.y,a=t.z,l=r*o,c=r*s;return this.set(l*o+n,l*s-i*a,l*a+i*s,0,l*s+i*a,c*s+n,c*a-i*o,0,l*a-i*s,c*a+i*o,r*a*a+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n,i,r,o){return this.set(1,n,r,0,t,1,o,0,e,i,1,0,0,0,0,1),this}compose(t,e,n){const i=this.elements,r=e._x,o=e._y,s=e._z,a=e._w,l=r+r,c=o+o,u=s+s,d=r*l,p=r*c,h=r*u,f=o*c,m=o*u,y=s*u,x=a*l,g=a*c,v=a*u,_=n.x,z=n.y,b=n.z;return i[0]=(1-(f+y))*_,i[1]=(p+v)*_,i[2]=(h-g)*_,i[3]=0,i[4]=(p-v)*z,i[5]=(1-(d+y))*z,i[6]=(m+x)*z,i[7]=0,i[8]=(h+g)*b,i[9]=(m-x)*b,i[10]=(1-(d+f))*b,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}decompose(t,e,n){const i=this.elements;let r=He.set(i[0],i[1],i[2]).length();const o=He.set(i[4],i[5],i[6]).length(),s=He.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),t.x=i[12],t.y=i[13],t.z=i[14],Ve.copy(this);const a=1/r,l=1/o,c=1/s;return Ve.elements[0]*=a,Ve.elements[1]*=a,Ve.elements[2]*=a,Ve.elements[4]*=l,Ve.elements[5]*=l,Ve.elements[6]*=l,Ve.elements[8]*=c,Ve.elements[9]*=c,Ve.elements[10]*=c,e.setFromRotationMatrix(Ve),n.x=r,n.y=o,n.z=s,this}makePerspective(t,e,n,i,r,o,s=2e3){const a=this.elements,l=2*r/(e-t),c=2*r/(n-i),u=(e+t)/(e-t),d=(n+i)/(n-i);let p,h;if(s===St)p=-(o+r)/(o-r),h=-2*o*r/(o-r);else{if(s!==Mt)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);p=-o/(o-r),h=-o*r/(o-r)}return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=h,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(t,e,n,i,r,o,s=2e3){const a=this.elements,l=1/(e-t),c=1/(n-i),u=1/(o-r),d=(e+t)*l,p=(n+i)*c;let h,f;if(s===St)h=(o+r)*u,f=-2*u;else{if(s!==Mt)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);h=r*u,f=-1*u}return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=f,a[14]=-h,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let t=0;t<16;t++)if(e[t]!==n[t])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}const He=new ue,Ve=new Be,Ge=new ue(0,0,0),We=new ue(1,1,1),je=new ue,Xe=new ue,qe=new ue,Ye=new Be,Ke=new ce;class Ze{constructor(t=0,e=0,n=0,i=Ze.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=n,this._order=i}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,n,i=this._order){return this._x=t,this._y=e,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,n=!0){const i=t.elements,r=i[0],o=i[4],s=i[8],a=i[1],l=i[5],c=i[9],u=i[2],d=i[6],p=i[10];switch(e){case"XYZ":this._y=Math.asin(Ct(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Ct(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,p),this._z=Math.atan2(a,l)):(this._y=Math.atan2(-u,r),this._z=0);break;case"ZXY":this._x=Math.asin(Ct(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,p),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(a,r));break;case"ZYX":this._y=Math.asin(-Ct(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(a,r)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(Ct(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,r)):(this._x=0,this._y=Math.atan2(s,p));break;case"XZY":this._z=Math.asin(-Ct(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(s,r)):(this._x=Math.atan2(-c,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===n&&this._onChangeCallback(),this}setFromQuaternion(t,e,n){return Ye.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Ye,e,n)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return Ke.setFromEuler(this),this.setFromQuaternion(Ke,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ze.DEFAULT_ORDER="XYZ";class $e{constructor(){this.mask=1}set(t){this.mask=1<<t>>>0}enable(t){this.mask|=1<<t}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t}disable(t){this.mask&=~(1<<t)}disableAll(){this.mask=0}test(t){return 0!==(this.mask&t.mask)}isEnabled(t){return!!(this.mask&1<<t)}}let Je=0;const Qe=new ue,tn=new ce,en=new Be,nn=new ue,rn=new ue,on=new ue,sn=new ce,an=new ue(1,0,0),ln=new ue(0,1,0),cn=new ue(0,0,1),un={type:"added"},dn={type:"removed"},pn={type:"childadded",child:null},hn={type:"childremoved",child:null};class fn extends Et{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Je++}),this.uuid=Rt(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=fn.DEFAULT_UP.clone();const t=new ue,e=new Ze,n=new ce,i=new ue(1,1,1);e._onChange(function(){n.setFromEuler(e,!1)}),n._onChange(function(){e.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Be},normalMatrix:{value:new Ot}}),this.matrix=new Be,this.matrixWorld=new Be,this.matrixAutoUpdate=fn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=fn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new $e,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return tn.setFromAxisAngle(t,e),this.quaternion.multiply(tn),this}rotateOnWorldAxis(t,e){return tn.setFromAxisAngle(t,e),this.quaternion.premultiply(tn),this}rotateX(t){return this.rotateOnAxis(an,t)}rotateY(t){return this.rotateOnAxis(ln,t)}rotateZ(t){return this.rotateOnAxis(cn,t)}translateOnAxis(t,e){return Qe.copy(t).applyQuaternion(this.quaternion),this.position.add(Qe.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(an,t)}translateY(t){return this.translateOnAxis(ln,t)}translateZ(t){return this.translateOnAxis(cn,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(en.copy(this.matrixWorld).invert())}lookAt(t,e,n){t.isVector3?nn.copy(t):nn.set(t,e,n);const i=this.parent;this.updateWorldMatrix(!0,!1),rn.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?en.lookAt(rn,nn,this.up):en.lookAt(nn,rn,this.up),this.quaternion.setFromRotationMatrix(en),i&&(en.extractRotation(i.matrixWorld),tn.setFromRotationMatrix(en),this.quaternion.premultiply(tn.invert()))}add(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(un),pn.child=t,this.dispatchEvent(pn),pn.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(dn),hn.child=t,this.dispatchEvent(hn),hn.child=null),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),en.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),en.multiply(t.parent.matrixWorld)),t.applyMatrix4(en),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(un),pn.child=t,this.dispatchEvent(pn),pn.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let n=0,i=this.children.length;n<i;n++){const i=this.children[n].getObjectByProperty(t,e);if(void 0!==i)return i}}getObjectsByProperty(t,e,n=[]){this[t]===e&&n.push(this);const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].getObjectsByProperty(t,e,n);return n}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rn,t,on),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rn,sn,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)}traverseAncestors(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,i=e.length;n<i;n++){const i=e[n];!0!==i.matrixWorldAutoUpdate&&!0!==t||i.updateMatrixWorld(t)}}updateWorldMatrix(t,e){const n=this.parent;if(!0===t&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const t=this.children;for(let e=0,n=t.length;e<n;e++){const n=t[e];!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!1,!0)}}}toJSON(t){const e=void 0===t||"string"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};function r(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(t=>({boxInitialized:t.boxInitialized,boxMin:t.box.min.toArray(),boxMax:t.box.max.toArray(),sphereInitialized:t.sphereInitialized,sphereRadius:t.sphere.radius,sphereCenter:t.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(t),null!==this._colorsTexture&&(i.colorsTexture=this._colorsTexture.toJSON(t)),null!==this.boundingSphere&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),null!==this.boundingBox&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(i.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const n=e.shapes;if(Array.isArray(n))for(let e=0,i=n.length;e<i;e++){const i=n[e];r(t.shapes,i)}else r(t.shapes,n)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let n=0,i=this.material.length;n<i;n++)e.push(r(t.materials,this.material[n]));i.material=e}else i.material=r(t.materials,this.material);if(this.children.length>0){i.children=[];for(let e=0;e<this.children.length;e++)i.children.push(this.children[e].toJSON(t).object)}if(this.animations.length>0){i.animations=[];for(let e=0;e<this.animations.length;e++){const n=this.animations[e];i.animations.push(r(t.animations,n))}}if(e){const e=o(t.geometries),i=o(t.materials),r=o(t.textures),s=o(t.images),a=o(t.shapes),l=o(t.skeletons),c=o(t.animations),u=o(t.nodes);e.length>0&&(n.geometries=e),i.length>0&&(n.materials=i),r.length>0&&(n.textures=r),s.length>0&&(n.images=s),a.length>0&&(n.shapes=a),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=i,n;function o(t){const e=[];for(const n in t){const i=t[n];delete i.metadata,e.push(i)}return e}}clone(t){return(new this.constructor).copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let e=0;e<t.children.length;e++){const n=t.children[e];this.add(n.clone())}return this}}fn.DEFAULT_UP=new ue(0,1,0),fn.DEFAULT_MATRIX_AUTO_UPDATE=!0,fn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const mn=new ue,yn=new ue,xn=new ue,gn=new ue,vn=new ue,_n=new ue,zn=new ue,bn=new ue,Sn=new ue,Mn=new ue;class En{constructor(t=new ue,e=new ue,n=new ue){this.a=t,this.b=e,this.c=n}static getNormal(t,e,n,i){i.subVectors(n,e),mn.subVectors(t,e),i.cross(mn);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(t,e,n,i,r){mn.subVectors(i,e),yn.subVectors(n,e),xn.subVectors(t,e);const o=mn.dot(mn),s=mn.dot(yn),a=mn.dot(xn),l=yn.dot(yn),c=yn.dot(xn),u=o*l-s*s;if(0===u)return r.set(0,0,0),null;const d=1/u,p=(l*a-s*c)*d,h=(o*c-s*a)*d;return r.set(1-p-h,h,p)}static containsPoint(t,e,n,i){return null!==this.getBarycoord(t,e,n,i,gn)&&gn.x>=0&&gn.y>=0&&gn.x+gn.y<=1}static getInterpolation(t,e,n,i,r,o,s,a){return null===this.getBarycoord(t,e,n,i,gn)?(a.x=0,a.y=0,"z"in a&&(a.z=0),"w"in a&&(a.w=0),null):(a.setScalar(0),a.addScaledVector(r,gn.x),a.addScaledVector(o,gn.y),a.addScaledVector(s,gn.z),a)}static isFrontFacing(t,e,n,i){return mn.subVectors(n,e),yn.subVectors(t,e),mn.cross(yn).dot(i)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this}setFromAttributeAndIndices(t,e,n,i){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,i),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return mn.subVectors(this.c,this.b),yn.subVectors(this.a,this.b),.5*mn.cross(yn).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return En.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return En.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,n,i,r){return En.getInterpolation(t,this.a,this.b,this.c,e,n,i,r)}containsPoint(t){return En.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return En.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const n=this.a,i=this.b,r=this.c;let o,s;vn.subVectors(i,n),_n.subVectors(r,n),bn.subVectors(t,n);const a=vn.dot(bn),l=_n.dot(bn);if(a<=0&&l<=0)return e.copy(n);Sn.subVectors(t,i);const c=vn.dot(Sn),u=_n.dot(Sn);if(c>=0&&u<=c)return e.copy(i);const d=a*u-c*l;if(d<=0&&a>=0&&c<=0)return o=a/(a-c),e.copy(n).addScaledVector(vn,o);Mn.subVectors(t,r);const p=vn.dot(Mn),h=_n.dot(Mn);if(h>=0&&p<=h)return e.copy(r);const f=p*l-a*h;if(f<=0&&l>=0&&h<=0)return s=l/(l-h),e.copy(n).addScaledVector(_n,s);const m=c*h-p*u;if(m<=0&&u-c>=0&&p-h>=0)return zn.subVectors(r,i),s=(u-c)/(u-c+(p-h)),e.copy(i).addScaledVector(zn,s);const y=1/(m+f+d);return o=f*y,s=d*y,e.copy(n).addScaledVector(vn,o).addScaledVector(_n,s)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const wn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Tn={h:0,s:0,l:0},An={h:0,s:0,l:0};function Rn(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}class Cn{constructor(t,e,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,n)}set(t,e,n){if(void 0===e&&void 0===n){const e=t;e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e)}else this.setRGB(t,e,n);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=rt){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,Yt.toWorkingColorSpace(this,e),this}setRGB(t,e,n,i=Yt.workingColorSpace){return this.r=t,this.g=e,this.b=n,Yt.toWorkingColorSpace(this,i),this}setHSL(t,e,n,i=Yt.workingColorSpace){if(t=Pt(t,1),e=Ct(e,0,1),n=Ct(n,0,1),0===e)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i;this.r=Rn(r,i,t+1/3),this.g=Rn(r,i,t),this.b=Rn(r,i,t-1/3)}return Yt.toWorkingColorSpace(this,i),this}setStyle(t,e=rt){function n(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(t)){let r;const o=i[1],s=i[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return n(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,e);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return n(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,e);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return n(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(t)){const n=i[1],r=n.length;if(3===r)return this.setRGB(parseInt(n.charAt(0),16)/15,parseInt(n.charAt(1),16)/15,parseInt(n.charAt(2),16)/15,e);if(6===r)return this.setHex(parseInt(n,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=rt){const n=wn[t.toLowerCase()];return void 0!==n?this.setHex(n,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Kt(t.r),this.g=Kt(t.g),this.b=Kt(t.b),this}copyLinearToSRGB(t){return this.r=Zt(t.r),this.g=Zt(t.g),this.b=Zt(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=rt){return Yt.fromWorkingColorSpace(Pn.copy(this),t),65536*Math.round(Ct(255*Pn.r,0,255))+256*Math.round(Ct(255*Pn.g,0,255))+Math.round(Ct(255*Pn.b,0,255))}getHexString(t=rt){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=Yt.workingColorSpace){Yt.fromWorkingColorSpace(Pn.copy(this),e);const n=Pn.r,i=Pn.g,r=Pn.b,o=Math.max(n,i,r),s=Math.min(n,i,r);let a,l;const c=(s+o)/2;if(s===o)a=0,l=0;else{const t=o-s;switch(l=c<=.5?t/(o+s):t/(2-o-s),o){case n:a=(i-r)/t+(i<r?6:0);break;case i:a=(r-n)/t+2;break;case r:a=(n-i)/t+4}a/=6}return t.h=a,t.s=l,t.l=c,t}getRGB(t,e=Yt.workingColorSpace){return Yt.fromWorkingColorSpace(Pn.copy(this),e),t.r=Pn.r,t.g=Pn.g,t.b=Pn.b,t}getStyle(t=rt){Yt.fromWorkingColorSpace(Pn.copy(this),t);const e=Pn.r,n=Pn.g,i=Pn.b;return t!==rt?`color(${t} ${e.toFixed(3)} ${n.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(255*e)},${Math.round(255*n)},${Math.round(255*i)})`}offsetHSL(t,e,n){return this.getHSL(Tn),this.setHSL(Tn.h+t,Tn.s+e,Tn.l+n)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}lerpHSL(t,e){this.getHSL(Tn),t.getHSL(An);const n=Lt(Tn.h,An.h,e),i=Lt(Tn.s,An.s,e),r=Lt(Tn.l,An.l,e);return this.setHSL(n,i,r),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,n=this.g,i=this.b,r=t.elements;return this.r=r[0]*e+r[3]*n+r[6]*i,this.g=r[1]*e+r[4]*n+r[7]*i,this.b=r[2]*e+r[5]*n+r[8]*i,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Pn=new Cn;Cn.NAMES=wn;let Ln=0;class In extends Et{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Ln++}),this.uuid=Rt(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=c,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Cn(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=pt,this.stencilZFail=pt,this.stencilZPass=pt,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const i=this[e];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n:console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`)}}toJSON(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function i(t){const e=[];for(const n in t){const i=t[n];delete i.metadata,e.push(i)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),204!==this.blendSrc&&(n.blendSrc=this.blendSrc),205!==this.blendDst&&(n.blendDst=this.blendDst),this.blendEquation!==c&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==pt&&(n.stencilFail=this.stencilFail),this.stencilZFail!==pt&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==pt&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),e){const e=i(t.textures),r=i(t.images);e.length>0&&(n.textures=e),r.length>0&&(n.images=r)}return n}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(null!==e){const t=e.length;n=new Array(t);for(let i=0;i!==t;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}}class Nn extends In{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Cn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ze,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const Dn=new ue,Un=new Ut;class On{constructor(t,e,n=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=n,this.usage=zt,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=G,this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}get updateRange(){return Gt("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,n=this.count;e<n;e++)Un.fromBufferAttribute(this,e),Un.applyMatrix3(t),this.setXY(e,Un.x,Un.y);else if(3===this.itemSize)for(let e=0,n=this.count;e<n;e++)Dn.fromBufferAttribute(this,e),Dn.applyMatrix3(t),this.setXYZ(e,Dn.x,Dn.y,Dn.z);return this}applyMatrix4(t){for(let e=0,n=this.count;e<n;e++)Dn.fromBufferAttribute(this,e),Dn.applyMatrix4(t),this.setXYZ(e,Dn.x,Dn.y,Dn.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)Dn.fromBufferAttribute(this,e),Dn.applyNormalMatrix(t),this.setXYZ(e,Dn.x,Dn.y,Dn.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)Dn.fromBufferAttribute(this,e),Dn.transformDirection(t),this.setXYZ(e,Dn.x,Dn.y,Dn.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let n=this.array[t*this.itemSize+e];return this.normalized&&(n=It(n,this.array)),n}setComponent(t,e,n){return this.normalized&&(n=Nt(n,this.array)),this.array[t*this.itemSize+e]=n,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=It(e,this.array)),e}setX(t,e){return this.normalized&&(e=Nt(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=It(e,this.array)),e}setY(t,e){return this.normalized&&(e=Nt(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=It(e,this.array)),e}setZ(t,e){return this.normalized&&(e=Nt(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=It(e,this.array)),e}setW(t,e){return this.normalized&&(e=Nt(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,n){return t*=this.itemSize,this.normalized&&(e=Nt(e,this.array),n=Nt(n,this.array)),this.array[t+0]=e,this.array[t+1]=n,this}setXYZ(t,e,n,i){return t*=this.itemSize,this.normalized&&(e=Nt(e,this.array),n=Nt(n,this.array),i=Nt(i,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this}setXYZW(t,e,n,i,r){return t*=this.itemSize,this.normalized&&(e=Nt(e,this.array),n=Nt(n,this.array),i=Nt(i,this.array),r=Nt(r,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),this.usage!==zt&&(t.usage=this.usage),t}}class kn extends On{constructor(t,e,n){super(new Uint16Array(t),e,n)}}class Fn extends On{constructor(t,e,n){super(new Uint32Array(t),e,n)}}class Bn extends On{constructor(t,e,n){super(new Float32Array(t),e,n)}}let Hn=0;const Vn=new Be,Gn=new fn,Wn=new ue,jn=new he,Xn=new he,qn=new ue;class Yn extends Et{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Hn++}),this.uuid=Rt(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(Ft(t)?Fn:kn)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const e=(new Ot).getNormalMatrix(t);n.applyNormalMatrix(e),n.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(t),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return Vn.makeRotationFromQuaternion(t),this.applyMatrix4(Vn),this}rotateX(t){return Vn.makeRotationX(t),this.applyMatrix4(Vn),this}rotateY(t){return Vn.makeRotationY(t),this.applyMatrix4(Vn),this}rotateZ(t){return Vn.makeRotationZ(t),this.applyMatrix4(Vn),this}translate(t,e,n){return Vn.makeTranslation(t,e,n),this.applyMatrix4(Vn),this}scale(t,e,n){return Vn.makeScale(t,e,n),this.applyMatrix4(Vn),this}lookAt(t){return Gn.lookAt(t),Gn.updateMatrix(),this.applyMatrix4(Gn.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Wn).negate(),this.translate(Wn.x,Wn.y,Wn.z),this}setFromPoints(t){const e=[];for(let n=0,i=t.length;n<i;n++){const i=t[n];e.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new Bn(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new he);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new ue(-1/0,-1/0,-1/0),new ue(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++){const n=e[t];jn.setFromBufferAttribute(n),this.morphTargetsRelative?(qn.addVectors(this.boundingBox.min,jn.min),this.boundingBox.expandByPoint(qn),qn.addVectors(this.boundingBox.max,jn.max),this.boundingBox.expandByPoint(qn)):(this.boundingBox.expandByPoint(jn.min),this.boundingBox.expandByPoint(jn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Pe);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new ue,1/0);if(t){const n=this.boundingSphere.center;if(jn.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++){const n=e[t];Xn.setFromBufferAttribute(n),this.morphTargetsRelative?(qn.addVectors(jn.min,Xn.min),jn.expandByPoint(qn),qn.addVectors(jn.max,Xn.max),jn.expandByPoint(qn)):(jn.expandByPoint(Xn.min),jn.expandByPoint(Xn.max))}jn.getCenter(n);let i=0;for(let e=0,r=t.count;e<r;e++)qn.fromBufferAttribute(t,e),i=Math.max(i,n.distanceToSquared(qn));if(e)for(let r=0,o=e.length;r<o;r++){const o=e[r],s=this.morphTargetsRelative;for(let e=0,r=o.count;e<r;e++)qn.fromBufferAttribute(o,e),s&&(Wn.fromBufferAttribute(t,e),qn.add(Wn)),i=Math.max(i,n.distanceToSquared(qn))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=e.position,i=e.normal,r=e.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new On(new Float32Array(4*n.count),4));const o=this.getAttribute("tangent"),s=[],a=[];for(let t=0;t<n.count;t++)s[t]=new ue,a[t]=new ue;const l=new ue,c=new ue,u=new ue,d=new Ut,p=new Ut,h=new Ut,f=new ue,m=new ue;function y(t,e,i){l.fromBufferAttribute(n,t),c.fromBufferAttribute(n,e),u.fromBufferAttribute(n,i),d.fromBufferAttribute(r,t),p.fromBufferAttribute(r,e),h.fromBufferAttribute(r,i),c.sub(l),u.sub(l),p.sub(d),h.sub(d);const o=1/(p.x*h.y-h.x*p.y);isFinite(o)&&(f.copy(c).multiplyScalar(h.y).addScaledVector(u,-p.y).multiplyScalar(o),m.copy(u).multiplyScalar(p.x).addScaledVector(c,-h.x).multiplyScalar(o),s[t].add(f),s[e].add(f),s[i].add(f),a[t].add(m),a[e].add(m),a[i].add(m))}let x=this.groups;0===x.length&&(x=[{start:0,count:t.count}]);for(let e=0,n=x.length;e<n;++e){const n=x[e],i=n.start;for(let e=i,r=i+n.count;e<r;e+=3)y(t.getX(e+0),t.getX(e+1),t.getX(e+2))}const g=new ue,v=new ue,_=new ue,z=new ue;function b(t){_.fromBufferAttribute(i,t),z.copy(_);const e=s[t];g.copy(e),g.sub(_.multiplyScalar(_.dot(e))).normalize(),v.crossVectors(z,e);const n=v.dot(a[t])<0?-1:1;o.setXYZW(t,g.x,g.y,g.z,n)}for(let e=0,n=x.length;e<n;++e){const n=x[e],i=n.start;for(let e=i,r=i+n.count;e<r;e+=3)b(t.getX(e+0)),b(t.getX(e+1)),b(t.getX(e+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new On(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let t=0,e=n.count;t<e;t++)n.setXYZ(t,0,0,0);const i=new ue,r=new ue,o=new ue,s=new ue,a=new ue,l=new ue,c=new ue,u=new ue;if(t)for(let d=0,p=t.count;d<p;d+=3){const p=t.getX(d+0),h=t.getX(d+1),f=t.getX(d+2);i.fromBufferAttribute(e,p),r.fromBufferAttribute(e,h),o.fromBufferAttribute(e,f),c.subVectors(o,r),u.subVectors(i,r),c.cross(u),s.fromBufferAttribute(n,p),a.fromBufferAttribute(n,h),l.fromBufferAttribute(n,f),s.add(c),a.add(c),l.add(c),n.setXYZ(p,s.x,s.y,s.z),n.setXYZ(h,a.x,a.y,a.z),n.setXYZ(f,l.x,l.y,l.z)}else for(let t=0,s=e.count;t<s;t+=3)i.fromBufferAttribute(e,t+0),r.fromBufferAttribute(e,t+1),o.fromBufferAttribute(e,t+2),c.subVectors(o,r),u.subVectors(i,r),c.cross(u),n.setXYZ(t+0,c.x,c.y,c.z),n.setXYZ(t+1,c.x,c.y,c.z),n.setXYZ(t+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)qn.fromBufferAttribute(t,e),qn.normalize(),t.setXYZ(e,qn.x,qn.y,qn.z)}toNonIndexed(){function t(t,e){const n=t.array,i=t.itemSize,r=t.normalized,o=new n.constructor(e.length*i);let s=0,a=0;for(let r=0,l=e.length;r<l;r++){s=t.isInterleavedBufferAttribute?e[r]*t.data.stride+t.offset:e[r]*i;for(let t=0;t<i;t++)o[a++]=n[s++]}return new On(o,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Yn,n=this.index.array,i=this.attributes;for(const r in i){const o=t(i[r],n);e.setAttribute(r,o)}const r=this.morphAttributes;for(const i in r){const o=[],s=r[i];for(let e=0,i=s.length;e<i;e++){const i=t(s[e],n);o.push(i)}e.morphAttributes[i]=o}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let t=0,n=o.length;t<n;t++){const n=o[t];e.addGroup(n.start,n.count,n.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const e=this.parameters;for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const e in n){const i=n[e];t.data.attributes[e]=i.toJSON(t.data)}const i={};let r=!1;for(const e in this.morphAttributes){const n=this.morphAttributes[e],o=[];for(let e=0,i=n.length;e<i;e++){const i=n[e];o.push(i.toJSON(t.data))}o.length>0&&(i[e]=o,r=!0)}r&&(t.data.morphAttributes=i,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return null!==s&&(t.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;null!==n&&this.setIndex(n.clone(e));const i=t.attributes;for(const t in i){const n=i[t];this.setAttribute(t,n.clone(e))}const r=t.morphAttributes;for(const t in r){const n=[],i=r[t];for(let t=0,r=i.length;t<r;t++)n.push(i[t].clone(e));this.morphAttributes[t]=n}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let t=0,e=o.length;t<e;t++){const e=o[t];this.addGroup(e.start,e.count,e.materialIndex)}const s=t.boundingBox;null!==s&&(this.boundingBox=s.clone());const a=t.boundingSphere;return null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Kn=new Be,Zn=new Fe,$n=new Pe,Jn=new ue,Qn=new ue,ti=new ue,ei=new ue,ni=new ue,ii=new ue,ri=new Ut,oi=new Ut,si=new Ut,ai=new ue,li=new ue,ci=new ue,ui=new ue,di=new ue;class pi extends fn{constructor(t=new Yn,e=new Nn){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const n=t[e[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=n.length;t<e;t++){const e=n[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}getVertexPosition(t,e){const n=this.geometry,i=n.attributes.position,r=n.morphAttributes.position,o=n.morphTargetsRelative;e.fromBufferAttribute(i,t);const s=this.morphTargetInfluences;if(r&&s){ii.set(0,0,0);for(let n=0,i=r.length;n<i;n++){const i=s[n],a=r[n];0!==i&&(ni.fromBufferAttribute(a,t),o?ii.addScaledVector(ni,i):ii.addScaledVector(ni.sub(e),i))}e.add(ii)}return e}raycast(t,e){const n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0!==i){if(null===n.boundingSphere&&n.computeBoundingSphere(),$n.copy(n.boundingSphere),$n.applyMatrix4(r),Zn.copy(t.ray).recast(t.near),!1===$n.containsPoint(Zn.origin)){if(null===Zn.intersectSphere($n,Jn))return;if(Zn.origin.distanceToSquared(Jn)>(t.far-t.near)**2)return}Kn.copy(r).invert(),Zn.copy(t.ray).applyMatrix4(Kn),null!==n.boundingBox&&!1===Zn.intersectsBox(n.boundingBox)||this._computeIntersections(t,e,Zn)}}_computeIntersections(t,e,n){let i;const r=this.geometry,o=this.material,s=r.index,a=r.attributes.position,l=r.attributes.uv,c=r.attributes.uv1,u=r.attributes.normal,d=r.groups,p=r.drawRange;if(null!==s)if(Array.isArray(o))for(let r=0,a=d.length;r<a;r++){const a=d[r],h=o[a.materialIndex];for(let r=Math.max(a.start,p.start),o=Math.min(s.count,Math.min(a.start+a.count,p.start+p.count));r<o;r+=3)i=hi(this,h,t,n,l,c,u,s.getX(r),s.getX(r+1),s.getX(r+2)),i&&(i.faceIndex=Math.floor(r/3),i.face.materialIndex=a.materialIndex,e.push(i))}else for(let r=Math.max(0,p.start),a=Math.min(s.count,p.start+p.count);r<a;r+=3)i=hi(this,o,t,n,l,c,u,s.getX(r),s.getX(r+1),s.getX(r+2)),i&&(i.faceIndex=Math.floor(r/3),e.push(i));else if(void 0!==a)if(Array.isArray(o))for(let r=0,s=d.length;r<s;r++){const s=d[r],h=o[s.materialIndex];for(let r=Math.max(s.start,p.start),o=Math.min(a.count,Math.min(s.start+s.count,p.start+p.count));r<o;r+=3)i=hi(this,h,t,n,l,c,u,r,r+1,r+2),i&&(i.faceIndex=Math.floor(r/3),i.face.materialIndex=s.materialIndex,e.push(i))}else for(let r=Math.max(0,p.start),s=Math.min(a.count,p.start+p.count);r<s;r+=3)i=hi(this,o,t,n,l,c,u,r,r+1,r+2),i&&(i.faceIndex=Math.floor(r/3),e.push(i))}}function hi(t,e,n,i,r,o,s,a,l,c){t.getVertexPosition(a,Qn),t.getVertexPosition(l,ti),t.getVertexPosition(c,ei);const u=function(t,e,n,i,r,o,s,a){let l;if(l=1===e.side?i.intersectTriangle(s,o,r,!0,a):i.intersectTriangle(r,o,s,0===e.side,a),null===l)return null;di.copy(a),di.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(di);return c<n.near||c>n.far?null:{distance:c,point:di.clone(),object:t}}(t,e,n,i,Qn,ti,ei,ui);if(u){r&&(ri.fromBufferAttribute(r,a),oi.fromBufferAttribute(r,l),si.fromBufferAttribute(r,c),u.uv=En.getInterpolation(ui,Qn,ti,ei,ri,oi,si,new Ut)),o&&(ri.fromBufferAttribute(o,a),oi.fromBufferAttribute(o,l),si.fromBufferAttribute(o,c),u.uv1=En.getInterpolation(ui,Qn,ti,ei,ri,oi,si,new Ut)),s&&(ai.fromBufferAttribute(s,a),li.fromBufferAttribute(s,l),ci.fromBufferAttribute(s,c),u.normal=En.getInterpolation(ui,Qn,ti,ei,ai,li,ci,new ue),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const t={a,b:l,c,normal:new ue,materialIndex:0};En.getNormal(Qn,ti,ei,t.normal),u.face=t}return u}class fi extends Yn{constructor(t=1,e=1,n=1,i=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:r,depthSegments:o};const s=this;i=Math.floor(i),r=Math.floor(r),o=Math.floor(o);const a=[],l=[],c=[],u=[];let d=0,p=0;function h(t,e,n,i,r,o,h,f,m,y,x){const g=o/m,v=h/y,_=o/2,z=h/2,b=f/2,S=m+1,M=y+1;let E=0,w=0;const T=new ue;for(let o=0;o<M;o++){const s=o*v-z;for(let a=0;a<S;a++){const d=a*g-_;T[t]=d*i,T[e]=s*r,T[n]=b,l.push(T.x,T.y,T.z),T[t]=0,T[e]=0,T[n]=f>0?1:-1,c.push(T.x,T.y,T.z),u.push(a/m),u.push(1-o/y),E+=1}}for(let t=0;t<y;t++)for(let e=0;e<m;e++){const n=d+e+S*t,i=d+e+S*(t+1),r=d+(e+1)+S*(t+1),o=d+(e+1)+S*t;a.push(n,i,o),a.push(i,r,o),w+=6}s.addGroup(p,w,x),p+=w,d+=E}h("z","y","x",-1,-1,n,e,t,o,r,0),h("z","y","x",1,-1,n,e,-t,o,r,1),h("x","z","y",1,1,t,n,e,i,o,2),h("x","z","y",1,-1,t,n,-e,i,o,3),h("x","y","z",1,-1,t,e,n,i,r,4),h("x","y","z",-1,-1,t,e,-n,i,r,5),this.setIndex(a),this.setAttribute("position",new Bn(l,3)),this.setAttribute("normal",new Bn(c,3)),this.setAttribute("uv",new Bn(u,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new fi(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function mi(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function yi(t){const e={};for(let n=0;n<t.length;n++){const i=mi(t[n]);for(const t in i)e[t]=i[t]}return e}function xi(t){const e=t.getRenderTarget();return null===e?t.outputColorSpace:!0===e.isXRRenderTarget?e.texture.colorSpace:Yt.workingColorSpace}const gi={clone:mi,merge:yi};class vi extends In{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=mi(t.uniforms),this.uniformsGroups=function(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const n in this.uniforms){const i=this.uniforms[n].value;i&&i.isTexture?e.uniforms[n]={type:"t",value:i.toJSON(t).uuid}:i&&i.isColor?e.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?e.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?e.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?e.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?e.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?e.uniforms[n]={type:"m4",value:i.toArray()}:e.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const n={};for(const t in this.extensions)!0===this.extensions[t]&&(n[t]=!0);return Object.keys(n).length>0&&(e.extensions=n),e}}class _i extends fn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Be,this.projectionMatrix=new Be,this.projectionMatrixInverse=new Be,this.coordinateSystem=St}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const zi=new ue,bi=new Ut,Si=new Ut;class Mi extends _i{constructor(t=50,e=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*At*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*Tt*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*At*Math.atan(Math.tan(.5*Tt*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,n){zi.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(zi.x,zi.y).multiplyScalar(-t/zi.z),zi.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(zi.x,zi.y).multiplyScalar(-t/zi.z)}getViewSize(t,e){return this.getViewBounds(t,bi,Si),e.subVectors(Si,bi)}setViewOffset(t,e,n,i,r,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*Tt*this.fov)/this.zoom,n=2*e,i=this.aspect*n,r=-.5*i;const o=this.view;if(null!==this.view&&this.view.enabled){const t=o.fullWidth,s=o.fullHeight;r+=o.offsetX*i/t,e-=o.offsetY*n/s,i*=o.width/t,n*=o.height/s}const s=this.filmOffset;0!==s&&(r+=t*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,e,e-n,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const Ei=-90;class wi extends fn{constructor(t,e,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Mi(Ei,1,t,e);i.layers=this.layers,this.add(i);const r=new Mi(Ei,1,t,e);r.layers=this.layers,this.add(r);const o=new Mi(Ei,1,t,e);o.layers=this.layers,this.add(o);const s=new Mi(Ei,1,t,e);s.layers=this.layers,this.add(s);const a=new Mi(Ei,1,t,e);a.layers=this.layers,this.add(a);const l=new Mi(Ei,1,t,e);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[n,i,r,o,s,a]=e;for(const t of e)this.remove(t);if(t===St)n.up.set(0,1,0),n.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),a.up.set(0,1,0),a.lookAt(0,0,-1);else{if(t!==Mt)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);n.up.set(0,-1,0),n.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),a.up.set(0,-1,0),a.lookAt(0,0,-1)}for(const t of e)this.add(t),t.updateMatrixWorld()}update(t,e){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:i}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[r,o,s,a,l,c]=this.children,u=t.getRenderTarget(),d=t.getActiveCubeFace(),p=t.getActiveMipmapLevel(),h=t.xr.enabled;t.xr.enabled=!1;const f=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0,i),t.render(e,r),t.setRenderTarget(n,1,i),t.render(e,o),t.setRenderTarget(n,2,i),t.render(e,s),t.setRenderTarget(n,3,i),t.render(e,a),t.setRenderTarget(n,4,i),t.render(e,l),n.texture.generateMipmaps=f,t.setRenderTarget(n,5,i),t.render(e,c),t.setRenderTarget(u,d,p),t.xr.enabled=h,n.texture.needsPMREMUpdate=!0}}class Ti extends ie{constructor(t,e,n,i,r,o,s,a,l,c){super(t=void 0!==t?t:[],e=void 0!==e?e:A,n,i,r,o,s,a,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class Ai extends se{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const n={width:t,height:t,depth:1},i=[n,n,n,n,n,n];this.texture=new Ti(i,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:O}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n={tEquirect:{value:null}},i="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",r="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",o=new fi(5,5,5),s=new vi({name:"CubemapFromEquirect",uniforms:mi(n),vertexShader:i,fragmentShader:r,side:1,blending:0});s.uniforms.tEquirect.value=e;const a=new pi(o,s),l=e.minFilter;return e.minFilter===F&&(e.minFilter=O),new wi(1,10,this).update(t,a),e.minFilter=l,a.geometry.dispose(),a.material.dispose(),this}clear(t,e,n,i){const r=t.getRenderTarget();for(let r=0;r<6;r++)t.setRenderTarget(this,r),t.clear(e,n,i);t.setRenderTarget(r)}}const Ri=new ue,Ci=new ue,Pi=new Ot;class Li{constructor(t=new ue(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const i=Ri.subVectors(n,e).cross(Ci.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const n=t.delta(Ri),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const r=-(t.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:e.copy(t.start).addScaledVector(n,r)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||Pi.getNormalMatrix(t),i=this.coplanarPoint(Ri).applyMatrix4(t),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Ii=new Pe,Ni=new ue;class Di{constructor(t=new Li,e=new Li,n=new Li,i=new Li,r=new Li,o=new Li){this.planes=[t,e,n,i,r,o]}set(t,e,n,i,r,o){const s=this.planes;return s[0].copy(t),s[1].copy(e),s[2].copy(n),s[3].copy(i),s[4].copy(r),s[5].copy(o),this}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t,e=2e3){const n=this.planes,i=t.elements,r=i[0],o=i[1],s=i[2],a=i[3],l=i[4],c=i[5],u=i[6],d=i[7],p=i[8],h=i[9],f=i[10],m=i[11],y=i[12],x=i[13],g=i[14],v=i[15];if(n[0].setComponents(a-r,d-l,m-p,v-y).normalize(),n[1].setComponents(a+r,d+l,m+p,v+y).normalize(),n[2].setComponents(a+o,d+c,m+h,v+x).normalize(),n[3].setComponents(a-o,d-c,m-h,v-x).normalize(),n[4].setComponents(a-s,d-u,m-f,v-g).normalize(),e===St)n[5].setComponents(a+s,d+u,m+f,v+g).normalize();else{if(e!==Mt)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);n[5].setComponents(s,u,f,g).normalize()}return this}intersectsObject(t){if(void 0!==t.boundingSphere)null===t.boundingSphere&&t.computeBoundingSphere(),Ii.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;null===e.boundingSphere&&e.computeBoundingSphere(),Ii.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(Ii)}intersectsSprite(t){return Ii.center.set(0,0,0),Ii.radius=.7071067811865476,Ii.applyMatrix4(t.matrixWorld),this.intersectsSphere(Ii)}intersectsSphere(t){const e=this.planes,n=t.center,i=-t.radius;for(let t=0;t<6;t++)if(e[t].distanceToPoint(n)<i)return!1;return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const i=e[n];if(Ni.x=i.normal.x>0?t.max.x:t.min.x,Ni.y=i.normal.y>0?t.max.y:t.min.y,Ni.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(Ni)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function Ui(){let t=null,e=!1,n=null,i=null;function r(e,o){n(e,o),i=t.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==n&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function Oi(t){const e=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),e.get(t)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);const i=e.get(n);i&&(t.deleteBuffer(i.buffer),e.delete(n))},update:function(n,i){if(n.isGLBufferAttribute){const t=e.get(n);return void((!t||t.version<n.version)&&e.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version}))}n.isInterleavedBufferAttribute&&(n=n.data);const r=e.get(n);if(void 0===r)e.set(n,function(e,n){const i=e.array,r=e.usage,o=i.byteLength,s=t.createBuffer();let a;if(t.bindBuffer(n,s),t.bufferData(n,i,r),e.onUploadCallback(),i instanceof Float32Array)a=t.FLOAT;else if(i instanceof Uint16Array)a=e.isFloat16BufferAttribute?t.HALF_FLOAT:t.UNSIGNED_SHORT;else if(i instanceof Int16Array)a=t.SHORT;else if(i instanceof Uint32Array)a=t.UNSIGNED_INT;else if(i instanceof Int32Array)a=t.INT;else if(i instanceof Int8Array)a=t.BYTE;else if(i instanceof Uint8Array)a=t.UNSIGNED_BYTE;else{if(!(i instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);a=t.UNSIGNED_BYTE}return{buffer:s,type:a,bytesPerElement:i.BYTES_PER_ELEMENT,version:e.version,size:o}}(n,i));else if(r.version<n.version){if(r.size!==n.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(e,n,i){const r=n.array,o=n._updateRange,s=n.updateRanges;if(t.bindBuffer(i,e),-1===o.count&&0===s.length&&t.bufferSubData(i,0,r),0!==s.length){for(let e=0,n=s.length;e<n;e++){const n=s[e];t.bufferSubData(i,n.start*r.BYTES_PER_ELEMENT,r,n.start,n.count)}n.clearUpdateRanges()}-1!==o.count&&(t.bufferSubData(i,o.offset*r.BYTES_PER_ELEMENT,r,o.offset,o.count),o.count=-1),n.onUploadCallback()}(r.buffer,n,i),r.version=n.version}}}}class ki extends Yn{constructor(t=1,e=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i};const r=t/2,o=e/2,s=Math.floor(n),a=Math.floor(i),l=s+1,c=a+1,u=t/s,d=e/a,p=[],h=[],f=[],m=[];for(let t=0;t<c;t++){const e=t*d-o;for(let n=0;n<l;n++){const i=n*u-r;h.push(i,-e,0),f.push(0,0,1),m.push(n/s),m.push(1-t/a)}}for(let t=0;t<a;t++)for(let e=0;e<s;e++){const n=e+l*t,i=e+l*(t+1),r=e+1+l*(t+1),o=e+1+l*t;p.push(n,i,o),p.push(i,r,o)}this.setIndex(p),this.setAttribute("position",new Bn(h,3)),this.setAttribute("normal",new Bn(f,3)),this.setAttribute("uv",new Bn(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new ki(t.width,t.height,t.widthSegments,t.heightSegments)}}const Fi={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\tattribute float batchId;\n\tuniform highp sampler2D batchingTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( batchId );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( batchId );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t\n\t\t#else\n\t\t\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Bi={common:{diffuse:{value:new Cn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ot},alphaMap:{value:null},alphaMapTransform:{value:new Ot},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ot}},envmap:{envMap:{value:null},envMapRotation:{value:new Ot},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ot}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ot}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ot},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ot},normalScale:{value:new Ut(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ot},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ot}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ot}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ot}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Cn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Cn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ot},alphaTest:{value:0},uvTransform:{value:new Ot}},sprite:{diffuse:{value:new Cn(16777215)},opacity:{value:1},center:{value:new Ut(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ot},alphaMap:{value:null},alphaMapTransform:{value:new Ot},alphaTest:{value:0}}},Hi={basic:{uniforms:yi([Bi.common,Bi.specularmap,Bi.envmap,Bi.aomap,Bi.lightmap,Bi.fog]),vertexShader:Fi.meshbasic_vert,fragmentShader:Fi.meshbasic_frag},lambert:{uniforms:yi([Bi.common,Bi.specularmap,Bi.envmap,Bi.aomap,Bi.lightmap,Bi.emissivemap,Bi.bumpmap,Bi.normalmap,Bi.displacementmap,Bi.fog,Bi.lights,{emissive:{value:new Cn(0)}}]),vertexShader:Fi.meshlambert_vert,fragmentShader:Fi.meshlambert_frag},phong:{uniforms:yi([Bi.common,Bi.specularmap,Bi.envmap,Bi.aomap,Bi.lightmap,Bi.emissivemap,Bi.bumpmap,Bi.normalmap,Bi.displacementmap,Bi.fog,Bi.lights,{emissive:{value:new Cn(0)},specular:{value:new Cn(1118481)},shininess:{value:30}}]),vertexShader:Fi.meshphong_vert,fragmentShader:Fi.meshphong_frag},standard:{uniforms:yi([Bi.common,Bi.envmap,Bi.aomap,Bi.lightmap,Bi.emissivemap,Bi.bumpmap,Bi.normalmap,Bi.displacementmap,Bi.roughnessmap,Bi.metalnessmap,Bi.fog,Bi.lights,{emissive:{value:new Cn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Fi.meshphysical_vert,fragmentShader:Fi.meshphysical_frag},toon:{uniforms:yi([Bi.common,Bi.aomap,Bi.lightmap,Bi.emissivemap,Bi.bumpmap,Bi.normalmap,Bi.displacementmap,Bi.gradientmap,Bi.fog,Bi.lights,{emissive:{value:new Cn(0)}}]),vertexShader:Fi.meshtoon_vert,fragmentShader:Fi.meshtoon_frag},matcap:{uniforms:yi([Bi.common,Bi.bumpmap,Bi.normalmap,Bi.displacementmap,Bi.fog,{matcap:{value:null}}]),vertexShader:Fi.meshmatcap_vert,fragmentShader:Fi.meshmatcap_frag},points:{uniforms:yi([Bi.points,Bi.fog]),vertexShader:Fi.points_vert,fragmentShader:Fi.points_frag},dashed:{uniforms:yi([Bi.common,Bi.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Fi.linedashed_vert,fragmentShader:Fi.linedashed_frag},depth:{uniforms:yi([Bi.common,Bi.displacementmap]),vertexShader:Fi.depth_vert,fragmentShader:Fi.depth_frag},normal:{uniforms:yi([Bi.common,Bi.bumpmap,Bi.normalmap,Bi.displacementmap,{opacity:{value:1}}]),vertexShader:Fi.meshnormal_vert,fragmentShader:Fi.meshnormal_frag},sprite:{uniforms:yi([Bi.sprite,Bi.fog]),vertexShader:Fi.sprite_vert,fragmentShader:Fi.sprite_frag},background:{uniforms:{uvTransform:{value:new Ot},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Fi.background_vert,fragmentShader:Fi.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Ot}},vertexShader:Fi.backgroundCube_vert,fragmentShader:Fi.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Fi.cube_vert,fragmentShader:Fi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Fi.equirect_vert,fragmentShader:Fi.equirect_frag},distanceRGBA:{uniforms:yi([Bi.common,Bi.displacementmap,{referencePosition:{value:new ue},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Fi.distanceRGBA_vert,fragmentShader:Fi.distanceRGBA_frag},shadow:{uniforms:yi([Bi.lights,Bi.fog,{color:{value:new Cn(0)},opacity:{value:1}}]),vertexShader:Fi.shadow_vert,fragmentShader:Fi.shadow_frag}};Hi.physical={uniforms:yi([Hi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ot},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ot},clearcoatNormalScale:{value:new Ut(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ot},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ot},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ot},sheen:{value:0},sheenColor:{value:new Cn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ot},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ot},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ot},transmissionSamplerSize:{value:new Ut},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ot},attenuationDistance:{value:0},attenuationColor:{value:new Cn(0)},specularColor:{value:new Cn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ot},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ot},anisotropyVector:{value:new Ut},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ot}}]),vertexShader:Fi.meshphysical_vert,fragmentShader:Fi.meshphysical_frag};const Vi={r:0,b:0,g:0},Gi=new Ze,Wi=new Be;function ji(t,e,n,i,r,o,s){const a=new Cn(0);let l,c,u=!0===o?0:1,d=null,p=0,h=null;function f(t){let i=!0===t.isScene?t.background:null;return i&&i.isTexture&&(i=(t.backgroundBlurriness>0?n:e).get(i)),i}function m(e,n){e.getRGB(Vi,xi(t)),i.buffers.color.setClear(Vi.r,Vi.g,Vi.b,n,s)}return{getClearColor:function(){return a},setClearColor:function(t,e=1){a.set(t),u=e,m(a,u)},getClearAlpha:function(){return u},setClearAlpha:function(t){u=t,m(a,u)},render:function(e){let n=!1;const r=f(e);null===r?m(a,u):r&&r.isColor&&(m(r,1),n=!0);const o=t.xr.getEnvironmentBlendMode();"additive"===o?i.buffers.color.setClear(0,0,0,1,s):"alpha-blend"===o&&i.buffers.color.setClear(0,0,0,0,s),(t.autoClear||n)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))},addToRenderList:function(e,n){const i=f(n);i&&(i.isCubeTexture||i.mapping===C)?(void 0===c&&(c=new pi(new fi(1,1,1),new vi({name:"BackgroundCubeMaterial",uniforms:mi(Hi.backgroundCube.uniforms),vertexShader:Hi.backgroundCube.vertexShader,fragmentShader:Hi.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),Gi.copy(n.backgroundRotation),Gi.x*=-1,Gi.y*=-1,Gi.z*=-1,i.isCubeTexture&&!1===i.isRenderTargetTexture&&(Gi.y*=-1,Gi.z*=-1),c.material.uniforms.envMap.value=i,c.material.uniforms.flipEnvMap.value=i.isCubeTexture&&!1===i.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(Wi.makeRotationFromEuler(Gi)),c.material.toneMapped=Yt.getTransfer(i.colorSpace)!==ct,d===i&&p===i.version&&h===t.toneMapping||(c.material.needsUpdate=!0,d=i,p=i.version,h=t.toneMapping),c.layers.enableAll(),e.unshift(c,c.geometry,c.material,0,0,null)):i&&i.isTexture&&(void 0===l&&(l=new pi(new ki(2,2),new vi({name:"BackgroundMaterial",uniforms:mi(Hi.background.uniforms),vertexShader:Hi.background.vertexShader,fragmentShader:Hi.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=i,l.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,l.material.toneMapped=Yt.getTransfer(i.colorSpace)!==ct,!0===i.matrixAutoUpdate&&i.updateMatrix(),l.material.uniforms.uvTransform.value.copy(i.matrix),d===i&&p===i.version&&h===t.toneMapping||(l.material.needsUpdate=!0,d=i,p=i.version,h=t.toneMapping),l.layers.enableAll(),e.unshift(l,l.geometry,l.material,0,0,null))}}}function Xi(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},r=c(null);let o=r,s=!1;function a(e){return t.bindVertexArray(e)}function l(e){return t.deleteVertexArray(e)}function c(t){const e=[],i=[],r=[];for(let t=0;t<n;t++)e[t]=0,i[t]=0,r[t]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:i,attributeDivisors:r,object:t,attributes:{},index:null}}function u(){const t=o.newAttributes;for(let e=0,n=t.length;e<n;e++)t[e]=0}function d(t){p(t,0)}function p(e,n){const i=o.newAttributes,r=o.enabledAttributes,s=o.attributeDivisors;i[e]=1,0===r[e]&&(t.enableVertexAttribArray(e),r[e]=1),s[e]!==n&&(t.vertexAttribDivisor(e,n),s[e]=n)}function h(){const e=o.newAttributes,n=o.enabledAttributes;for(let i=0,r=n.length;i<r;i++)n[i]!==e[i]&&(t.disableVertexAttribArray(i),n[i]=0)}function f(e,n,i,r,o,s,a){!0===a?t.vertexAttribIPointer(e,n,i,o,s):t.vertexAttribPointer(e,n,i,r,o,s)}function m(){y(),s=!0,o!==r&&(o=r,a(o.object))}function y(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:function(n,r,l,m,y){let x=!1;const g=function(e,n,r){const o=!0===r.wireframe;let s=i[e.id];void 0===s&&(s={},i[e.id]=s);let a=s[n.id];void 0===a&&(a={},s[n.id]=a);let l=a[o];return void 0===l&&(l=c(t.createVertexArray()),a[o]=l),l}(m,l,r);o!==g&&(o=g,a(o.object)),x=function(t,e,n,i){const r=o.attributes,s=e.attributes;let a=0;const l=n.getAttributes();for(const e in l)if(l[e].location>=0){const n=r[e];let i=s[e];if(void 0===i&&("instanceMatrix"===e&&t.instanceMatrix&&(i=t.instanceMatrix),"instanceColor"===e&&t.instanceColor&&(i=t.instanceColor)),void 0===n)return!0;if(n.attribute!==i)return!0;if(i&&n.data!==i.data)return!0;a++}return o.attributesNum!==a||o.index!==i}(n,m,l,y),x&&function(t,e,n,i){const r={},s=e.attributes;let a=0;const l=n.getAttributes();for(const e in l)if(l[e].location>=0){let n=s[e];void 0===n&&("instanceMatrix"===e&&t.instanceMatrix&&(n=t.instanceMatrix),"instanceColor"===e&&t.instanceColor&&(n=t.instanceColor));const i={};i.attribute=n,n&&n.data&&(i.data=n.data),r[e]=i,a++}o.attributes=r,o.attributesNum=a,o.index=i}(n,m,l,y),null!==y&&e.update(y,t.ELEMENT_ARRAY_BUFFER),(x||s)&&(s=!1,function(n,i,r,o){u();const s=o.attributes,a=r.getAttributes(),l=i.defaultAttributeValues;for(const i in a){const r=a[i];if(r.location>=0){let a=s[i];if(void 0===a&&("instanceMatrix"===i&&n.instanceMatrix&&(a=n.instanceMatrix),"instanceColor"===i&&n.instanceColor&&(a=n.instanceColor)),void 0!==a){const i=a.normalized,s=a.itemSize,l=e.get(a);if(void 0===l)continue;const c=l.buffer,u=l.type,h=l.bytesPerElement,m=u===t.INT||u===t.UNSIGNED_INT||1013===a.gpuType;if(a.isInterleavedBufferAttribute){const e=a.data,l=e.stride,y=a.offset;if(e.isInstancedInterleavedBuffer){for(let t=0;t<r.locationSize;t++)p(r.location+t,e.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===o._maxInstanceCount&&(o._maxInstanceCount=e.meshPerAttribute*e.count)}else for(let t=0;t<r.locationSize;t++)d(r.location+t);t.bindBuffer(t.ARRAY_BUFFER,c);for(let t=0;t<r.locationSize;t++)f(r.location+t,s/r.locationSize,u,i,l*h,(y+s/r.locationSize*t)*h,m)}else{if(a.isInstancedBufferAttribute){for(let t=0;t<r.locationSize;t++)p(r.location+t,a.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===o._maxInstanceCount&&(o._maxInstanceCount=a.meshPerAttribute*a.count)}else for(let t=0;t<r.locationSize;t++)d(r.location+t);t.bindBuffer(t.ARRAY_BUFFER,c);for(let t=0;t<r.locationSize;t++)f(r.location+t,s/r.locationSize,u,i,s*h,s/r.locationSize*t*h,m)}}else if(void 0!==l){const e=l[i];if(void 0!==e)switch(e.length){case 2:t.vertexAttrib2fv(r.location,e);break;case 3:t.vertexAttrib3fv(r.location,e);break;case 4:t.vertexAttrib4fv(r.location,e);break;default:t.vertexAttrib1fv(r.location,e)}}}}h()}(n,r,l,m),null!==y&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(y).buffer))},reset:m,resetDefaultState:y,dispose:function(){m();for(const t in i){const e=i[t];for(const t in e){const n=e[t];for(const t in n)l(n[t].object),delete n[t];delete e[t]}delete i[t]}},releaseStatesOfGeometry:function(t){if(void 0===i[t.id])return;const e=i[t.id];for(const t in e){const n=e[t];for(const t in n)l(n[t].object),delete n[t];delete e[t]}delete i[t.id]},releaseStatesOfProgram:function(t){for(const e in i){const n=i[e];if(void 0===n[t.id])continue;const r=n[t.id];for(const t in r)l(r[t].object),delete r[t];delete n[t.id]}},initAttributes:u,enableAttribute:d,disableUnusedAttributes:h}}function qi(t,e,n){let i;function r(e,r,o){0!==o&&(t.drawArraysInstanced(i,e,r,o),n.update(r,i,o))}this.setMode=function(t){i=t},this.render=function(e,r){t.drawArrays(i,e,r),n.update(r,i,1)},this.renderInstances=r,this.renderMultiDraw=function(t,r,o){if(0===o)return;const s=e.get("WEBGL_multi_draw");if(null===s)for(let e=0;e<o;e++)this.render(t[e],r[e]);else{s.multiDrawArraysWEBGL(i,t,0,r,0,o);let e=0;for(let t=0;t<o;t++)e+=r[t];n.update(e,i,1)}},this.renderMultiDrawInstances=function(t,o,s,a){if(0===s)return;const l=e.get("WEBGL_multi_draw");if(null===l)for(let e=0;e<t.length;e++)r(t[e],o[e],a[e]);else{l.multiDrawArraysInstancedWEBGL(i,t,0,o,0,a,0,s);let e=0;for(let t=0;t<s;t++)e+=o[t];for(let t=0;t<a.length;t++)n.update(e,i,a[t])}}}function Yi(t,e,n,i){let r;function o(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let s=void 0!==n.precision?n.precision:"highp";const a=o(s);a!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",a,"instead."),s=a);const l=!0===n.logarithmicDepthBuffer,c=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),u=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===e.has("EXT_texture_filter_anisotropic")){const n=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:o,textureFormatReadable:function(e){return e===X||i.convert(e)===t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(n){const r=n===W&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(n!==B&&i.convert(n)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&n!==G&&!r)},precision:s,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:u,maxTextureSize:t.getParameter(t.MAX_TEXTURE_SIZE),maxCubemapSize:t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:t.getParameter(t.MAX_VERTEX_ATTRIBS),maxVertexUniforms:t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:t.getParameter(t.MAX_VARYING_VECTORS),maxFragmentUniforms:t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:u>0,maxSamples:t.getParameter(t.MAX_SAMPLES)}}function Ki(t){const e=this;let n=null,i=0,r=!1,o=!1;const s=new Li,a=new Ot,l={value:null,needsUpdate:!1};function c(t,n,i,r){const o=null!==t?t.length:0;let c=null;if(0!==o){if(c=l.value,!0!==r||null===c){const e=i+4*o,r=n.matrixWorldInverse;a.getNormalMatrix(r),(null===c||c.length<e)&&(c=new Float32Array(e));for(let e=0,n=i;e!==o;++e,n+=4)s.copy(t[e]).applyMatrix4(r,a),s.normal.toArray(c,n),c[n+3]=s.constant}l.value=c,l.needsUpdate=!0}return e.numPlanes=o,e.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e){const n=0!==t.length||e||0!==i||r;return r=e,i=t.length,n},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(t,e){n=c(t,e,0)},this.setState=function(s,a,u){const d=s.clippingPlanes,p=s.clipIntersection,h=s.clipShadows,f=t.get(s);if(!r||null===d||0===d.length||o&&!h)o?c(null):(l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0);else{const t=o?0:i,e=4*t;let r=f.clippingState||null;l.value=r,r=c(d,a,e,u);for(let t=0;t!==e;++t)r[t]=n[t];f.clippingState=r,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=t}}}function Zi(t){let e=new WeakMap;function n(t,e){return 303===e?t.mapping=A:304===e&&(t.mapping=R),t}function i(t){const n=t.target;n.removeEventListener("dispose",i);const r=e.get(n);void 0!==r&&(e.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){const o=r.mapping;if(303===o||304===o){if(e.has(r))return n(e.get(r).texture,r.mapping);{const o=r.image;if(o&&o.height>0){const s=new Ai(o.height);return s.fromEquirectangularTexture(t,r),e.set(r,s),r.addEventListener("dispose",i),n(s.texture,r.mapping)}return null}}}return r},dispose:function(){e=new WeakMap}}}class $i extends _i{constructor(t=-1,e=1,n=1,i=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=i,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,n,i,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-t,o=n+t,s=i+e,a=i-e;if(null!==this.view&&this.view.enabled){const t=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=t*this.view.offsetX,o=r+t*this.view.width,s-=e*this.view.offsetY,a=s-e*this.view.height}this.projectionMatrix.makeOrthographic(r,o,s,a,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}const Ji=[.125,.215,.35,.446,.526,.582],Qi=new $i,tr=new Cn;let er=null,nr=0,ir=0,rr=!1;const or=(1+Math.sqrt(5))/2,sr=1/or,ar=[new ue(-or,sr,0),new ue(or,sr,0),new ue(-sr,0,or),new ue(sr,0,or),new ue(0,or,-sr),new ue(0,or,sr),new ue(-1,1,-1),new ue(1,1,-1),new ue(-1,1,1),new ue(1,1,1)];class lr{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,n=.1,i=100){er=this._renderer.getRenderTarget(),nr=this._renderer.getActiveCubeFace(),ir=this._renderer.getActiveMipmapLevel(),rr=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(t,n,i,r),e>0&&this._blur(r,0,0,e),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=pr(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=dr(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(er,nr,ir),this._renderer.xr.enabled=rr,t.scissorTest=!1,ur(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===A||t.mapping===R?this._setSize(0===t.image.length?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),er=this._renderer.getRenderTarget(),nr=this._renderer.getActiveCubeFace(),ir=this._renderer.getActiveMipmapLevel(),rr=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=e||this._allocateTargets();return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,n={magFilter:O,minFilter:O,generateMipmaps:!1,type:W,format:X,colorSpace:ot,depthBuffer:!1},i=cr(t,e,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=cr(t,e,n);const{_lodMax:i}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(t){const e=[],n=[],i=[];let r=t;const o=t-4+1+Ji.length;for(let s=0;s<o;s++){const o=Math.pow(2,r);n.push(o);let a=1/o;s>t-4?a=Ji[s-t+4-1]:0===s&&(a=0),i.push(a);const l=1/(o-2),c=-l,u=1+l,d=[c,c,u,c,u,u,c,c,u,u,c,u],p=6,h=6,f=3,m=2,y=1,x=new Float32Array(f*h*p),g=new Float32Array(m*h*p),v=new Float32Array(y*h*p);for(let t=0;t<p;t++){const e=t%3*2/3-1,n=t>2?0:-1,i=[e,n,0,e+2/3,n,0,e+2/3,n+1,0,e,n,0,e+2/3,n+1,0,e,n+1,0];x.set(i,f*h*t),g.set(d,m*h*t);const r=[t,t,t,t,t,t];v.set(r,y*h*t)}const _=new Yn;_.setAttribute("position",new On(x,f)),_.setAttribute("uv",new On(g,m)),_.setAttribute("faceIndex",new On(v,y)),e.push(_),r>4&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}(i)),this._blurMaterial=function(t,e,n){const i=new Float32Array(20),r=new ue(0,1,0);return new vi({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(i,t,e)}return i}_compileMaterial(t){const e=new pi(this._lodPlanes[0],t);this._renderer.compile(e,Qi)}_sceneToCubeUV(t,e,n,i){const r=new Mi(90,1,e,n),o=[1,-1,1,1,1,1],s=[1,1,1,-1,-1,-1],a=this._renderer,l=a.autoClear,c=a.toneMapping;a.getClearColor(tr),a.toneMapping=0,a.autoClear=!1;const u=new Nn({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),d=new pi(new fi,u);let p=!1;const h=t.background;h?h.isColor&&(u.color.copy(h),t.background=null,p=!0):(u.color.copy(tr),p=!0);for(let e=0;e<6;e++){const n=e%3;0===n?(r.up.set(0,o[e],0),r.lookAt(s[e],0,0)):1===n?(r.up.set(0,0,o[e]),r.lookAt(0,s[e],0)):(r.up.set(0,o[e],0),r.lookAt(0,0,s[e]));const l=this._cubeSize;ur(i,n*l,e>2?l:0,l,l),a.setRenderTarget(i),p&&a.render(d,r),a.render(t,r)}d.geometry.dispose(),d.material.dispose(),a.toneMapping=c,a.autoClear=l,t.background=h}_textureToCubeUV(t,e){const n=this._renderer,i=t.mapping===A||t.mapping===R;i?(null===this._cubemapMaterial&&(this._cubemapMaterial=pr()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=dr());const r=i?this._cubemapMaterial:this._equirectMaterial,o=new pi(this._lodPlanes[0],r);r.uniforms.envMap.value=t;const s=this._cubeSize;ur(e,0,0,3*s,2*s),n.setRenderTarget(e),n.render(o,Qi)}_applyPMREM(t){const e=this._renderer,n=e.autoClear;e.autoClear=!1;const i=this._lodPlanes.length;for(let e=1;e<i;e++){const n=Math.sqrt(this._sigmas[e]*this._sigmas[e]-this._sigmas[e-1]*this._sigmas[e-1]),r=ar[(i-e-1)%ar.length];this._blur(t,e-1,e,n,r)}e.autoClear=n}_blur(t,e,n,i,r){const o=this._pingPongRenderTarget;this._halfBlur(t,o,e,n,i,"latitudinal",r),this._halfBlur(o,t,n,n,i,"longitudinal",r)}_halfBlur(t,e,n,i,r,o,s){const a=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const c=new pi(this._lodPlanes[i],l),u=l.uniforms,d=this._sizeLods[n]-1,p=isFinite(r)?Math.PI/(2*d):2*Math.PI/39,h=r/p,f=isFinite(r)?1+Math.floor(3*h):20;f>20&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${f} samples when the maximum is set to 20`);const m=[];let y=0;for(let t=0;t<20;++t){const e=t/h,n=Math.exp(-e*e/2);m.push(n),0===t?y+=n:t<f&&(y+=2*n)}for(let t=0;t<m.length;t++)m[t]=m[t]/y;u.envMap.value=t.texture,u.samples.value=f,u.weights.value=m,u.latitudinal.value="latitudinal"===o,s&&(u.poleAxis.value=s);const{_lodMax:x}=this;u.dTheta.value=p,u.mipInt.value=x-n;const g=this._sizeLods[i];ur(e,3*g*(i>x-4?i-x+4:0),4*(this._cubeSize-g),3*g,2*g),a.setRenderTarget(e),a.render(c,Qi)}}function cr(t,e,n){const i=new se(t,e,n);return i.texture.mapping=C,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function ur(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function dr(){return new vi({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function pr(){return new vi({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function hr(t){let e=new WeakMap,n=null;function i(t){const n=t.target;n.removeEventListener("dispose",i);const r=e.get(n);void 0!==r&&(e.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){const o=r.mapping,s=303===o||304===o,a=o===A||o===R;if(s||a){let o=e.get(r);const l=void 0!==o?o.texture.pmremVersion:0;if(r.isRenderTargetTexture&&r.pmremVersion!==l)return null===n&&(n=new lr(t)),o=s?n.fromEquirectangular(r,o):n.fromCubemap(r,o),o.texture.pmremVersion=r.pmremVersion,e.set(r,o),o.texture;if(void 0!==o)return o.texture;{const l=r.image;return s&&l&&l.height>0||a&&l&&function(t){let e=0;for(let n=0;n<6;n++)void 0!==t[n]&&e++;return 6===e}(l)?(null===n&&(n=new lr(t)),o=s?n.fromEquirectangular(r):n.fromCubemap(r),o.texture.pmremVersion=r.pmremVersion,e.set(r,o),r.addEventListener("dispose",i),o.texture):null}}}return r},dispose:function(){e=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function fr(t){const e={};function n(n){if(void 0!==e[n])return e[n];let i;switch(n){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(n)}return e[n]=i,i}return{has:function(t){return null!==n(t)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(t){const e=n(t);return null===e&&Gt("THREE.WebGLRenderer: "+t+" extension not supported."),e}}}function mr(t,e,n,i){const r={},o=new WeakMap;function s(t){const a=t.target;null!==a.index&&e.remove(a.index);for(const t in a.attributes)e.remove(a.attributes[t]);for(const t in a.morphAttributes){const n=a.morphAttributes[t];for(let t=0,i=n.length;t<i;t++)e.remove(n[t])}a.removeEventListener("dispose",s),delete r[a.id];const l=o.get(a);l&&(e.remove(l),o.delete(a)),i.releaseStatesOfGeometry(a),!0===a.isInstancedBufferGeometry&&delete a._maxInstanceCount,n.memory.geometries--}function a(t){const n=[],i=t.index,r=t.attributes.position;let s=0;if(null!==i){const t=i.array;s=i.version;for(let e=0,i=t.length;e<i;e+=3){const i=t[e+0],r=t[e+1],o=t[e+2];n.push(i,r,r,o,o,i)}}else{if(void 0===r)return;{const t=r.array;s=r.version;for(let e=0,i=t.length/3-1;e<i;e+=3){const t=e+0,i=e+1,r=e+2;n.push(t,i,i,r,r,t)}}}const a=new(Ft(n)?Fn:kn)(n,1);a.version=s;const l=o.get(t);l&&e.remove(l),o.set(t,a)}return{get:function(t,e){return!0===r[e.id]||(e.addEventListener("dispose",s),r[e.id]=!0,n.memory.geometries++),e},update:function(n){const i=n.attributes;for(const n in i)e.update(i[n],t.ARRAY_BUFFER);const r=n.morphAttributes;for(const n in r){const i=r[n];for(let n=0,r=i.length;n<r;n++)e.update(i[n],t.ARRAY_BUFFER)}},getWireframeAttribute:function(t){const e=o.get(t);if(e){const n=t.index;null!==n&&e.version<n.version&&a(t)}else a(t);return o.get(t)}}}function yr(t,e,n){let i,r,o;function s(e,s,a){0!==a&&(t.drawElementsInstanced(i,s,r,e*o,a),n.update(s,i,a))}this.setMode=function(t){i=t},this.setIndex=function(t){r=t.type,o=t.bytesPerElement},this.render=function(e,s){t.drawElements(i,s,r,e*o),n.update(s,i,1)},this.renderInstances=s,this.renderMultiDraw=function(t,s,a){if(0===a)return;const l=e.get("WEBGL_multi_draw");if(null===l)for(let e=0;e<a;e++)this.render(t[e]/o,s[e]);else{l.multiDrawElementsWEBGL(i,s,0,r,t,0,a);let e=0;for(let t=0;t<a;t++)e+=s[t];n.update(e,i,1)}},this.renderMultiDrawInstances=function(t,a,l,c){if(0===l)return;const u=e.get("WEBGL_multi_draw");if(null===u)for(let e=0;e<t.length;e++)s(t[e]/o,a[e],c[e]);else{u.multiDrawElementsInstancedWEBGL(i,a,0,r,t,0,c,0,l);let e=0;for(let t=0;t<l;t++)e+=a[t];for(let t=0;t<c.length;t++)n.update(e,i,c[t])}}}function xr(t){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(n,i,r){switch(e.calls++,i){case t.TRIANGLES:e.triangles+=r*(n/3);break;case t.LINES:e.lines+=r*(n/2);break;case t.LINE_STRIP:e.lines+=r*(n-1);break;case t.LINE_LOOP:e.lines+=r*n;break;case t.POINTS:e.points+=r*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",i)}}}}function gr(t,e,n){const i=new WeakMap,r=new re;return{update:function(o,s,a){const l=o.morphTargetInfluences,c=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,u=void 0!==c?c.length:0;let d=i.get(s);if(void 0===d||d.count!==u){void 0!==d&&d.texture.dispose();const p=void 0!==s.morphAttributes.position,h=void 0!==s.morphAttributes.normal,f=void 0!==s.morphAttributes.color,m=s.morphAttributes.position||[],y=s.morphAttributes.normal||[],x=s.morphAttributes.color||[];let g=0;!0===p&&(g=1),!0===h&&(g=2),!0===f&&(g=3);let v=s.attributes.position.count*g,_=1;v>e.maxTextureSize&&(_=Math.ceil(v/e.maxTextureSize),v=e.maxTextureSize);const z=new Float32Array(v*_*4*u),b=new ae(z,v,_,u);b.type=G,b.needsUpdate=!0;const S=4*g;for(let E=0;E<u;E++){const w=m[E],T=y[E],A=x[E],R=v*_*4*E;for(let C=0;C<w.count;C++){const P=C*S;!0===p&&(r.fromBufferAttribute(w,C),z[R+P+0]=r.x,z[R+P+1]=r.y,z[R+P+2]=r.z,z[R+P+3]=0),!0===h&&(r.fromBufferAttribute(T,C),z[R+P+4]=r.x,z[R+P+5]=r.y,z[R+P+6]=r.z,z[R+P+7]=0),!0===f&&(r.fromBufferAttribute(A,C),z[R+P+8]=r.x,z[R+P+9]=r.y,z[R+P+10]=r.z,z[R+P+11]=4===A.itemSize?r.w:1)}}function M(){b.dispose(),i.delete(s),s.removeEventListener("dispose",M)}d={count:u,texture:b,size:new Ut(v,_)},i.set(s,d),s.addEventListener("dispose",M)}if(!0===o.isInstancedMesh&&null!==o.morphTexture)a.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let L=0;for(let N=0;N<l.length;N++)L+=l[N];const I=s.morphTargetsRelative?1:1-L;a.getUniforms().setValue(t,"morphTargetBaseInfluence",I),a.getUniforms().setValue(t,"morphTargetInfluences",l)}a.getUniforms().setValue(t,"morphTargetsTexture",d.texture,n),a.getUniforms().setValue(t,"morphTargetsTextureSize",d.size)}}}function vr(t,e,n,i){let r=new WeakMap;function o(t){const e=t.target;e.removeEventListener("dispose",o),n.remove(e.instanceMatrix),null!==e.instanceColor&&n.remove(e.instanceColor)}return{update:function(s){const a=i.render.frame,l=s.geometry,c=e.get(s,l);if(r.get(c)!==a&&(e.update(c),r.set(c,a)),s.isInstancedMesh&&(!1===s.hasEventListener("dispose",o)&&s.addEventListener("dispose",o),r.get(s)!==a&&(n.update(s.instanceMatrix,t.ARRAY_BUFFER),null!==s.instanceColor&&n.update(s.instanceColor,t.ARRAY_BUFFER),r.set(s,a))),s.isSkinnedMesh){const t=s.skeleton;r.get(t)!==a&&(t.update(),r.set(t,a))}return c},dispose:function(){r=new WeakMap}}}class _r extends ie{constructor(t,e,n,i,r,o,s,a,l,c=1026){if(c!==q&&c!==Y)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===q&&(n=V),void 0===n&&c===Y&&(n=j),super(null,i,r,o,s,a,c,n,l),this.isDepthTexture=!0,this.image={width:t,height:e},this.magFilter=void 0!==s?s:N,this.minFilter=void 0!==a?a:N,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return null!==this.compareFunction&&(e.compareFunction=this.compareFunction),e}}const zr=new ie,br=new _r(1,1);br.compareFunction=515;const Sr=new ae,Mr=new le,Er=new Ti,wr=[],Tr=[],Ar=new Float32Array(16),Rr=new Float32Array(9),Cr=new Float32Array(4);function Pr(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let o=wr[r];if(void 0===o&&(o=new Float32Array(r),wr[r]=o),0!==e){i.toArray(o,0);for(let i=1,r=0;i!==e;++i)r+=n,t[i].toArray(o,r)}return o}function Lr(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function Ir(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function Nr(t,e){let n=Tr[e];void 0===n&&(n=new Int32Array(e),Tr[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function Dr(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Ur(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Lr(n,e))return;t.uniform2fv(this.addr,e),Ir(n,e)}}function Or(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Lr(n,e))return;t.uniform3fv(this.addr,e),Ir(n,e)}}function kr(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Lr(n,e))return;t.uniform4fv(this.addr,e),Ir(n,e)}}function Fr(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(Lr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Ir(n,e)}else{if(Lr(n,i))return;Cr.set(i),t.uniformMatrix2fv(this.addr,!1,Cr),Ir(n,i)}}function Br(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(Lr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Ir(n,e)}else{if(Lr(n,i))return;Rr.set(i),t.uniformMatrix3fv(this.addr,!1,Rr),Ir(n,i)}}function Hr(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(Lr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Ir(n,e)}else{if(Lr(n,i))return;Ar.set(i),t.uniformMatrix4fv(this.addr,!1,Ar),Ir(n,i)}}function Vr(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Gr(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Lr(n,e))return;t.uniform2iv(this.addr,e),Ir(n,e)}}function Wr(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Lr(n,e))return;t.uniform3iv(this.addr,e),Ir(n,e)}}function jr(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Lr(n,e))return;t.uniform4iv(this.addr,e),Ir(n,e)}}function Xr(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function qr(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Lr(n,e))return;t.uniform2uiv(this.addr,e),Ir(n,e)}}function Yr(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Lr(n,e))return;t.uniform3uiv(this.addr,e),Ir(n,e)}}function Kr(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Lr(n,e))return;t.uniform4uiv(this.addr,e),Ir(n,e)}}function Zr(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r);const o=this.type===t.SAMPLER_2D_SHADOW?br:zr;n.setTexture2D(e||o,r)}function $r(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||Mr,r)}function Jr(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||Er,r)}function Qr(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||Sr,r)}function to(t,e){t.uniform1fv(this.addr,e)}function eo(t,e){const n=Pr(e,this.size,2);t.uniform2fv(this.addr,n)}function no(t,e){const n=Pr(e,this.size,3);t.uniform3fv(this.addr,n)}function io(t,e){const n=Pr(e,this.size,4);t.uniform4fv(this.addr,n)}function ro(t,e){const n=Pr(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function oo(t,e){const n=Pr(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function so(t,e){const n=Pr(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function ao(t,e){t.uniform1iv(this.addr,e)}function lo(t,e){t.uniform2iv(this.addr,e)}function co(t,e){t.uniform3iv(this.addr,e)}function uo(t,e){t.uniform4iv(this.addr,e)}function po(t,e){t.uniform1uiv(this.addr,e)}function ho(t,e){t.uniform2uiv(this.addr,e)}function fo(t,e){t.uniform3uiv(this.addr,e)}function mo(t,e){t.uniform4uiv(this.addr,e)}function yo(t,e,n){const i=this.cache,r=e.length,o=Nr(n,r);Lr(i,o)||(t.uniform1iv(this.addr,o),Ir(i,o));for(let t=0;t!==r;++t)n.setTexture2D(e[t]||zr,o[t])}function xo(t,e,n){const i=this.cache,r=e.length,o=Nr(n,r);Lr(i,o)||(t.uniform1iv(this.addr,o),Ir(i,o));for(let t=0;t!==r;++t)n.setTexture3D(e[t]||Mr,o[t])}function go(t,e,n){const i=this.cache,r=e.length,o=Nr(n,r);Lr(i,o)||(t.uniform1iv(this.addr,o),Ir(i,o));for(let t=0;t!==r;++t)n.setTextureCube(e[t]||Er,o[t])}function vo(t,e,n){const i=this.cache,r=e.length,o=Nr(n,r);Lr(i,o)||(t.uniform1iv(this.addr,o),Ir(i,o));for(let t=0;t!==r;++t)n.setTexture2DArray(e[t]||Sr,o[t])}class _o{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.type=e.type,this.setValue=function(t){switch(t){case 5126:return Dr;case 35664:return Ur;case 35665:return Or;case 35666:return kr;case 35674:return Fr;case 35675:return Br;case 35676:return Hr;case 5124:case 35670:return Vr;case 35667:case 35671:return Gr;case 35668:case 35672:return Wr;case 35669:case 35673:return jr;case 5125:return Xr;case 36294:return qr;case 36295:return Yr;case 36296:return Kr;case 35678:case 36198:case 36298:case 36306:case 35682:return Zr;case 35679:case 36299:case 36307:return $r;case 35680:case 36300:case 36308:case 36293:return Jr;case 36289:case 36303:case 36311:case 36292:return Qr}}(e.type)}}class zo{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.type=e.type,this.size=e.size,this.setValue=function(t){switch(t){case 5126:return to;case 35664:return eo;case 35665:return no;case 35666:return io;case 35674:return ro;case 35675:return oo;case 35676:return so;case 5124:case 35670:return ao;case 35667:case 35671:return lo;case 35668:case 35672:return co;case 35669:case 35673:return uo;case 5125:return po;case 36294:return ho;case 36295:return fo;case 36296:return mo;case 35678:case 36198:case 36298:case 36306:case 35682:return yo;case 35679:case 36299:case 36307:return xo;case 35680:case 36300:case 36308:case 36293:return go;case 36289:case 36303:case 36311:case 36292:return vo}}(e.type)}}class bo{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,n){const i=this.seq;for(let r=0,o=i.length;r!==o;++r){const o=i[r];o.setValue(t,e[o.id],n)}}}const So=/(\w+)(\])?(\[|\.)?/g;function Mo(t,e){t.seq.push(e),t.map[e.id]=e}function Eo(t,e,n){const i=t.name,r=i.length;for(So.lastIndex=0;;){const o=So.exec(i),s=So.lastIndex;let a=o[1];const l="]"===o[2],c=o[3];if(l&&(a|=0),void 0===c||"["===c&&s+2===r){Mo(n,void 0===c?new _o(a,t,e):new zo(a,t,e));break}{let t=n.map[a];void 0===t&&(t=new bo(a),Mo(n,t)),n=t}}}class wo{constructor(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let i=0;i<n;++i){const n=t.getActiveUniform(e,i);Eo(n,t.getUniformLocation(e,n.name),this)}}setValue(t,e,n,i){const r=this.map[e];void 0!==r&&r.setValue(t,n,i)}setOptional(t,e,n){const i=e[n];void 0!==i&&this.setValue(t,n,i)}static upload(t,e,n,i){for(let r=0,o=e.length;r!==o;++r){const o=e[r],s=n[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,i)}}static seqWithValue(t,e){const n=[];for(let i=0,r=t.length;i!==r;++i){const r=t[i];r.id in e&&n.push(r)}return n}}function To(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}let Ao=0;function Ro(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),r=t.getShaderInfoLog(e).trim();if(i&&""===r)return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const i=parseInt(o[1]);return n.toUpperCase()+"\n\n"+r+"\n\n"+function(t,e){const n=t.split("\n"),i=[],r=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let t=r;t<o;t++){const r=t+1;i.push(`${r===e?">":" "} ${r}: ${n[t]}`)}return i.join("\n")}(t.getShaderSource(e),i)}return r}function Co(t,e){const n=function(t){const e=Yt.getPrimaries(Yt.workingColorSpace),n=Yt.getPrimaries(t);let i;switch(e===n?i="":e===dt&&n===ut?i="LinearDisplayP3ToLinearSRGB":e===ut&&n===dt&&(i="LinearSRGBToLinearDisplayP3"),t){case ot:case at:return[i,"LinearTransferOETF"];case rt:case st:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[i,"LinearTransferOETF"]}}(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function Po(t,e){let n;switch(e){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 6:n="AgX";break;case 7:n="Neutral";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Lo(t){return""!==t}function Io(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function No(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Do=/^[ \t]*#include +<([\w\d./]+)>/gm;function Uo(t){return t.replace(Do,ko)}const Oo=new Map;function ko(t,e){let n=Fi[e];if(void 0===n){const t=Oo.get(e);if(void 0===t)throw new Error("Can not resolve #include <"+e+">");n=Fi[t],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,t)}return Uo(n)}const Fo=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Bo(t){return t.replace(Fo,Ho)}function Ho(t,e,n,i){let r="";for(let t=parseInt(e);t<parseInt(n);t++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+t+" ]").replace(/UNROLLED_LOOP_INDEX/g,t);return r}function Vo(t){let e=`precision ${t.precision} float;\n\tprecision ${t.precision} int;\n\tprecision ${t.precision} sampler2D;\n\tprecision ${t.precision} samplerCube;\n\tprecision ${t.precision} sampler3D;\n\tprecision ${t.precision} sampler2DArray;\n\tprecision ${t.precision} sampler2DShadow;\n\tprecision ${t.precision} samplerCubeShadow;\n\tprecision ${t.precision} sampler2DArrayShadow;\n\tprecision ${t.precision} isampler2D;\n\tprecision ${t.precision} isampler3D;\n\tprecision ${t.precision} isamplerCube;\n\tprecision ${t.precision} isampler2DArray;\n\tprecision ${t.precision} usampler2D;\n\tprecision ${t.precision} usampler3D;\n\tprecision ${t.precision} usamplerCube;\n\tprecision ${t.precision} usampler2DArray;\n\t`;return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function Go(t,e,n,i){const r=t.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const l=function(t){let e="SHADOWMAP_TYPE_BASIC";return 1===t.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===t.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===t.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(n),c=function(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case A:case R:e="ENVMAP_TYPE_CUBE";break;case C:e="ENVMAP_TYPE_CUBE_UV"}return e}(n),u=function(t){let e="ENVMAP_MODE_REFLECTION";return t.envMap&&t.envMapMode===R&&(e="ENVMAP_MODE_REFRACTION"),e}(n),d=function(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(n),p=function(t){const e=t.envMapCubeUVHeight;if(null===e)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:i,maxMip:n}}(n),h=function(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Lo).join("\n")}(n),f=function(t){const e=[];for(const n in t){const i=t[n];!1!==i&&e.push("#define "+n+" "+i)}return e.join("\n")}(o),m=r.createProgram();let y,x,g=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f].filter(Lo).join("\n"),y.length>0&&(y+="\n"),x=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f].filter(Lo).join("\n"),x.length>0&&(x+="\n")):(y=[Vo(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Lo).join("\n"),x=[Vo(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?Fi.tonemapping_pars_fragment:"",0!==n.toneMapping?Po("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Fi.colorspace_pars_fragment,Co("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Lo).join("\n")),s=Uo(s),s=Io(s,n),s=No(s,n),a=Uo(a),a=Io(a,n),a=No(a,n),s=Bo(s),a=Bo(a),!0!==n.isRawShaderMaterial&&(g="#version 300 es\n",y=[h,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+y,x=["#define varying in",n.glslVersion===bt?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===bt?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+x);const v=g+y+s,_=g+x+a,z=To(r,r.VERTEX_SHADER,v),b=To(r,r.FRAGMENT_SHADER,_);function S(e){if(t.debug.checkShaderErrors){const n=r.getProgramInfoLog(m).trim(),i=r.getShaderInfoLog(z).trim(),o=r.getShaderInfoLog(b).trim();let s=!0,a=!0;if(!1===r.getProgramParameter(m,r.LINK_STATUS))if(s=!1,"function"==typeof t.debug.onShaderError)t.debug.onShaderError(r,m,z,b);else{const t=Ro(r,z,"vertex"),i=Ro(r,b,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(m,r.VALIDATE_STATUS)+"\n\nMaterial Name: "+e.name+"\nMaterial Type: "+e.type+"\n\nProgram Info Log: "+n+"\n"+t+"\n"+i)}else""!==n?console.warn("THREE.WebGLProgram: Program Info Log:",n):""!==i&&""!==o||(a=!1);a&&(e.diagnostics={runnable:s,programLog:n,vertexShader:{log:i,prefix:y},fragmentShader:{log:o,prefix:x}})}r.deleteShader(z),r.deleteShader(b),M=new wo(r,m),E=function(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const i=t.getActiveAttrib(e,r),o=i.name;let s=1;i.type===t.FLOAT_MAT2&&(s=2),i.type===t.FLOAT_MAT3&&(s=3),i.type===t.FLOAT_MAT4&&(s=4),n[o]={type:i.type,location:t.getAttribLocation(e,o),locationSize:s}}return n}(r,m)}let M,E;r.attachShader(m,z),r.attachShader(m,b),void 0!==n.index0AttributeName?r.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&r.bindAttribLocation(m,0,"position"),r.linkProgram(m),this.getUniforms=function(){return void 0===M&&S(this),M},this.getAttributes=function(){return void 0===E&&S(this),E};let w=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===w&&(w=r.getProgramParameter(m,37297)),w},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Ao++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=z,this.fragmentShader=b,this}let Wo=0;class jo{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,n=t.fragmentShader,i=this._getShaderStage(e),r=this._getShaderStage(n),o=this._getShaderCacheForMaterial(t);return!1===o.has(i)&&(o.add(i),i.usedTimes++),!1===o.has(r)&&(o.add(r),r.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const t of e)t.usedTimes--,0===t.usedTimes&&this.shaderCache.delete(t.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let n=e.get(t);return void 0===n&&(n=new Set,e.set(t,n)),n}_getShaderStage(t){const e=this.shaderCache;let n=e.get(t);return void 0===n&&(n=new Xo(t),e.set(t,n)),n}}class Xo{constructor(t){this.id=Wo++,this.code=t,this.usedTimes=0}}function qo(t,e,n,i,r,o,s){const a=new $e,l=new jo,c=new Set,u=[],d=r.logarithmicDepthBuffer,p=r.vertexTextures;let h=r.precision;const f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(t){return c.add(t),0===t?"uv":`uv${t}`}return{getParameters:function(o,a,u,y,x){const g=y.fog,v=x.geometry,_=o.isMeshStandardMaterial?y.environment:null,z=(o.isMeshStandardMaterial?n:e).get(o.envMap||_),b=z&&z.mapping===C?z.image.height:null,S=f[o.type];null!==o.precision&&(h=r.getMaxPrecision(o.precision),h!==o.precision&&console.warn("THREE.WebGLProgram.getParameters:",o.precision,"not supported, using",h,"instead."));const M=v.morphAttributes.position||v.morphAttributes.normal||v.morphAttributes.color,E=void 0!==M?M.length:0;let w,T,A,R,P=0;if(void 0!==v.morphAttributes.position&&(P=1),void 0!==v.morphAttributes.normal&&(P=2),void 0!==v.morphAttributes.color&&(P=3),S){const t=Hi[S];w=t.vertexShader,T=t.fragmentShader}else w=o.vertexShader,T=o.fragmentShader,l.update(o),A=l.getVertexShaderID(o),R=l.getFragmentShaderID(o);const L=t.getRenderTarget(),I=!0===x.isInstancedMesh,N=!0===x.isBatchedMesh,D=!!o.map,U=!!o.matcap,O=!!z,k=!!o.aoMap,F=!!o.lightMap,B=!!o.bumpMap,H=!!o.normalMap,V=!!o.displacementMap,G=!!o.emissiveMap,W=!!o.metalnessMap,j=!!o.roughnessMap,X=o.anisotropy>0,q=o.clearcoat>0,Y=o.dispersion>0,K=o.iridescence>0,Z=o.sheen>0,$=o.transmission>0,J=X&&!!o.anisotropyMap,Q=q&&!!o.clearcoatMap,tt=q&&!!o.clearcoatNormalMap,et=q&&!!o.clearcoatRoughnessMap,nt=K&&!!o.iridescenceMap,it=K&&!!o.iridescenceThicknessMap,rt=Z&&!!o.sheenColorMap,st=Z&&!!o.sheenRoughnessMap,at=!!o.specularMap,lt=!!o.specularColorMap,ut=!!o.specularIntensityMap,dt=$&&!!o.transmissionMap,pt=$&&!!o.thicknessMap,ht=!!o.gradientMap,ft=!!o.alphaMap,mt=o.alphaTest>0,yt=!!o.alphaHash,xt=!!o.extensions;let gt=0;o.toneMapped&&(null!==L&&!0!==L.isXRRenderTarget||(gt=t.toneMapping));const vt={shaderID:S,shaderType:o.type,shaderName:o.name,vertexShader:w,fragmentShader:T,defines:o.defines,customVertexShaderID:A,customFragmentShaderID:R,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:h,batching:N,batchingColor:N&&null!==x._colorsTexture,instancing:I,instancingColor:I&&null!==x.instanceColor,instancingMorph:I&&null!==x.morphTexture,supportsVertexTextures:p,outputColorSpace:null===L?t.outputColorSpace:!0===L.isXRRenderTarget?L.texture.colorSpace:ot,alphaToCoverage:!!o.alphaToCoverage,map:D,matcap:U,envMap:O,envMapMode:O&&z.mapping,envMapCubeUVHeight:b,aoMap:k,lightMap:F,bumpMap:B,normalMap:H,displacementMap:p&&V,emissiveMap:G,normalMapObjectSpace:H&&1===o.normalMapType,normalMapTangentSpace:H&&0===o.normalMapType,metalnessMap:W,roughnessMap:j,anisotropy:X,anisotropyMap:J,clearcoat:q,clearcoatMap:Q,clearcoatNormalMap:tt,clearcoatRoughnessMap:et,dispersion:Y,iridescence:K,iridescenceMap:nt,iridescenceThicknessMap:it,sheen:Z,sheenColorMap:rt,sheenRoughnessMap:st,specularMap:at,specularColorMap:lt,specularIntensityMap:ut,transmission:$,transmissionMap:dt,thicknessMap:pt,gradientMap:ht,opaque:!1===o.transparent&&1===o.blending&&!1===o.alphaToCoverage,alphaMap:ft,alphaTest:mt,alphaHash:yt,combine:o.combine,mapUv:D&&m(o.map.channel),aoMapUv:k&&m(o.aoMap.channel),lightMapUv:F&&m(o.lightMap.channel),bumpMapUv:B&&m(o.bumpMap.channel),normalMapUv:H&&m(o.normalMap.channel),displacementMapUv:V&&m(o.displacementMap.channel),emissiveMapUv:G&&m(o.emissiveMap.channel),metalnessMapUv:W&&m(o.metalnessMap.channel),roughnessMapUv:j&&m(o.roughnessMap.channel),anisotropyMapUv:J&&m(o.anisotropyMap.channel),clearcoatMapUv:Q&&m(o.clearcoatMap.channel),clearcoatNormalMapUv:tt&&m(o.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:et&&m(o.clearcoatRoughnessMap.channel),iridescenceMapUv:nt&&m(o.iridescenceMap.channel),iridescenceThicknessMapUv:it&&m(o.iridescenceThicknessMap.channel),sheenColorMapUv:rt&&m(o.sheenColorMap.channel),sheenRoughnessMapUv:st&&m(o.sheenRoughnessMap.channel),specularMapUv:at&&m(o.specularMap.channel),specularColorMapUv:lt&&m(o.specularColorMap.channel),specularIntensityMapUv:ut&&m(o.specularIntensityMap.channel),transmissionMapUv:dt&&m(o.transmissionMap.channel),thicknessMapUv:pt&&m(o.thicknessMap.channel),alphaMapUv:ft&&m(o.alphaMap.channel),vertexTangents:!!v.attributes.tangent&&(H||X),vertexColors:o.vertexColors,vertexAlphas:!0===o.vertexColors&&!!v.attributes.color&&4===v.attributes.color.itemSize,pointsUvs:!0===x.isPoints&&!!v.attributes.uv&&(D||ft),fog:!!g,useFog:!0===o.fog,fogExp2:!!g&&g.isFogExp2,flatShading:!0===o.flatShading,sizeAttenuation:!0===o.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===x.isSkinnedMesh,morphTargets:void 0!==v.morphAttributes.position,morphNormals:void 0!==v.morphAttributes.normal,morphColors:void 0!==v.morphAttributes.color,morphTargetsCount:E,morphTextureStride:P,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numSpotLightMaps:a.spotLightMap.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numDirLightShadows:a.directionalShadowMap.length,numPointLightShadows:a.pointShadowMap.length,numSpotLightShadows:a.spotShadowMap.length,numSpotLightShadowsWithMaps:a.numSpotLightShadowsWithMaps,numLightProbes:a.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:o.dithering,shadowMapEnabled:t.shadowMap.enabled&&u.length>0,shadowMapType:t.shadowMap.type,toneMapping:gt,decodeVideoTexture:D&&!0===o.map.isVideoTexture&&Yt.getTransfer(o.map.colorSpace)===ct,premultipliedAlpha:o.premultipliedAlpha,doubleSided:2===o.side,flipSided:1===o.side,useDepthPacking:o.depthPacking>=0,depthPacking:o.depthPacking||0,index0AttributeName:o.index0AttributeName,extensionClipCullDistance:xt&&!0===o.extensions.clipCullDistance&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:xt&&!0===o.extensions.multiDraw&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:o.customProgramCacheKey()};return vt.vertexUv1s=c.has(1),vt.vertexUv2s=c.has(2),vt.vertexUv3s=c.has(3),c.clear(),vt},getProgramCacheKey:function(e){const n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.customVertexShaderID),n.push(e.customFragmentShaderID)),void 0!==e.defines)for(const t in e.defines)n.push(t),n.push(e.defines[t]);return!1===e.isRawShaderMaterial&&(function(t,e){t.push(e.precision),t.push(e.outputColorSpace),t.push(e.envMapMode),t.push(e.envMapCubeUVHeight),t.push(e.mapUv),t.push(e.alphaMapUv),t.push(e.lightMapUv),t.push(e.aoMapUv),t.push(e.bumpMapUv),t.push(e.normalMapUv),t.push(e.displacementMapUv),t.push(e.emissiveMapUv),t.push(e.metalnessMapUv),t.push(e.roughnessMapUv),t.push(e.anisotropyMapUv),t.push(e.clearcoatMapUv),t.push(e.clearcoatNormalMapUv),t.push(e.clearcoatRoughnessMapUv),t.push(e.iridescenceMapUv),t.push(e.iridescenceThicknessMapUv),t.push(e.sheenColorMapUv),t.push(e.sheenRoughnessMapUv),t.push(e.specularMapUv),t.push(e.specularColorMapUv),t.push(e.specularIntensityMapUv),t.push(e.transmissionMapUv),t.push(e.thicknessMapUv),t.push(e.combine),t.push(e.fogExp2),t.push(e.sizeAttenuation),t.push(e.morphTargetsCount),t.push(e.morphAttributeCount),t.push(e.numDirLights),t.push(e.numPointLights),t.push(e.numSpotLights),t.push(e.numSpotLightMaps),t.push(e.numHemiLights),t.push(e.numRectAreaLights),t.push(e.numDirLightShadows),t.push(e.numPointLightShadows),t.push(e.numSpotLightShadows),t.push(e.numSpotLightShadowsWithMaps),t.push(e.numLightProbes),t.push(e.shadowMapType),t.push(e.toneMapping),t.push(e.numClippingPlanes),t.push(e.numClipIntersection),t.push(e.depthPacking)}(n,e),function(t,e){a.disableAll(),e.supportsVertexTextures&&a.enable(0),e.instancing&&a.enable(1),e.instancingColor&&a.enable(2),e.instancingMorph&&a.enable(3),e.matcap&&a.enable(4),e.envMap&&a.enable(5),e.normalMapObjectSpace&&a.enable(6),e.normalMapTangentSpace&&a.enable(7),e.clearcoat&&a.enable(8),e.iridescence&&a.enable(9),e.alphaTest&&a.enable(10),e.vertexColors&&a.enable(11),e.vertexAlphas&&a.enable(12),e.vertexUv1s&&a.enable(13),e.vertexUv2s&&a.enable(14),e.vertexUv3s&&a.enable(15),e.vertexTangents&&a.enable(16),e.anisotropy&&a.enable(17),e.alphaHash&&a.enable(18),e.batching&&a.enable(19),e.dispersion&&a.enable(20),e.batchingColor&&a.enable(21),t.push(a.mask),a.disableAll(),e.fog&&a.enable(0),e.useFog&&a.enable(1),e.flatShading&&a.enable(2),e.logarithmicDepthBuffer&&a.enable(3),e.skinning&&a.enable(4),e.morphTargets&&a.enable(5),e.morphNormals&&a.enable(6),e.morphColors&&a.enable(7),e.premultipliedAlpha&&a.enable(8),e.shadowMapEnabled&&a.enable(9),e.doubleSided&&a.enable(10),e.flipSided&&a.enable(11),e.useDepthPacking&&a.enable(12),e.dithering&&a.enable(13),e.transmission&&a.enable(14),e.sheen&&a.enable(15),e.opaque&&a.enable(16),e.pointsUvs&&a.enable(17),e.decodeVideoTexture&&a.enable(18),e.alphaToCoverage&&a.enable(19),t.push(a.mask)}(n,e),n.push(t.outputColorSpace)),n.push(e.customProgramCacheKey),n.join()},getUniforms:function(t){const e=f[t.type];let n;if(e){const t=Hi[e];n=gi.clone(t.uniforms)}else n=t.uniforms;return n},acquireProgram:function(e,n){let i;for(let t=0,e=u.length;t<e;t++){const e=u[t];if(e.cacheKey===n){i=e,++i.usedTimes;break}}return void 0===i&&(i=new Go(t,n,e,o),u.push(i)),i},releaseProgram:function(t){if(0===--t.usedTimes){const e=u.indexOf(t);u[e]=u[u.length-1],u.pop(),t.destroy()}},releaseShaderCache:function(t){l.remove(t)},programs:u,dispose:function(){l.dispose()}}}function Yo(){let t=new WeakMap;return{get:function(e){let n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n},remove:function(e){t.delete(e)},update:function(e,n,i){t.get(e)[n]=i},dispose:function(){t=new WeakMap}}}function Ko(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Zo(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function $o(){const t=[];let e=0;const n=[],i=[],r=[];function o(n,i,r,o,s,a){let l=t[e];return void 0===l?(l={id:n.id,object:n,geometry:i,material:r,groupOrder:o,renderOrder:n.renderOrder,z:s,group:a},t[e]=l):(l.id=n.id,l.object=n,l.geometry=i,l.material=r,l.groupOrder=o,l.renderOrder=n.renderOrder,l.z=s,l.group=a),e++,l}return{opaque:n,transmissive:i,transparent:r,init:function(){e=0,n.length=0,i.length=0,r.length=0},push:function(t,e,s,a,l,c){const u=o(t,e,s,a,l,c);s.transmission>0?i.push(u):!0===s.transparent?r.push(u):n.push(u)},unshift:function(t,e,s,a,l,c){const u=o(t,e,s,a,l,c);s.transmission>0?i.unshift(u):!0===s.transparent?r.unshift(u):n.unshift(u)},finish:function(){for(let n=e,i=t.length;n<i;n++){const e=t[n];if(null===e.id)break;e.id=null,e.object=null,e.geometry=null,e.material=null,e.group=null}},sort:function(t,e){n.length>1&&n.sort(t||Ko),i.length>1&&i.sort(e||Zo),r.length>1&&r.sort(e||Zo)}}}function Jo(){let t=new WeakMap;return{get:function(e,n){const i=t.get(e);let r;return void 0===i?(r=new $o,t.set(e,[r])):n>=i.length?(r=new $o,i.push(r)):r=i[n],r},dispose:function(){t=new WeakMap}}}function Qo(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ue,color:new Cn};break;case"SpotLight":n={position:new ue,direction:new ue,color:new Cn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ue,color:new Cn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ue,skyColor:new Cn,groundColor:new Cn};break;case"RectAreaLight":n={color:new Cn,position:new ue,halfWidth:new ue,halfHeight:new ue}}return t[e.id]=n,n}}}let ts=0;function es(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function ns(t){const e=new Qo,n=function(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ut};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ut,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let t=0;t<9;t++)i.probe.push(new ue);const r=new ue,o=new Be,s=new Be;return{setup:function(r){let o=0,s=0,a=0;for(let t=0;t<9;t++)i.probe[t].set(0,0,0);let l=0,c=0,u=0,d=0,p=0,h=0,f=0,m=0,y=0,x=0,g=0;r.sort(es);for(let t=0,v=r.length;t<v;t++){const v=r[t],_=v.color,z=v.intensity,b=v.distance,S=v.shadow&&v.shadow.map?v.shadow.map.texture:null;if(v.isAmbientLight)o+=_.r*z,s+=_.g*z,a+=_.b*z;else if(v.isLightProbe){for(let t=0;t<9;t++)i.probe[t].addScaledVector(v.sh.coefficients[t],z);g++}else if(v.isDirectionalLight){const t=e.get(v);if(t.color.copy(v.color).multiplyScalar(v.intensity),v.castShadow){const t=v.shadow,e=n.get(v);e.shadowBias=t.bias,e.shadowNormalBias=t.normalBias,e.shadowRadius=t.radius,e.shadowMapSize=t.mapSize,i.directionalShadow[l]=e,i.directionalShadowMap[l]=S,i.directionalShadowMatrix[l]=v.shadow.matrix,h++}i.directional[l]=t,l++}else if(v.isSpotLight){const t=e.get(v);t.position.setFromMatrixPosition(v.matrixWorld),t.color.copy(_).multiplyScalar(z),t.distance=b,t.coneCos=Math.cos(v.angle),t.penumbraCos=Math.cos(v.angle*(1-v.penumbra)),t.decay=v.decay,i.spot[u]=t;const r=v.shadow;if(v.map&&(i.spotLightMap[y]=v.map,y++,r.updateMatrices(v),v.castShadow&&x++),i.spotLightMatrix[u]=r.matrix,v.castShadow){const t=n.get(v);t.shadowBias=r.bias,t.shadowNormalBias=r.normalBias,t.shadowRadius=r.radius,t.shadowMapSize=r.mapSize,i.spotShadow[u]=t,i.spotShadowMap[u]=S,m++}u++}else if(v.isRectAreaLight){const t=e.get(v);t.color.copy(_).multiplyScalar(z),t.halfWidth.set(.5*v.width,0,0),t.halfHeight.set(0,.5*v.height,0),i.rectArea[d]=t,d++}else if(v.isPointLight){const t=e.get(v);if(t.color.copy(v.color).multiplyScalar(v.intensity),t.distance=v.distance,t.decay=v.decay,v.castShadow){const t=v.shadow,e=n.get(v);e.shadowBias=t.bias,e.shadowNormalBias=t.normalBias,e.shadowRadius=t.radius,e.shadowMapSize=t.mapSize,e.shadowCameraNear=t.camera.near,e.shadowCameraFar=t.camera.far,i.pointShadow[c]=e,i.pointShadowMap[c]=S,i.pointShadowMatrix[c]=v.shadow.matrix,f++}i.point[c]=t,c++}else if(v.isHemisphereLight){const t=e.get(v);t.skyColor.copy(v.color).multiplyScalar(z),t.groundColor.copy(v.groundColor).multiplyScalar(z),i.hemi[p]=t,p++}}d>0&&(!0===t.has("OES_texture_float_linear")?(i.rectAreaLTC1=Bi.LTC_FLOAT_1,i.rectAreaLTC2=Bi.LTC_FLOAT_2):(i.rectAreaLTC1=Bi.LTC_HALF_1,i.rectAreaLTC2=Bi.LTC_HALF_2)),i.ambient[0]=o,i.ambient[1]=s,i.ambient[2]=a;const v=i.hash;v.directionalLength===l&&v.pointLength===c&&v.spotLength===u&&v.rectAreaLength===d&&v.hemiLength===p&&v.numDirectionalShadows===h&&v.numPointShadows===f&&v.numSpotShadows===m&&v.numSpotMaps===y&&v.numLightProbes===g||(i.directional.length=l,i.spot.length=u,i.rectArea.length=d,i.point.length=c,i.hemi.length=p,i.directionalShadow.length=h,i.directionalShadowMap.length=h,i.pointShadow.length=f,i.pointShadowMap.length=f,i.spotShadow.length=m,i.spotShadowMap.length=m,i.directionalShadowMatrix.length=h,i.pointShadowMatrix.length=f,i.spotLightMatrix.length=m+y-x,i.spotLightMap.length=y,i.numSpotLightShadowsWithMaps=x,i.numLightProbes=g,v.directionalLength=l,v.pointLength=c,v.spotLength=u,v.rectAreaLength=d,v.hemiLength=p,v.numDirectionalShadows=h,v.numPointShadows=f,v.numSpotShadows=m,v.numSpotMaps=y,v.numLightProbes=g,i.version=ts++)},setupView:function(t,e){let n=0,a=0,l=0,c=0,u=0;const d=e.matrixWorldInverse;for(let e=0,p=t.length;e<p;e++){const p=t[e];if(p.isDirectionalLight){const t=i.directional[n];t.direction.setFromMatrixPosition(p.matrixWorld),r.setFromMatrixPosition(p.target.matrixWorld),t.direction.sub(r),t.direction.transformDirection(d),n++}else if(p.isSpotLight){const t=i.spot[l];t.position.setFromMatrixPosition(p.matrixWorld),t.position.applyMatrix4(d),t.direction.setFromMatrixPosition(p.matrixWorld),r.setFromMatrixPosition(p.target.matrixWorld),t.direction.sub(r),t.direction.transformDirection(d),l++}else if(p.isRectAreaLight){const t=i.rectArea[c];t.position.setFromMatrixPosition(p.matrixWorld),t.position.applyMatrix4(d),s.identity(),o.copy(p.matrixWorld),o.premultiply(d),s.extractRotation(o),t.halfWidth.set(.5*p.width,0,0),t.halfHeight.set(0,.5*p.height,0),t.halfWidth.applyMatrix4(s),t.halfHeight.applyMatrix4(s),c++}else if(p.isPointLight){const t=i.point[a];t.position.setFromMatrixPosition(p.matrixWorld),t.position.applyMatrix4(d),a++}else if(p.isHemisphereLight){const t=i.hemi[u];t.direction.setFromMatrixPosition(p.matrixWorld),t.direction.transformDirection(d),u++}}},state:i}}function is(t){const e=new ns(t),n=[],i=[],r={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:function(t){r.camera=t,n.length=0,i.length=0},state:r,setupLights:function(){e.setup(n)},setupLightsView:function(t){e.setupView(n,t)},pushLight:function(t){n.push(t)},pushShadow:function(t){i.push(t)}}}function rs(t){let e=new WeakMap;return{get:function(n,i=0){const r=e.get(n);let o;return void 0===r?(o=new is(t),e.set(n,[o])):i>=r.length?(o=new is(t),r.push(o)):o=r[i],o},dispose:function(){e=new WeakMap}}}class os extends In{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class ss extends In{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}function as(t,e,n){let i=new Di;const r=new Ut,o=new Ut,c=new re,u=new os({depthPacking:3201}),d=new ss,p={},h=n.maxTextureSize,f={[s]:1,[a]:0,[l]:2},m=new vi({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ut},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),y=m.clone();y.defines.HORIZONTAL_PASS=1;const x=new Yn;x.setAttribute("position",new On(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new pi(x,m),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1;let _=this.type;function z(n,i){const o=e.update(g);m.defines.VSM_SAMPLES!==n.blurSamples&&(m.defines.VSM_SAMPLES=n.blurSamples,y.defines.VSM_SAMPLES=n.blurSamples,m.needsUpdate=!0,y.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new se(r.x,r.y)),m.uniforms.shadow_pass.value=n.map.texture,m.uniforms.resolution.value=n.mapSize,m.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(i,null,o,m,g,null),y.uniforms.shadow_pass.value=n.mapPass.texture,y.uniforms.resolution.value=n.mapSize,y.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(i,null,o,y,g,null)}function b(e,n,i,r){let o=null;const s=!0===i.isPointLight?e.customDistanceMaterial:e.customDepthMaterial;if(void 0!==s)o=s;else if(o=!0===i.isPointLight?d:u,t.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const t=o.uuid,e=n.uuid;let i=p[t];void 0===i&&(i={},p[t]=i);let r=i[e];void 0===r&&(r=o.clone(),i[e]=r,n.addEventListener("dispose",M)),o=r}return o.visible=n.visible,o.wireframe=n.wireframe,o.side=3===r?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:f[n.side],o.alphaMap=n.alphaMap,o.alphaTest=n.alphaTest,o.map=n.map,o.clipShadows=n.clipShadows,o.clippingPlanes=n.clippingPlanes,o.clipIntersection=n.clipIntersection,o.displacementMap=n.displacementMap,o.displacementScale=n.displacementScale,o.displacementBias=n.displacementBias,o.wireframeLinewidth=n.wireframeLinewidth,o.linewidth=n.linewidth,!0===i.isPointLight&&!0===o.isMeshDistanceMaterial&&(t.properties.get(o).light=i),o}function S(n,r,o,s,a){if(!1===n.visible)return;if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===a)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const i=e.update(n),l=n.material;if(Array.isArray(l)){const e=i.groups;for(let c=0,u=e.length;c<u;c++){const u=e[c],d=l[u.materialIndex];if(d&&d.visible){const e=b(n,d,s,a);n.onBeforeShadow(t,n,r,o,i,e,u),t.renderBufferDirect(o,null,i,e,n,u),n.onAfterShadow(t,n,r,o,i,e,u)}}}else if(l.visible){const e=b(n,l,s,a);n.onBeforeShadow(t,n,r,o,i,e,null),t.renderBufferDirect(o,null,i,e,n,null),n.onAfterShadow(t,n,r,o,i,e,null)}}const l=n.children;for(let t=0,e=l.length;t<e;t++)S(l[t],r,o,s,a)}function M(t){t.target.removeEventListener("dispose",M);for(const e in p){const n=p[e],i=t.target.uuid;i in n&&(n[i].dispose(),delete n[i])}}this.render=function(e,n,s){if(!1===v.enabled)return;if(!1===v.autoUpdate&&!1===v.needsUpdate)return;if(0===e.length)return;const a=t.getRenderTarget(),l=t.getActiveCubeFace(),u=t.getActiveMipmapLevel(),d=t.state;d.setBlending(0),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);const p=3!==_&&3===this.type,f=3===_&&3!==this.type;for(let a=0,l=e.length;a<l;a++){const l=e[a],u=l.shadow;if(void 0===u){console.warn("THREE.WebGLShadowMap:",l,"has no shadow.");continue}if(!1===u.autoUpdate&&!1===u.needsUpdate)continue;r.copy(u.mapSize);const m=u.getFrameExtents();if(r.multiply(m),o.copy(u.mapSize),(r.x>h||r.y>h)&&(r.x>h&&(o.x=Math.floor(h/m.x),r.x=o.x*m.x,u.mapSize.x=o.x),r.y>h&&(o.y=Math.floor(h/m.y),r.y=o.y*m.y,u.mapSize.y=o.y)),null===u.map||!0===p||!0===f){const t=3!==this.type?{minFilter:N,magFilter:N}:{};null!==u.map&&u.map.dispose(),u.map=new se(r.x,r.y,t),u.map.texture.name=l.name+".shadowMap",u.camera.updateProjectionMatrix()}t.setRenderTarget(u.map),t.clear();const y=u.getViewportCount();for(let t=0;t<y;t++){const e=u.getViewport(t);c.set(o.x*e.x,o.y*e.y,o.x*e.z,o.y*e.w),d.viewport(c),u.updateMatrices(l,t),i=u.getFrustum(),S(n,s,u.camera,l,this.type)}!0!==u.isPointLightShadow&&3===this.type&&z(u,s),u.needsUpdate=!1}_=this.type,v.needsUpdate=!1,t.setRenderTarget(a,l,u)}}function ls(t){const e=new function(){let e=!1;const n=new re;let i=null;const r=new re(0,0,0,0);return{setMask:function(n){i===n||e||(t.colorMask(n,n,n,n),i=n)},setLocked:function(t){e=t},setClear:function(e,i,o,s,a){!0===a&&(e*=s,i*=s,o*=s),n.set(e,i,o,s),!1===r.equals(n)&&(t.clearColor(e,i,o,s),r.copy(n))},reset:function(){e=!1,i=null,r.set(-1,0,0,0)}}},n=new function(){let e=!1,n=null,i=null,r=null;return{setTest:function(e){e?it(t.DEPTH_TEST):rt(t.DEPTH_TEST)},setMask:function(i){n===i||e||(t.depthMask(i),n=i)},setFunc:function(e){if(i!==e){switch(e){case 0:t.depthFunc(t.NEVER);break;case 1:t.depthFunc(t.ALWAYS);break;case 2:t.depthFunc(t.LESS);break;case 3:default:t.depthFunc(t.LEQUAL);break;case 4:t.depthFunc(t.EQUAL);break;case 5:t.depthFunc(t.GEQUAL);break;case 6:t.depthFunc(t.GREATER);break;case 7:t.depthFunc(t.NOTEQUAL)}i=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,n=null,i=null,r=null}}},i=new function(){let e=!1,n=null,i=null,r=null,o=null,s=null,a=null,l=null,c=null;return{setTest:function(n){e||(n?it(t.STENCIL_TEST):rt(t.STENCIL_TEST))},setMask:function(i){n===i||e||(t.stencilMask(i),n=i)},setFunc:function(e,n,s){i===e&&r===n&&o===s||(t.stencilFunc(e,n,s),i=e,r=n,o=s)},setOp:function(e,n,i){s===e&&a===n&&l===i||(t.stencilOp(e,n,i),s=e,a=n,l=i)},setLocked:function(t){e=t},setClear:function(e){c!==e&&(t.clearStencil(e),c=e)},reset:function(){e=!1,n=null,i=null,r=null,o=null,s=null,a=null,l=null,c=null}}},r=new WeakMap,o=new WeakMap;let s={},a={},l=new WeakMap,T=[],A=null,R=!1,C=null,P=null,L=null,I=null,N=null,D=null,U=null,O=new Cn(0,0,0),k=0,F=!1,B=null,H=null,V=null,G=null,W=null;const j=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let X=!1,q=0;const Y=t.getParameter(t.VERSION);-1!==Y.indexOf("WebGL")?(q=parseFloat(/^WebGL (\d)/.exec(Y)[1]),X=q>=1):-1!==Y.indexOf("OpenGL ES")&&(q=parseFloat(/^OpenGL ES (\d)/.exec(Y)[1]),X=q>=2);let K=null,Z={};const $=t.getParameter(t.SCISSOR_BOX),J=t.getParameter(t.VIEWPORT),Q=(new re).fromArray($),tt=(new re).fromArray(J);function et(e,n,i,r){const o=new Uint8Array(4),s=t.createTexture();t.bindTexture(e,s),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let s=0;s<i;s++)e===t.TEXTURE_3D||e===t.TEXTURE_2D_ARRAY?t.texImage3D(n,0,t.RGBA,1,1,r,0,t.RGBA,t.UNSIGNED_BYTE,o):t.texImage2D(n+s,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,o);return s}const nt={};function it(e){!0!==s[e]&&(t.enable(e),s[e]=!0)}function rt(e){!1!==s[e]&&(t.disable(e),s[e]=!1)}nt[t.TEXTURE_2D]=et(t.TEXTURE_2D,t.TEXTURE_2D,1),nt[t.TEXTURE_CUBE_MAP]=et(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),nt[t.TEXTURE_2D_ARRAY]=et(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),nt[t.TEXTURE_3D]=et(t.TEXTURE_3D,t.TEXTURE_3D,1,1),e.setClear(0,0,0,1),n.setClear(1),i.setClear(0),it(t.DEPTH_TEST),n.setFunc(3),lt(!1),ct(1),it(t.CULL_FACE),at(0);const ot={[c]:t.FUNC_ADD,[u]:t.FUNC_SUBTRACT,[d]:t.FUNC_REVERSE_SUBTRACT};ot[103]=t.MIN,ot[104]=t.MAX;const st={[p]:t.ZERO,[h]:t.ONE,[f]:t.SRC_COLOR,[y]:t.SRC_ALPHA,[b]:t.SRC_ALPHA_SATURATE,[_]:t.DST_COLOR,[g]:t.DST_ALPHA,[m]:t.ONE_MINUS_SRC_COLOR,[x]:t.ONE_MINUS_SRC_ALPHA,[z]:t.ONE_MINUS_DST_COLOR,[v]:t.ONE_MINUS_DST_ALPHA,[S]:t.CONSTANT_COLOR,[M]:t.ONE_MINUS_CONSTANT_COLOR,[E]:t.CONSTANT_ALPHA,[w]:t.ONE_MINUS_CONSTANT_ALPHA};function at(e,n,i,r,o,s,a,l,u,d){if(0!==e){if(!1===R&&(it(t.BLEND),R=!0),5===e)o=o||n,s=s||i,a=a||r,n===P&&o===N||(t.blendEquationSeparate(ot[n],ot[o]),P=n,N=o),i===L&&r===I&&s===D&&a===U||(t.blendFuncSeparate(st[i],st[r],st[s],st[a]),L=i,I=r,D=s,U=a),!1!==l.equals(O)&&u===k||(t.blendColor(l.r,l.g,l.b,u),O.copy(l),k=u),C=e,F=!1;else if(e!==C||d!==F){if(P===c&&N===c||(t.blendEquation(t.FUNC_ADD),P=c,N=c),d)switch(e){case 1:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case 2:t.blendFunc(t.ONE,t.ONE);break;case 3:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case 4:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case 1:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case 2:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case 3:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case 4:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}L=null,I=null,D=null,U=null,O.set(0,0,0),k=0,C=e,F=d}}else!0===R&&(rt(t.BLEND),R=!1)}function lt(e){B!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),B=e)}function ct(e){0!==e?(it(t.CULL_FACE),e!==H&&(1===e?t.cullFace(t.BACK):2===e?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):rt(t.CULL_FACE),H=e}function ut(e,n,i){e?(it(t.POLYGON_OFFSET_FILL),G===n&&W===i||(t.polygonOffset(n,i),G=n,W=i)):rt(t.POLYGON_OFFSET_FILL)}return{buffers:{color:e,depth:n,stencil:i},enable:it,disable:rt,bindFramebuffer:function(e,n){return a[e]!==n&&(t.bindFramebuffer(e,n),a[e]=n,e===t.DRAW_FRAMEBUFFER&&(a[t.FRAMEBUFFER]=n),e===t.FRAMEBUFFER&&(a[t.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(e,n){let i=T,r=!1;if(e){i=l.get(n),void 0===i&&(i=[],l.set(n,i));const o=e.textures;if(i.length!==o.length||i[0]!==t.COLOR_ATTACHMENT0){for(let e=0,n=o.length;e<n;e++)i[e]=t.COLOR_ATTACHMENT0+e;i.length=o.length,r=!0}}else i[0]!==t.BACK&&(i[0]=t.BACK,r=!0);r&&t.drawBuffers(i)},useProgram:function(e){return A!==e&&(t.useProgram(e),A=e,!0)},setBlending:at,setMaterial:function(r,o){2===r.side?rt(t.CULL_FACE):it(t.CULL_FACE);let s=1===r.side;o&&(s=!s),lt(s),1===r.blending&&!1===r.transparent?at(0):at(r.blending,r.blendEquation,r.blendSrc,r.blendDst,r.blendEquationAlpha,r.blendSrcAlpha,r.blendDstAlpha,r.blendColor,r.blendAlpha,r.premultipliedAlpha),n.setFunc(r.depthFunc),n.setTest(r.depthTest),n.setMask(r.depthWrite),e.setMask(r.colorWrite);const a=r.stencilWrite;i.setTest(a),a&&(i.setMask(r.stencilWriteMask),i.setFunc(r.stencilFunc,r.stencilRef,r.stencilFuncMask),i.setOp(r.stencilFail,r.stencilZFail,r.stencilZPass)),ut(r.polygonOffset,r.polygonOffsetFactor,r.polygonOffsetUnits),!0===r.alphaToCoverage?it(t.SAMPLE_ALPHA_TO_COVERAGE):rt(t.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:lt,setCullFace:ct,setLineWidth:function(e){e!==V&&(X&&t.lineWidth(e),V=e)},setPolygonOffset:ut,setScissorTest:function(e){e?it(t.SCISSOR_TEST):rt(t.SCISSOR_TEST)},activeTexture:function(e){void 0===e&&(e=t.TEXTURE0+j-1),K!==e&&(t.activeTexture(e),K=e)},bindTexture:function(e,n,i){void 0===i&&(i=null===K?t.TEXTURE0+j-1:K);let r=Z[i];void 0===r&&(r={type:void 0,texture:void 0},Z[i]=r),r.type===e&&r.texture===n||(K!==i&&(t.activeTexture(i),K=i),t.bindTexture(e,n||nt[e]),r.type=e,r.texture=n)},unbindTexture:function(){const e=Z[K];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{t.compressedTexImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(e,n){let i=o.get(n);void 0===i&&(i=new WeakMap,o.set(n,i));let r=i.get(e);void 0===r&&(r=t.getUniformBlockIndex(n,e.name),i.set(e,r))},uniformBlockBinding:function(e,n){const i=o.get(n).get(e);r.get(n)!==i&&(t.uniformBlockBinding(n,i,e.__bindingPointIndex),r.set(n,i))},texStorage2D:function(){try{t.texStorage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{t.texStorage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{t.texSubImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{t.texSubImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(e){!1===Q.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),Q.copy(e))},viewport:function(e){!1===tt.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),tt.copy(e))},reset:function(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),s={},K=null,Z={},a={},l=new WeakMap,T=[],A=null,R=!1,C=null,P=null,L=null,I=null,N=null,D=null,U=null,O=new Cn(0,0,0),k=0,F=!1,B=null,H=null,V=null,G=null,W=null,Q.set(0,0,t.canvas.width,t.canvas.height),tt.set(0,0,t.canvas.width,t.canvas.height),e.reset(),n.reset(),i.reset()}}}function cs(t,e,n,i,r,o,s){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),c=new Ut,u=new WeakMap;let d;const p=new WeakMap;let h=!1;try{h="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(t){}function f(t,e){return h?new OffscreenCanvas(t,e):Bt("canvas")}function m(t,e,n){let i=1;const r=rt(t);if((r.width>n||r.height>n)&&(i=n/Math.max(r.width,r.height)),i<1){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof VideoFrame&&t instanceof VideoFrame){const n=Math.floor(i*r.width),o=Math.floor(i*r.height);void 0===d&&(d=f(n,o));const s=e?f(n,o):d;return s.width=n,s.height=o,s.getContext("2d").drawImage(t,0,0,n,o),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+r.width+"x"+r.height+") to ("+n+"x"+o+")."),s}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+r.width+"x"+r.height+")."),t}return t}function y(t){return t.generateMipmaps&&t.minFilter!==N&&t.minFilter!==O}function x(e){t.generateMipmap(e)}function g(n,i,r,o,s=!1){if(null!==n){if(void 0!==t[n])return t[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let a=i;if(i===t.RED&&(r===t.FLOAT&&(a=t.R32F),r===t.HALF_FLOAT&&(a=t.R16F),r===t.UNSIGNED_BYTE&&(a=t.R8)),i===t.RED_INTEGER&&(r===t.UNSIGNED_BYTE&&(a=t.R8UI),r===t.UNSIGNED_SHORT&&(a=t.R16UI),r===t.UNSIGNED_INT&&(a=t.R32UI),r===t.BYTE&&(a=t.R8I),r===t.SHORT&&(a=t.R16I),r===t.INT&&(a=t.R32I)),i===t.RG&&(r===t.FLOAT&&(a=t.RG32F),r===t.HALF_FLOAT&&(a=t.RG16F),r===t.UNSIGNED_BYTE&&(a=t.RG8)),i===t.RG_INTEGER&&(r===t.UNSIGNED_BYTE&&(a=t.RG8UI),r===t.UNSIGNED_SHORT&&(a=t.RG16UI),r===t.UNSIGNED_INT&&(a=t.RG32UI),r===t.BYTE&&(a=t.RG8I),r===t.SHORT&&(a=t.RG16I),r===t.INT&&(a=t.RG32I)),i===t.RGB&&r===t.UNSIGNED_INT_5_9_9_9_REV&&(a=t.RGB9_E5),i===t.RGBA){const e=s?lt:Yt.getTransfer(o);r===t.FLOAT&&(a=t.RGBA32F),r===t.HALF_FLOAT&&(a=t.RGBA16F),r===t.UNSIGNED_BYTE&&(a=e===ct?t.SRGB8_ALPHA8:t.RGBA8),r===t.UNSIGNED_SHORT_4_4_4_4&&(a=t.RGBA4),r===t.UNSIGNED_SHORT_5_5_5_1&&(a=t.RGB5_A1)}return a!==t.R16F&&a!==t.R32F&&a!==t.RG16F&&a!==t.RG32F&&a!==t.RGBA16F&&a!==t.RGBA32F||e.get("EXT_color_buffer_float"),a}function v(e,n){let i;return e?null===n||n===V||n===j?i=t.DEPTH24_STENCIL8:n===G?i=t.DEPTH32F_STENCIL8:n===H&&(i=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===n||n===V||n===j?i=t.DEPTH_COMPONENT24:n===G?i=t.DEPTH_COMPONENT32F:n===H&&(i=t.DEPTH_COMPONENT16),i}function _(t,e){return!0===y(t)||t.isFramebufferTexture&&t.minFilter!==N&&t.minFilter!==O?Math.log2(Math.max(e.width,e.height))+1:void 0!==t.mipmaps&&t.mipmaps.length>0?t.mipmaps.length:t.isCompressedTexture&&Array.isArray(t.image)?e.mipmaps.length:1}function z(t){const e=t.target;e.removeEventListener("dispose",z),function(t){const e=i.get(t);if(void 0===e.__webglInit)return;const n=t.source,r=p.get(n);if(r){const i=r[e.__cacheKey];i.usedTimes--,0===i.usedTimes&&S(t),0===Object.keys(r).length&&p.delete(n)}i.remove(t)}(e),e.isVideoTexture&&u.delete(e)}function b(e){const n=e.target;n.removeEventListener("dispose",b),function(e){const n=i.get(e);if(e.depthTexture&&e.depthTexture.dispose(),e.isWebGLCubeRenderTarget)for(let e=0;e<6;e++){if(Array.isArray(n.__webglFramebuffer[e]))for(let i=0;i<n.__webglFramebuffer[e].length;i++)t.deleteFramebuffer(n.__webglFramebuffer[e][i]);else t.deleteFramebuffer(n.__webglFramebuffer[e]);n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[e])}else{if(Array.isArray(n.__webglFramebuffer))for(let e=0;e<n.__webglFramebuffer.length;e++)t.deleteFramebuffer(n.__webglFramebuffer[e]);else t.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&t.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let e=0;e<n.__webglColorRenderbuffer.length;e++)n.__webglColorRenderbuffer[e]&&t.deleteRenderbuffer(n.__webglColorRenderbuffer[e]);n.__webglDepthRenderbuffer&&t.deleteRenderbuffer(n.__webglDepthRenderbuffer)}const r=e.textures;for(let e=0,n=r.length;e<n;e++){const n=i.get(r[e]);n.__webglTexture&&(t.deleteTexture(n.__webglTexture),s.memory.textures--),i.remove(r[e])}i.remove(e)}(n)}function S(e){const n=i.get(e);t.deleteTexture(n.__webglTexture);const r=e.source;delete p.get(r)[n.__cacheKey],s.memory.textures--}let M=0;function E(e,r){const o=i.get(e);if(e.isVideoTexture&&function(t){const e=s.render.frame;u.get(t)!==e&&(u.set(t,e),t.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&o.__version!==e.version){const t=e.image;if(null===t)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==t.complete)return void W(o,e,r);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(t.TEXTURE_2D,o.__webglTexture,t.TEXTURE0+r)}const w={[P]:t.REPEAT,[L]:t.CLAMP_TO_EDGE,[I]:t.MIRRORED_REPEAT},T={[N]:t.NEAREST,[D]:t.NEAREST_MIPMAP_NEAREST,[U]:t.NEAREST_MIPMAP_LINEAR,[O]:t.LINEAR,[k]:t.LINEAR_MIPMAP_NEAREST,[F]:t.LINEAR_MIPMAP_LINEAR},A={[ht]:t.NEVER,[_t]:t.ALWAYS,[ft]:t.LESS,[yt]:t.LEQUAL,[mt]:t.EQUAL,[vt]:t.GEQUAL,[xt]:t.GREATER,[gt]:t.NOTEQUAL};function R(n,o){if(o.type!==G||!1!==e.has("OES_texture_float_linear")||o.magFilter!==O&&o.magFilter!==k&&o.magFilter!==U&&o.magFilter!==F&&o.minFilter!==O&&o.minFilter!==k&&o.minFilter!==U&&o.minFilter!==F||console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(n,t.TEXTURE_WRAP_S,w[o.wrapS]),t.texParameteri(n,t.TEXTURE_WRAP_T,w[o.wrapT]),n!==t.TEXTURE_3D&&n!==t.TEXTURE_2D_ARRAY||t.texParameteri(n,t.TEXTURE_WRAP_R,w[o.wrapR]),t.texParameteri(n,t.TEXTURE_MAG_FILTER,T[o.magFilter]),t.texParameteri(n,t.TEXTURE_MIN_FILTER,T[o.minFilter]),o.compareFunction&&(t.texParameteri(n,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(n,t.TEXTURE_COMPARE_FUNC,A[o.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){if(o.magFilter===N)return;if(o.minFilter!==U&&o.minFilter!==F)return;if(o.type===G&&!1===e.has("OES_texture_float_linear"))return;if(o.anisotropy>1||i.get(o).__currentAnisotropy){const s=e.get("EXT_texture_filter_anisotropic");t.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),i.get(o).__currentAnisotropy=o.anisotropy}}}function C(e,n){let i=!1;void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",z));const r=n.source;let o=p.get(r);void 0===o&&(o={},p.set(r,o));const a=function(t){const e=[];return e.push(t.wrapS),e.push(t.wrapT),e.push(t.wrapR||0),e.push(t.magFilter),e.push(t.minFilter),e.push(t.anisotropy),e.push(t.internalFormat),e.push(t.format),e.push(t.type),e.push(t.generateMipmaps),e.push(t.premultiplyAlpha),e.push(t.flipY),e.push(t.unpackAlignment),e.push(t.colorSpace),e.join()}(n);if(a!==e.__cacheKey){void 0===o[a]&&(o[a]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,i=!0),o[a].usedTimes++;const r=o[e.__cacheKey];void 0!==r&&(o[e.__cacheKey].usedTimes--,0===r.usedTimes&&S(n)),e.__cacheKey=a,e.__webglTexture=o[a].texture}return i}function W(e,s,a){let l=t.TEXTURE_2D;(s.isDataArrayTexture||s.isCompressedArrayTexture)&&(l=t.TEXTURE_2D_ARRAY),s.isData3DTexture&&(l=t.TEXTURE_3D);const c=C(e,s),u=s.source;n.bindTexture(l,e.__webglTexture,t.TEXTURE0+a);const d=i.get(u);if(u.version!==d.__version||!0===c){n.activeTexture(t.TEXTURE0+a);const e=Yt.getPrimaries(Yt.workingColorSpace),i=s.colorSpace===it?null:Yt.getPrimaries(s.colorSpace),p=s.colorSpace===it||e===i?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,s.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,s.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,p);let h=m(s.image,!1,r.maxTextureSize);h=nt(s,h);const f=o.convert(s.format,s.colorSpace),z=o.convert(s.type);let b,S=g(s.internalFormat,f,z,s.colorSpace,s.isVideoTexture);R(l,s);const M=s.mipmaps,E=!0!==s.isVideoTexture,w=void 0===d.__version||!0===c,T=u.dataReady,A=_(s,h);if(s.isDepthTexture)S=v(s.format===Y,s.type),w&&(E?n.texStorage2D(t.TEXTURE_2D,1,S,h.width,h.height):n.texImage2D(t.TEXTURE_2D,0,S,h.width,h.height,0,f,z,null));else if(s.isDataTexture)if(M.length>0){E&&w&&n.texStorage2D(t.TEXTURE_2D,A,S,M[0].width,M[0].height);for(let e=0,i=M.length;e<i;e++)b=M[e],E?T&&n.texSubImage2D(t.TEXTURE_2D,e,0,0,b.width,b.height,f,z,b.data):n.texImage2D(t.TEXTURE_2D,e,S,b.width,b.height,0,f,z,b.data);s.generateMipmaps=!1}else E?(w&&n.texStorage2D(t.TEXTURE_2D,A,S,h.width,h.height),T&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,h.width,h.height,f,z,h.data)):n.texImage2D(t.TEXTURE_2D,0,S,h.width,h.height,0,f,z,h.data);else if(s.isCompressedTexture)if(s.isCompressedArrayTexture){E&&w&&n.texStorage3D(t.TEXTURE_2D_ARRAY,A,S,M[0].width,M[0].height,h.depth);for(let e=0,i=M.length;e<i;e++)if(b=M[e],s.format!==X)if(null!==f)if(E){if(T)if(s.layerUpdates.size>0){for(const i of s.layerUpdates){const r=b.width*b.height;n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,e,0,0,i,b.width,b.height,1,f,b.data.slice(r*i,r*(i+1)),0,0)}s.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,e,0,0,0,b.width,b.height,h.depth,f,b.data,0,0)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,e,S,b.width,b.height,h.depth,0,b.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else E?T&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,e,0,0,0,b.width,b.height,h.depth,f,z,b.data):n.texImage3D(t.TEXTURE_2D_ARRAY,e,S,b.width,b.height,h.depth,0,f,z,b.data)}else{E&&w&&n.texStorage2D(t.TEXTURE_2D,A,S,M[0].width,M[0].height);for(let e=0,i=M.length;e<i;e++)b=M[e],s.format!==X?null!==f?E?T&&n.compressedTexSubImage2D(t.TEXTURE_2D,e,0,0,b.width,b.height,f,b.data):n.compressedTexImage2D(t.TEXTURE_2D,e,S,b.width,b.height,0,b.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):E?T&&n.texSubImage2D(t.TEXTURE_2D,e,0,0,b.width,b.height,f,z,b.data):n.texImage2D(t.TEXTURE_2D,e,S,b.width,b.height,0,f,z,b.data)}else if(s.isDataArrayTexture)if(E){if(w&&n.texStorage3D(t.TEXTURE_2D_ARRAY,A,S,h.width,h.height,h.depth),T)if(s.layerUpdates.size>0){let e;switch(z){case t.UNSIGNED_BYTE:switch(f){case t.ALPHA:case t.LUMINANCE:e=1;break;case t.LUMINANCE_ALPHA:e=2;break;case t.RGB:e=3;break;case t.RGBA:e=4;break;default:throw new Error(`Unknown texel size for format ${f}.`)}break;case t.UNSIGNED_SHORT_4_4_4_4:case t.UNSIGNED_SHORT_5_5_5_1:case t.UNSIGNED_SHORT_5_6_5:e=1;break;default:throw new Error(`Unknown texel size for type ${z}.`)}const i=h.width*h.height*e;for(const e of s.layerUpdates)n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,e,h.width,h.height,1,f,z,h.data.slice(i*e,i*(e+1)));s.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,h.width,h.height,h.depth,f,z,h.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,S,h.width,h.height,h.depth,0,f,z,h.data);else if(s.isData3DTexture)E?(w&&n.texStorage3D(t.TEXTURE_3D,A,S,h.width,h.height,h.depth),T&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,h.width,h.height,h.depth,f,z,h.data)):n.texImage3D(t.TEXTURE_3D,0,S,h.width,h.height,h.depth,0,f,z,h.data);else if(s.isFramebufferTexture){if(w)if(E)n.texStorage2D(t.TEXTURE_2D,A,S,h.width,h.height);else{let e=h.width,i=h.height;for(let r=0;r<A;r++)n.texImage2D(t.TEXTURE_2D,r,S,e,i,0,f,z,null),e>>=1,i>>=1}}else if(M.length>0){if(E&&w){const e=rt(M[0]);n.texStorage2D(t.TEXTURE_2D,A,S,e.width,e.height)}for(let e=0,i=M.length;e<i;e++)b=M[e],E?T&&n.texSubImage2D(t.TEXTURE_2D,e,0,0,f,z,b):n.texImage2D(t.TEXTURE_2D,e,S,f,z,b);s.generateMipmaps=!1}else if(E){if(w){const e=rt(h);n.texStorage2D(t.TEXTURE_2D,A,S,e.width,e.height)}T&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,f,z,h)}else n.texImage2D(t.TEXTURE_2D,0,S,f,z,h);y(s)&&x(l),d.__version=u.version,s.onUpdate&&s.onUpdate(s)}e.__version=s.version}function K(e,r,s,l,c,u){const d=o.convert(s.format,s.colorSpace),p=o.convert(s.type),h=g(s.internalFormat,d,p,s.colorSpace);if(!i.get(r).__hasExternalTextures){const e=Math.max(1,r.width>>u),i=Math.max(1,r.height>>u);c===t.TEXTURE_3D||c===t.TEXTURE_2D_ARRAY?n.texImage3D(c,u,h,e,i,r.depth,0,d,p,null):n.texImage2D(c,u,h,e,i,0,d,p,null)}n.bindFramebuffer(t.FRAMEBUFFER,e),et(r)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,l,c,i.get(s).__webglTexture,0,tt(r)):(c===t.TEXTURE_2D||c>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&c<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,l,c,i.get(s).__webglTexture,u),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Z(e,n,i){if(t.bindRenderbuffer(t.RENDERBUFFER,e),n.depthBuffer){const r=n.depthTexture,o=r&&r.isDepthTexture?r.type:null,s=v(n.stencilBuffer,o),l=n.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,c=tt(n);et(n)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,c,s,n.width,n.height):i?t.renderbufferStorageMultisample(t.RENDERBUFFER,c,s,n.width,n.height):t.renderbufferStorage(t.RENDERBUFFER,s,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,l,t.RENDERBUFFER,e)}else{const e=n.textures;for(let r=0;r<e.length;r++){const s=e[r],l=o.convert(s.format,s.colorSpace),c=o.convert(s.type),u=g(s.internalFormat,l,c,s.colorSpace),d=tt(n);i&&!1===et(n)?t.renderbufferStorageMultisample(t.RENDERBUFFER,d,u,n.width,n.height):et(n)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,d,u,n.width,n.height):t.renderbufferStorage(t.RENDERBUFFER,u,n.width,n.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function $(e){const r=i.get(e),o=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture&&!r.__autoAllocateDepthBuffer){if(o)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,r){if(r&&r.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,e),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(r.depthTexture).__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),E(r.depthTexture,0);const o=i.get(r.depthTexture).__webglTexture,s=tt(r);if(r.depthTexture.format===q)et(r)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,o,0,s):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,o,0);else{if(r.depthTexture.format!==Y)throw new Error("Unknown depthTexture format");et(r)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,o,0,s):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,o,0)}}(r.__webglFramebuffer,e)}else if(o){r.__webglDepthbuffer=[];for(let i=0;i<6;i++)n.bindFramebuffer(t.FRAMEBUFFER,r.__webglFramebuffer[i]),r.__webglDepthbuffer[i]=t.createRenderbuffer(),Z(r.__webglDepthbuffer[i],e,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,r.__webglFramebuffer),r.__webglDepthbuffer=t.createRenderbuffer(),Z(r.__webglDepthbuffer,e,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}const J=[],Q=[];function tt(t){return Math.min(r.maxSamples,t.samples)}function et(t){const n=i.get(t);return t.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function nt(t,e){const n=t.colorSpace,i=t.format,r=t.type;return!0===t.isCompressedTexture||!0===t.isVideoTexture||n!==ot&&n!==it&&(Yt.getTransfer(n)===ct?i===X&&r===B||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",n)),e}function rt(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement?(c.width=t.naturalWidth||t.width,c.height=t.naturalHeight||t.height):"undefined"!=typeof VideoFrame&&t instanceof VideoFrame?(c.width=t.displayWidth,c.height=t.displayHeight):(c.width=t.width,c.height=t.height),c}this.allocateTextureUnit=function(){const t=M;return t>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+r.maxTextures),M+=1,t},this.resetTextureUnits=function(){M=0},this.setTexture2D=E,this.setTexture2DArray=function(e,r){const o=i.get(e);e.version>0&&o.__version!==e.version?W(o,e,r):n.bindTexture(t.TEXTURE_2D_ARRAY,o.__webglTexture,t.TEXTURE0+r)},this.setTexture3D=function(e,r){const o=i.get(e);e.version>0&&o.__version!==e.version?W(o,e,r):n.bindTexture(t.TEXTURE_3D,o.__webglTexture,t.TEXTURE0+r)},this.setTextureCube=function(e,s){const a=i.get(e);e.version>0&&a.__version!==e.version?function(e,s,a){if(6!==s.image.length)return;const l=C(e,s),c=s.source;n.bindTexture(t.TEXTURE_CUBE_MAP,e.__webglTexture,t.TEXTURE0+a);const u=i.get(c);if(c.version!==u.__version||!0===l){n.activeTexture(t.TEXTURE0+a);const e=Yt.getPrimaries(Yt.workingColorSpace),i=s.colorSpace===it?null:Yt.getPrimaries(s.colorSpace),d=s.colorSpace===it||e===i?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,s.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,s.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,d);const p=s.isCompressedTexture||s.image[0].isCompressedTexture,h=s.image[0]&&s.image[0].isDataTexture,f=[];for(let t=0;t<6;t++)f[t]=p||h?h?s.image[t].image:s.image[t]:m(s.image[t],!0,r.maxCubemapSize),f[t]=nt(s,f[t]);const v=f[0],z=o.convert(s.format,s.colorSpace),b=o.convert(s.type),S=g(s.internalFormat,z,b,s.colorSpace),M=!0!==s.isVideoTexture,E=void 0===u.__version||!0===l,w=c.dataReady;let T,A=_(s,v);if(R(t.TEXTURE_CUBE_MAP,s),p){M&&E&&n.texStorage2D(t.TEXTURE_CUBE_MAP,A,S,v.width,v.height);for(let e=0;e<6;e++){T=f[e].mipmaps;for(let i=0;i<T.length;i++){const r=T[i];s.format!==X?null!==z?M?w&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,i,0,0,r.width,r.height,z,r.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,i,S,r.width,r.height,0,r.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):M?w&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,i,0,0,r.width,r.height,z,b,r.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,i,S,r.width,r.height,0,z,b,r.data)}}}else{if(T=s.mipmaps,M&&E){T.length>0&&A++;const e=rt(f[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,A,S,e.width,e.height)}for(let e=0;e<6;e++)if(h){M?w&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,0,0,f[e].width,f[e].height,z,b,f[e].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,S,f[e].width,f[e].height,0,z,b,f[e].data);for(let i=0;i<T.length;i++){const r=T[i].image[e].image;M?w&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,i+1,0,0,r.width,r.height,z,b,r.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,i+1,S,r.width,r.height,0,z,b,r.data)}}else{M?w&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,0,0,z,b,f[e]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,S,z,b,f[e]);for(let i=0;i<T.length;i++){const r=T[i];M?w&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,i+1,0,0,z,b,r.image[e]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,i+1,S,z,b,r.image[e])}}}y(s)&&x(t.TEXTURE_CUBE_MAP),u.__version=c.version,s.onUpdate&&s.onUpdate(s)}e.__version=s.version}(a,e,s):n.bindTexture(t.TEXTURE_CUBE_MAP,a.__webglTexture,t.TEXTURE0+s)},this.rebindTextures=function(e,n,r){const o=i.get(e);void 0!==n&&K(o.__webglFramebuffer,e,e.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),void 0!==r&&$(e)},this.setupRenderTarget=function(e){const r=e.texture,a=i.get(e),l=i.get(r);e.addEventListener("dispose",b);const c=e.textures,u=!0===e.isWebGLCubeRenderTarget,d=c.length>1;if(d||(void 0===l.__webglTexture&&(l.__webglTexture=t.createTexture()),l.__version=r.version,s.memory.textures++),u){a.__webglFramebuffer=[];for(let e=0;e<6;e++)if(r.mipmaps&&r.mipmaps.length>0){a.__webglFramebuffer[e]=[];for(let n=0;n<r.mipmaps.length;n++)a.__webglFramebuffer[e][n]=t.createFramebuffer()}else a.__webglFramebuffer[e]=t.createFramebuffer()}else{if(r.mipmaps&&r.mipmaps.length>0){a.__webglFramebuffer=[];for(let e=0;e<r.mipmaps.length;e++)a.__webglFramebuffer[e]=t.createFramebuffer()}else a.__webglFramebuffer=t.createFramebuffer();if(d)for(let e=0,n=c.length;e<n;e++){const n=i.get(c[e]);void 0===n.__webglTexture&&(n.__webglTexture=t.createTexture(),s.memory.textures++)}if(e.samples>0&&!1===et(e)){a.__webglMultisampledFramebuffer=t.createFramebuffer(),a.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,a.__webglMultisampledFramebuffer);for(let n=0;n<c.length;n++){const i=c[n];a.__webglColorRenderbuffer[n]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,a.__webglColorRenderbuffer[n]);const r=o.convert(i.format,i.colorSpace),s=o.convert(i.type),l=g(i.internalFormat,r,s,i.colorSpace,!0===e.isXRRenderTarget),u=tt(e);t.renderbufferStorageMultisample(t.RENDERBUFFER,u,l,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+n,t.RENDERBUFFER,a.__webglColorRenderbuffer[n])}t.bindRenderbuffer(t.RENDERBUFFER,null),e.depthBuffer&&(a.__webglDepthRenderbuffer=t.createRenderbuffer(),Z(a.__webglDepthRenderbuffer,e,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(u){n.bindTexture(t.TEXTURE_CUBE_MAP,l.__webglTexture),R(t.TEXTURE_CUBE_MAP,r);for(let n=0;n<6;n++)if(r.mipmaps&&r.mipmaps.length>0)for(let i=0;i<r.mipmaps.length;i++)K(a.__webglFramebuffer[n][i],e,r,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+n,i);else K(a.__webglFramebuffer[n],e,r,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);y(r)&&x(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){for(let r=0,o=c.length;r<o;r++){const o=c[r],s=i.get(o);n.bindTexture(t.TEXTURE_2D,s.__webglTexture),R(t.TEXTURE_2D,o),K(a.__webglFramebuffer,e,o,t.COLOR_ATTACHMENT0+r,t.TEXTURE_2D,0),y(o)&&x(t.TEXTURE_2D)}n.unbindTexture()}else{let i=t.TEXTURE_2D;if((e.isWebGL3DRenderTarget||e.isWebGLArrayRenderTarget)&&(i=e.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(i,l.__webglTexture),R(i,r),r.mipmaps&&r.mipmaps.length>0)for(let n=0;n<r.mipmaps.length;n++)K(a.__webglFramebuffer[n],e,r,t.COLOR_ATTACHMENT0,i,n);else K(a.__webglFramebuffer,e,r,t.COLOR_ATTACHMENT0,i,0);y(r)&&x(i),n.unbindTexture()}e.depthBuffer&&$(e)},this.updateRenderTargetMipmap=function(e){const r=e.textures;for(let o=0,s=r.length;o<s;o++){const s=r[o];if(y(s)){const r=e.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,o=i.get(s).__webglTexture;n.bindTexture(r,o),x(r),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(e){if(e.samples>0)if(!1===et(e)){const r=e.textures,o=e.width,s=e.height;let a=t.COLOR_BUFFER_BIT;const c=e.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,u=i.get(e),d=r.length>1;if(d)for(let e=0;e<r.length;e++)n.bindFramebuffer(t.FRAMEBUFFER,u.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,u.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(let n=0;n<r.length;n++){if(e.resolveDepthBuffer&&(e.depthBuffer&&(a|=t.DEPTH_BUFFER_BIT),e.stencilBuffer&&e.resolveStencilBuffer&&(a|=t.STENCIL_BUFFER_BIT)),d){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,u.__webglColorRenderbuffer[n]);const e=i.get(r[n]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0)}t.blitFramebuffer(0,0,o,s,0,0,o,s,a,t.NEAREST),!0===l&&(J.length=0,Q.length=0,J.push(t.COLOR_ATTACHMENT0+n),e.depthBuffer&&!1===e.resolveDepthBuffer&&(J.push(c),Q.push(c),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Q)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,J))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),d)for(let e=0;e<r.length;e++){n.bindFramebuffer(t.FRAMEBUFFER,u.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.RENDERBUFFER,u.__webglColorRenderbuffer[e]);const o=i.get(r[e]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,u.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.TEXTURE_2D,o,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}else if(e.depthBuffer&&!1===e.resolveDepthBuffer&&l){const n=e.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[n])}},this.setupDepthRenderbuffer=$,this.setupFrameBufferTexture=K,this.useMultisampledRTT=et}function us(t,e){return{convert:function(n,i=""){let r;const o=Yt.getTransfer(i);if(n===B)return t.UNSIGNED_BYTE;if(1017===n)return t.UNSIGNED_SHORT_4_4_4_4;if(1018===n)return t.UNSIGNED_SHORT_5_5_5_1;if(35902===n)return t.UNSIGNED_INT_5_9_9_9_REV;if(1010===n)return t.BYTE;if(1011===n)return t.SHORT;if(n===H)return t.UNSIGNED_SHORT;if(1013===n)return t.INT;if(n===V)return t.UNSIGNED_INT;if(n===G)return t.FLOAT;if(n===W)return t.HALF_FLOAT;if(1021===n)return t.ALPHA;if(1022===n)return t.RGB;if(n===X)return t.RGBA;if(1024===n)return t.LUMINANCE;if(1025===n)return t.LUMINANCE_ALPHA;if(n===q)return t.DEPTH_COMPONENT;if(n===Y)return t.DEPTH_STENCIL;if(1028===n)return t.RED;if(1029===n)return t.RED_INTEGER;if(1030===n)return t.RG;if(1031===n)return t.RG_INTEGER;if(1033===n)return t.RGBA_INTEGER;if(n===K||n===Z||n===$||n===J)if(o===ct){if(r=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===r)return null;if(n===K)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Z)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===$)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===J)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(r=e.get("WEBGL_compressed_texture_s3tc"),null===r)return null;if(n===K)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Z)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===$)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===J)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===n||35841===n||35842===n||35843===n){if(r=e.get("WEBGL_compressed_texture_pvrtc"),null===r)return null;if(35840===n)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===n)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===n)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===n)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===n||37492===n||37496===n){if(r=e.get("WEBGL_compressed_texture_etc"),null===r)return null;if(36196===n||37492===n)return o===ct?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(37496===n)return o===ct?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}if(37808===n||37809===n||37810===n||37811===n||37812===n||37813===n||37814===n||37815===n||37816===n||37817===n||37818===n||37819===n||37820===n||37821===n){if(r=e.get("WEBGL_compressed_texture_astc"),null===r)return null;if(37808===n)return o===ct?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===n)return o===ct?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===n)return o===ct?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===n)return o===ct?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===n)return o===ct?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===n)return o===ct?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===n)return o===ct?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===n)return o===ct?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===n)return o===ct?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===n)return o===ct?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===n)return o===ct?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===n)return o===ct?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===n)return o===ct?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===n)return o===ct?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===Q||36494===n||36495===n){if(r=e.get("EXT_texture_compression_bptc"),null===r)return null;if(n===Q)return o===ct?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(36494===n)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(36495===n)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(36283===n||36284===n||36285===n||36286===n){if(r=e.get("EXT_texture_compression_rgtc"),null===r)return null;if(n===Q)return r.COMPRESSED_RED_RGTC1_EXT;if(36284===n)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===n)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===n)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===j?t.UNSIGNED_INT_24_8:void 0!==t[n]?t[n]:null}}}class ds extends Mi{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}class ps extends fn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const hs={type:"move"};class fs{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new ps,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new ps,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ue,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ue),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new ps,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ue,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ue),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const n of t.hand.values())this._getHandJoint(e,n)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,n){let i=null,r=null,o=null;const s=this._targetRay,a=this._grip,l=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState){if(l&&t.hand){o=!0;for(const i of t.hand.values()){const t=e.getJointPose(i,n),r=this._getHandJoint(l,i);null!==t&&(r.matrix.fromArray(t.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.matrixWorldNeedsUpdate=!0,r.jointRadius=t.radius),r.visible=null!==t}const i=l.joints["index-finger-tip"],r=l.joints["thumb-tip"],s=i.position.distanceTo(r.position),a=.02,c=.005;l.inputState.pinching&&s>a+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!l.inputState.pinching&&s<=a-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==a&&t.gripSpace&&(r=e.getPose(t.gripSpace,n),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1));null!==s&&(i=e.getPose(t.targetRaySpace,n),null===i&&null!==r&&(i=r),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(hs)))}return null!==s&&(s.visible=null!==i),null!==a&&(a.visible=null!==r),null!==l&&(l.visible=null!==o),this}_getHandJoint(t,e){if(void 0===t.joints[e.jointName]){const n=new ps;n.matrixAutoUpdate=!1,n.visible=!1,t.joints[e.jointName]=n,t.add(n)}return t.joints[e.jointName]}}class ms{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(t,e,n){if(null===this.texture){const i=new ie;t.properties.get(i).__webglTexture=e.texture,e.depthNear==n.depthNear&&e.depthFar==n.depthFar||(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(t){if(null!==this.texture&&null===this.mesh){const e=t.cameras[0].viewport,n=new vi({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:e.z},depthHeight:{value:e.w}}});this.mesh=new pi(new ki(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}}class ys extends Et{constructor(t,e){super();const n=this;let i=null,r=1,o=null,s="local-floor",a=1,l=null,c=null,u=null,d=null,p=null,h=null;const f=new ms,m=e.getContextAttributes();let y=null,x=null;const g=[],v=[],_=new Ut;let z=null;const b=new Mi;b.layers.enable(1),b.viewport=new re;const S=new Mi;S.layers.enable(2),S.viewport=new re;const M=[b,S],E=new ds;E.layers.enable(1),E.layers.enable(2);let w=null,T=null;function A(t){const e=v.indexOf(t.inputSource);if(-1===e)return;const n=g[e];void 0!==n&&(n.update(t.inputSource,t.frame,l||o),n.dispatchEvent({type:t.type,data:t.inputSource}))}function R(){i.removeEventListener("select",A),i.removeEventListener("selectstart",A),i.removeEventListener("selectend",A),i.removeEventListener("squeeze",A),i.removeEventListener("squeezestart",A),i.removeEventListener("squeezeend",A),i.removeEventListener("end",R),i.removeEventListener("inputsourceschange",C);for(let t=0;t<g.length;t++){const e=v[t];null!==e&&(v[t]=null,g[t].disconnect(e))}w=null,T=null,f.reset(),t.setRenderTarget(y),p=null,d=null,u=null,i=null,x=null,D.stop(),n.isPresenting=!1,t.setPixelRatio(z),t.setSize(_.width,_.height,!1),n.dispatchEvent({type:"sessionend"})}function C(t){for(let e=0;e<t.removed.length;e++){const n=t.removed[e],i=v.indexOf(n);i>=0&&(v[i]=null,g[i].disconnect(n))}for(let e=0;e<t.added.length;e++){const n=t.added[e];let i=v.indexOf(n);if(-1===i){for(let t=0;t<g.length;t++){if(t>=v.length){v.push(n),i=t;break}if(null===v[t]){v[t]=n,i=t;break}}if(-1===i)break}const r=g[i];r&&r.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(t){let e=g[t];return void 0===e&&(e=new fs,g[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){let e=g[t];return void 0===e&&(e=new fs,g[t]=e),e.getGripSpace()},this.getHand=function(t){let e=g[t];return void 0===e&&(e=new fs,g[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){r=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(t){s=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(t){l=t},this.getBaseLayer=function(){return null!==d?d:p},this.getBinding=function(){return u},this.getFrame=function(){return h},this.getSession=function(){return i},this.setSession=async function(c){if(i=c,null!==i){if(y=t.getRenderTarget(),i.addEventListener("select",A),i.addEventListener("selectstart",A),i.addEventListener("selectend",A),i.addEventListener("squeeze",A),i.addEventListener("squeezestart",A),i.addEventListener("squeezeend",A),i.addEventListener("end",R),i.addEventListener("inputsourceschange",C),!0!==m.xrCompatible&&await e.makeXRCompatible(),z=t.getPixelRatio(),t.getSize(_),void 0===i.renderState.layers){const n={antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:r};p=new XRWebGLLayer(i,e,n),i.updateRenderState({baseLayer:p}),t.setPixelRatio(1),t.setSize(p.framebufferWidth,p.framebufferHeight,!1),x=new se(p.framebufferWidth,p.framebufferHeight,{format:X,type:B,colorSpace:t.outputColorSpace,stencilBuffer:m.stencil})}else{let n=null,o=null,s=null;m.depth&&(s=m.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,n=m.stencil?Y:q,o=m.stencil?j:V);const a={colorFormat:e.RGBA8,depthFormat:s,scaleFactor:r};u=new XRWebGLBinding(i,e),d=u.createProjectionLayer(a),i.updateRenderState({layers:[d]}),t.setPixelRatio(1),t.setSize(d.textureWidth,d.textureHeight,!1),x=new se(d.textureWidth,d.textureHeight,{format:X,type:B,depthTexture:new _r(d.textureWidth,d.textureHeight,o,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:m.stencil,colorSpace:t.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:!1===d.ignoreDepthValues})}x.isXRRenderTarget=!0,this.setFoveation(a),l=null,o=await i.requestReferenceSpace(s),D.setContext(i),D.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==i)return i.environmentBlendMode};const P=new ue,L=new ue;function I(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.updateCamera=function(t){if(null===i)return;null!==f.texture&&(t.near=f.depthNear,t.far=f.depthFar),E.near=S.near=b.near=t.near,E.far=S.far=b.far=t.far,w===E.near&&T===E.far||(i.updateRenderState({depthNear:E.near,depthFar:E.far}),w=E.near,T=E.far,b.near=w,b.far=T,S.near=w,S.far=T,b.updateProjectionMatrix(),S.updateProjectionMatrix(),t.updateProjectionMatrix());const e=t.parent,n=E.cameras;I(E,e);for(let t=0;t<n.length;t++)I(n[t],e);2===n.length?function(t,e,n){P.setFromMatrixPosition(e.matrixWorld),L.setFromMatrixPosition(n.matrixWorld);const i=P.distanceTo(L),r=e.projectionMatrix.elements,o=n.projectionMatrix.elements,s=r[14]/(r[10]-1),a=r[14]/(r[10]+1),l=(r[9]+1)/r[5],c=(r[9]-1)/r[5],u=(r[8]-1)/r[0],d=(o[8]+1)/o[0],p=s*u,h=s*d,f=i/(-u+d),m=f*-u;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(m),t.translateZ(f),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();const y=s+f,x=a+f,g=p-m,v=h+(i-m),_=l*a/x*y,z=c*a/x*y;t.projectionMatrix.makePerspective(g,v,_,z,y,x),t.projectionMatrixInverse.copy(t.projectionMatrix).invert()}(E,b,S):E.projectionMatrix.copy(b.projectionMatrix),function(t,e,n){null===n?t.matrix.copy(e.matrixWorld):(t.matrix.copy(n.matrixWorld),t.matrix.invert(),t.matrix.multiply(e.matrixWorld)),t.matrix.decompose(t.position,t.quaternion,t.scale),t.updateMatrixWorld(!0),t.projectionMatrix.copy(e.projectionMatrix),t.projectionMatrixInverse.copy(e.projectionMatrixInverse),t.isPerspectiveCamera&&(t.fov=2*At*Math.atan(1/t.projectionMatrix.elements[5]),t.zoom=1)}(t,E,e)},this.getCamera=function(){return E},this.getFoveation=function(){if(null!==d||null!==p)return a},this.setFoveation=function(t){a=t,null!==d&&(d.fixedFoveation=t),null!==p&&void 0!==p.fixedFoveation&&(p.fixedFoveation=t)},this.hasDepthSensing=function(){return null!==f.texture},this.getDepthSensingMesh=function(){return f.getMesh(E)};let N=null;const D=new Ui;D.setAnimationLoop(function(e,r){if(c=r.getViewerPose(l||o),h=r,null!==c){const e=c.views;null!==p&&(t.setRenderTargetFramebuffer(x,p.framebuffer),t.setRenderTarget(x));let n=!1;e.length!==E.cameras.length&&(E.cameras.length=0,n=!0);for(let i=0;i<e.length;i++){const r=e[i];let o=null;if(null!==p)o=p.getViewport(r);else{const e=u.getViewSubImage(d,r);o=e.viewport,0===i&&(t.setRenderTargetTextures(x,e.colorTexture,d.ignoreDepthValues?void 0:e.depthStencilTexture),t.setRenderTarget(x))}let s=M[i];void 0===s&&(s=new Mi,s.layers.enable(i),s.viewport=new re,M[i]=s),s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.quaternion,s.scale),s.projectionMatrix.fromArray(r.projectionMatrix),s.projectionMatrixInverse.copy(s.projectionMatrix).invert(),s.viewport.set(o.x,o.y,o.width,o.height),0===i&&(E.matrix.copy(s.matrix),E.matrix.decompose(E.position,E.quaternion,E.scale)),!0===n&&E.cameras.push(s)}const r=i.enabledFeatures;if(r&&r.includes("depth-sensing")){const n=u.getDepthInformation(e[0]);n&&n.isValid&&n.texture&&f.init(t,n,i.renderState)}}for(let t=0;t<g.length;t++){const e=v[t],n=g[t];null!==e&&void 0!==n&&n.update(e,r,l||o)}N&&N(e,r),r.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:r}),h=null}),this.setAnimationLoop=function(t){N=t},this.dispose=function(){}}}const xs=new Ze,gs=new Be;function vs(t,e){function n(t,e){!0===t.matrixAutoUpdate&&t.updateMatrix(),e.value.copy(t.matrix)}function i(t,i){t.opacity.value=i.opacity,i.color&&t.diffuse.value.copy(i.color),i.emissive&&t.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(t.map.value=i.map,n(i.map,t.mapTransform)),i.alphaMap&&(t.alphaMap.value=i.alphaMap,n(i.alphaMap,t.alphaMapTransform)),i.bumpMap&&(t.bumpMap.value=i.bumpMap,n(i.bumpMap,t.bumpMapTransform),t.bumpScale.value=i.bumpScale,1===i.side&&(t.bumpScale.value*=-1)),i.normalMap&&(t.normalMap.value=i.normalMap,n(i.normalMap,t.normalMapTransform),t.normalScale.value.copy(i.normalScale),1===i.side&&t.normalScale.value.negate()),i.displacementMap&&(t.displacementMap.value=i.displacementMap,n(i.displacementMap,t.displacementMapTransform),t.displacementScale.value=i.displacementScale,t.displacementBias.value=i.displacementBias),i.emissiveMap&&(t.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,t.emissiveMapTransform)),i.specularMap&&(t.specularMap.value=i.specularMap,n(i.specularMap,t.specularMapTransform)),i.alphaTest>0&&(t.alphaTest.value=i.alphaTest);const r=e.get(i),o=r.envMap,s=r.envMapRotation;o&&(t.envMap.value=o,xs.copy(s),xs.x*=-1,xs.y*=-1,xs.z*=-1,o.isCubeTexture&&!1===o.isRenderTargetTexture&&(xs.y*=-1,xs.z*=-1),t.envMapRotation.value.setFromMatrix4(gs.makeRotationFromEuler(xs)),t.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,t.reflectivity.value=i.reflectivity,t.ior.value=i.ior,t.refractionRatio.value=i.refractionRatio),i.lightMap&&(t.lightMap.value=i.lightMap,t.lightMapIntensity.value=i.lightMapIntensity,n(i.lightMap,t.lightMapTransform)),i.aoMap&&(t.aoMap.value=i.aoMap,t.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,t.aoMapTransform))}return{refreshFogUniforms:function(e,n){n.color.getRGB(e.fogColor.value,xi(t)),n.isFog?(e.fogNear.value=n.near,e.fogFar.value=n.far):n.isFogExp2&&(e.fogDensity.value=n.density)},refreshMaterialUniforms:function(t,r,o,s,a){r.isMeshBasicMaterial||r.isMeshLambertMaterial?i(t,r):r.isMeshToonMaterial?(i(t,r),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(t,r)):r.isMeshPhongMaterial?(i(t,r),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4)}(t,r)):r.isMeshStandardMaterial?(i(t,r),function(t,e){t.metalness.value=e.metalness,e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap,n(e.metalnessMap,t.metalnessMapTransform)),t.roughness.value=e.roughness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap,n(e.roughnessMap,t.roughnessMapTransform)),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}(t,r),r.isMeshPhysicalMaterial&&function(t,e,i){t.ior.value=e.ior,e.sheen>0&&(t.sheenColor.value.copy(e.sheenColor).multiplyScalar(e.sheen),t.sheenRoughness.value=e.sheenRoughness,e.sheenColorMap&&(t.sheenColorMap.value=e.sheenColorMap,n(e.sheenColorMap,t.sheenColorMapTransform)),e.sheenRoughnessMap&&(t.sheenRoughnessMap.value=e.sheenRoughnessMap,n(e.sheenRoughnessMap,t.sheenRoughnessMapTransform))),e.clearcoat>0&&(t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap,n(e.clearcoatMap,t.clearcoatMapTransform)),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap,n(e.clearcoatRoughnessMap,t.clearcoatRoughnessMapTransform)),e.clearcoatNormalMap&&(t.clearcoatNormalMap.value=e.clearcoatNormalMap,n(e.clearcoatNormalMap,t.clearcoatNormalMapTransform),t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),1===e.side&&t.clearcoatNormalScale.value.negate())),e.dispersion>0&&(t.dispersion.value=e.dispersion),e.iridescence>0&&(t.iridescence.value=e.iridescence,t.iridescenceIOR.value=e.iridescenceIOR,t.iridescenceThicknessMinimum.value=e.iridescenceThicknessRange[0],t.iridescenceThicknessMaximum.value=e.iridescenceThicknessRange[1],e.iridescenceMap&&(t.iridescenceMap.value=e.iridescenceMap,n(e.iridescenceMap,t.iridescenceMapTransform)),e.iridescenceThicknessMap&&(t.iridescenceThicknessMap.value=e.iridescenceThicknessMap,n(e.iridescenceThicknessMap,t.iridescenceThicknessMapTransform))),e.transmission>0&&(t.transmission.value=e.transmission,t.transmissionSamplerMap.value=i.texture,t.transmissionSamplerSize.value.set(i.width,i.height),e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap,n(e.transmissionMap,t.transmissionMapTransform)),t.thickness.value=e.thickness,e.thicknessMap&&(t.thicknessMap.value=e.thicknessMap,n(e.thicknessMap,t.thicknessMapTransform)),t.attenuationDistance.value=e.attenuationDistance,t.attenuationColor.value.copy(e.attenuationColor)),e.anisotropy>0&&(t.anisotropyVector.value.set(e.anisotropy*Math.cos(e.anisotropyRotation),e.anisotropy*Math.sin(e.anisotropyRotation)),e.anisotropyMap&&(t.anisotropyMap.value=e.anisotropyMap,n(e.anisotropyMap,t.anisotropyMapTransform))),t.specularIntensity.value=e.specularIntensity,t.specularColor.value.copy(e.specularColor),e.specularColorMap&&(t.specularColorMap.value=e.specularColorMap,n(e.specularColorMap,t.specularColorMapTransform)),e.specularIntensityMap&&(t.specularIntensityMap.value=e.specularIntensityMap,n(e.specularIntensityMap,t.specularIntensityMapTransform))}(t,r,a)):r.isMeshMatcapMaterial?(i(t,r),function(t,e){e.matcap&&(t.matcap.value=e.matcap)}(t,r)):r.isMeshDepthMaterial?i(t,r):r.isMeshDistanceMaterial?(i(t,r),function(t,n){const i=e.get(n).light;t.referencePosition.value.setFromMatrixPosition(i.matrixWorld),t.nearDistance.value=i.shadow.camera.near,t.farDistance.value=i.shadow.camera.far}(t,r)):r.isMeshNormalMaterial?i(t,r):r.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,e.map&&(t.map.value=e.map,n(e.map,t.mapTransform))}(t,r),r.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,r)):r.isPointsMaterial?function(t,e,i,r){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*i,t.scale.value=.5*r,e.map&&(t.map.value=e.map,n(e.map,t.uvTransform)),e.alphaMap&&(t.alphaMap.value=e.alphaMap,n(e.alphaMap,t.alphaMapTransform)),e.alphaTest>0&&(t.alphaTest.value=e.alphaTest)}(t,r,o,s):r.isSpriteMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map,n(e.map,t.mapTransform)),e.alphaMap&&(t.alphaMap.value=e.alphaMap,n(e.alphaMap,t.alphaMapTransform)),e.alphaTest>0&&(t.alphaTest.value=e.alphaTest)}(t,r):r.isShadowMaterial?(t.color.value.copy(r.color),t.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function _s(t,e,n,i){let r={},o={},s=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(t,e,n,i){const r=t.value,o=e+"_"+n;if(void 0===i[o])return i[o]="number"==typeof r||"boolean"==typeof r?r:r.clone(),!0;{const t=i[o];if("number"==typeof r||"boolean"==typeof r){if(t!==r)return i[o]=r,!0}else if(!1===t.equals(r))return t.copy(r),!0}return!1}function c(t){const e={boundary:0,storage:0};return"number"==typeof t||"boolean"==typeof t?(e.boundary=4,e.storage=4):t.isVector2?(e.boundary=8,e.storage=8):t.isVector3||t.isColor?(e.boundary=16,e.storage=12):t.isVector4?(e.boundary=16,e.storage=16):t.isMatrix3?(e.boundary=48,e.storage=48):t.isMatrix4?(e.boundary=64,e.storage=64):t.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",t),e}function u(e){const n=e.target;n.removeEventListener("dispose",u);const i=s.indexOf(n.__bindingPointIndex);s.splice(i,1),t.deleteBuffer(r[n.id]),delete r[n.id],delete o[n.id]}return{bind:function(t,e){const n=e.program;i.uniformBlockBinding(t,n)},update:function(n,d){let p=r[n.id];void 0===p&&(function(t){const e=t.uniforms;let n=0;for(let t=0,i=e.length;t<i;t++){const i=Array.isArray(e[t])?e[t]:[e[t]];for(let t=0,e=i.length;t<e;t++){const e=i[t],r=Array.isArray(e.value)?e.value:[e.value];for(let t=0,i=r.length;t<i;t++){const i=c(r[t]),o=n%16;0!==o&&16-o<i.boundary&&(n+=16-o),e.__data=new Float32Array(i.storage/Float32Array.BYTES_PER_ELEMENT),e.__offset=n,n+=i.storage}}}const i=n%16;i>0&&(n+=16-i),t.__size=n,t.__cache={}}(n),p=function(e){const n=function(){for(let t=0;t<a;t++)if(-1===s.indexOf(t))return s.push(t),t;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();e.__bindingPointIndex=n;const i=t.createBuffer(),r=e.__size,o=e.usage;return t.bindBuffer(t.UNIFORM_BUFFER,i),t.bufferData(t.UNIFORM_BUFFER,r,o),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,n,i),i}(n),r[n.id]=p,n.addEventListener("dispose",u));const h=d.program;i.updateUBOMapping(n,h);const f=e.render.frame;o[n.id]!==f&&(function(e){const n=r[e.id],i=e.uniforms,o=e.__cache;t.bindBuffer(t.UNIFORM_BUFFER,n);for(let e=0,n=i.length;e<n;e++){const n=Array.isArray(i[e])?i[e]:[i[e]];for(let i=0,r=n.length;i<r;i++){const r=n[i];if(!0===l(r,e,i,o)){const e=r.__offset,n=Array.isArray(r.value)?r.value:[r.value];let i=0;for(let o=0;o<n.length;o++){const s=n[o],a=c(s);"number"==typeof s||"boolean"==typeof s?(r.__data[0]=s,t.bufferSubData(t.UNIFORM_BUFFER,e+i,r.__data)):s.isMatrix3?(r.__data[0]=s.elements[0],r.__data[1]=s.elements[1],r.__data[2]=s.elements[2],r.__data[3]=0,r.__data[4]=s.elements[3],r.__data[5]=s.elements[4],r.__data[6]=s.elements[5],r.__data[7]=0,r.__data[8]=s.elements[6],r.__data[9]=s.elements[7],r.__data[10]=s.elements[8],r.__data[11]=0):(s.toArray(r.__data,i),i+=a.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,e,r.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}(n),o[n.id]=f)},dispose:function(){for(const e in r)t.deleteBuffer(r[e]);s=[],r={},o={}}}}class zs{constructor(t={}){const{canvas:e=Ht(),context:n=null,depth:i=!0,stencil:r=!1,alpha:s=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1}=t;let p;if(this.isWebGLRenderer=!0,null!==n){if("undefined"!=typeof WebGLRenderingContext&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=n.getContextAttributes().alpha}else p=s;const h=new Uint32Array(4),f=new Int32Array(4);let m=null,y=null;const x=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=rt,this.toneMapping=0,this.toneMappingExposure=1;const v=this;let _=!1,z=0,b=0,S=null,M=-1,E=null;const w=new re,T=new re;let A=null;const R=new Cn(0);let C=0,P=e.width,L=e.height,I=1,N=null,D=null;const U=new re(0,0,P,L),O=new re(0,0,P,L);let k=!1;const G=new Di;let X=!1,q=!1;const Y=new Be,K=new ue,Z={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let $=!1;function J(){return null===S?I:1}let Q,tt,et,nt,it,st,at,lt,ct,ut,dt,pt,ht,ft,mt,yt,xt,gt,vt,_t,zt,bt,St,Mt,Et=n;function wt(t,n){return e.getContext(t,n)}try{const t={alpha:!0,depth:i,stencil:r,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${o}`),e.addEventListener("webglcontextlost",Rt,!1),e.addEventListener("webglcontextrestored",Ct,!1),e.addEventListener("webglcontextcreationerror",Pt,!1),null===Et){const e="webgl2";if(Et=wt(e,t),null===Et)throw wt(e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(t){throw console.error("THREE.WebGLRenderer: "+t.message),t}function Tt(){Q=new fr(Et),Q.init(),bt=new us(Et,Q),tt=new Yi(Et,Q,t,bt),et=new ls(Et),nt=new xr(Et),it=new Yo,st=new cs(Et,Q,et,it,tt,bt,nt),at=new Zi(v),lt=new hr(v),ct=new Oi(Et),St=new Xi(Et,ct),ut=new mr(Et,ct,nt,St),dt=new vr(Et,ut,ct,nt),vt=new gr(Et,tt,st),yt=new Ki(it),pt=new qo(v,at,lt,Q,tt,St,yt),ht=new vs(v,it),ft=new Jo,mt=new rs(Q),gt=new ji(v,at,lt,et,dt,p,l),xt=new as(v,dt,tt),Mt=new _s(Et,nt,tt,et),_t=new qi(Et,Q,nt),zt=new yr(Et,Q,nt),nt.programs=pt.programs,v.capabilities=tt,v.extensions=Q,v.properties=it,v.renderLists=ft,v.shadowMap=xt,v.state=et,v.info=nt}Tt();const At=new ys(v,Et);function Rt(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),_=!0}function Ct(){console.log("THREE.WebGLRenderer: Context Restored."),_=!1;const t=nt.autoReset,e=xt.enabled,n=xt.autoUpdate,i=xt.needsUpdate,r=xt.type;Tt(),nt.autoReset=t,xt.enabled=e,xt.autoUpdate=n,xt.needsUpdate=i,xt.type=r}function Pt(t){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",t.statusMessage)}function Lt(t){const e=t.target;e.removeEventListener("dispose",Lt),function(t){(function(t){const e=it.get(t).programs;void 0!==e&&(e.forEach(function(t){pt.releaseProgram(t)}),t.isShaderMaterial&&pt.releaseShaderCache(t))})(t),it.remove(t)}(e)}function It(t,e,n){!0===t.transparent&&2===t.side&&!1===t.forceSinglePass?(t.side=1,t.needsUpdate=!0,Wt(t,e,n),t.side=0,t.needsUpdate=!0,Wt(t,e,n),t.side=2):Wt(t,e,n)}this.xr=At,this.getContext=function(){return Et},this.getContextAttributes=function(){return Et.getContextAttributes()},this.forceContextLoss=function(){const t=Q.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){const t=Q.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return I},this.setPixelRatio=function(t){void 0!==t&&(I=t,this.setSize(P,L,!1))},this.getSize=function(t){return t.set(P,L)},this.setSize=function(t,n,i=!0){At.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(P=t,L=n,e.width=Math.floor(t*I),e.height=Math.floor(n*I),!0===i&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return t.set(P*I,L*I).floor()},this.setDrawingBufferSize=function(t,n,i){P=t,L=n,I=i,e.width=Math.floor(t*i),e.height=Math.floor(n*i),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return t.copy(w)},this.getViewport=function(t){return t.copy(U)},this.setViewport=function(t,e,n,i){t.isVector4?U.set(t.x,t.y,t.z,t.w):U.set(t,e,n,i),et.viewport(w.copy(U).multiplyScalar(I).round())},this.getScissor=function(t){return t.copy(O)},this.setScissor=function(t,e,n,i){t.isVector4?O.set(t.x,t.y,t.z,t.w):O.set(t,e,n,i),et.scissor(T.copy(O).multiplyScalar(I).round())},this.getScissorTest=function(){return k},this.setScissorTest=function(t){et.setScissorTest(k=t)},this.setOpaqueSort=function(t){N=t},this.setTransparentSort=function(t){D=t},this.getClearColor=function(t){return t.copy(gt.getClearColor())},this.setClearColor=function(){gt.setClearColor.apply(gt,arguments)},this.getClearAlpha=function(){return gt.getClearAlpha()},this.setClearAlpha=function(){gt.setClearAlpha.apply(gt,arguments)},this.clear=function(t=!0,e=!0,n=!0){let i=0;if(t){let t=!1;if(null!==S){const e=S.texture.format;t=1033===e||1031===e||1029===e}if(t){const t=S.texture.type,e=t===B||t===V||t===H||t===j||1017===t||1018===t,n=gt.getClearColor(),i=gt.getClearAlpha(),r=n.r,o=n.g,s=n.b;e?(h[0]=r,h[1]=o,h[2]=s,h[3]=i,Et.clearBufferuiv(Et.COLOR,0,h)):(f[0]=r,f[1]=o,f[2]=s,f[3]=i,Et.clearBufferiv(Et.COLOR,0,f))}else i|=Et.COLOR_BUFFER_BIT}e&&(i|=Et.DEPTH_BUFFER_BIT),n&&(i|=Et.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Et.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Rt,!1),e.removeEventListener("webglcontextrestored",Ct,!1),e.removeEventListener("webglcontextcreationerror",Pt,!1),ft.dispose(),mt.dispose(),it.dispose(),at.dispose(),lt.dispose(),dt.dispose(),St.dispose(),Mt.dispose(),pt.dispose(),At.dispose(),At.removeEventListener("sessionstart",Dt),At.removeEventListener("sessionend",Ut),Ot.stop()},this.renderBufferDirect=function(t,e,n,i,r,o){null===e&&(e=Z);const s=r.isMesh&&r.matrixWorld.determinant()<0,a=function(t,e,n,i,r){!0!==e.isScene&&(e=Z),st.resetTextureUnits();const o=e.fog,s=i.isMeshStandardMaterial?e.environment:null,a=null===S?v.outputColorSpace:!0===S.isXRRenderTarget?S.texture.colorSpace:ot,l=(i.isMeshStandardMaterial?lt:at).get(i.envMap||s),c=!0===i.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!n.attributes.tangent&&(!!i.normalMap||i.anisotropy>0),d=!!n.morphAttributes.position,p=!!n.morphAttributes.normal,h=!!n.morphAttributes.color;let f=0;i.toneMapped&&(null!==S&&!0!==S.isXRRenderTarget||(f=v.toneMapping));const m=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,x=void 0!==m?m.length:0,g=it.get(i),_=y.state.lights;if(!0===X&&(!0===q||t!==E)){const e=t===E&&i.id===M;yt.setState(i,t,e)}let z=!1;i.version===g.__version?g.needsLights&&g.lightsStateVersion!==_.state.version||g.outputColorSpace!==a||r.isBatchedMesh&&!1===g.batching?z=!0:r.isBatchedMesh||!0!==g.batching?r.isBatchedMesh&&!0===g.batchingColor&&null===r.colorTexture||r.isBatchedMesh&&!1===g.batchingColor&&null!==r.colorTexture||r.isInstancedMesh&&!1===g.instancing?z=!0:r.isInstancedMesh||!0!==g.instancing?r.isSkinnedMesh&&!1===g.skinning?z=!0:r.isSkinnedMesh||!0!==g.skinning?r.isInstancedMesh&&!0===g.instancingColor&&null===r.instanceColor||r.isInstancedMesh&&!1===g.instancingColor&&null!==r.instanceColor||r.isInstancedMesh&&!0===g.instancingMorph&&null===r.morphTexture||r.isInstancedMesh&&!1===g.instancingMorph&&null!==r.morphTexture||g.envMap!==l||!0===i.fog&&g.fog!==o?z=!0:void 0===g.numClippingPlanes||g.numClippingPlanes===yt.numPlanes&&g.numIntersection===yt.numIntersection?(g.vertexAlphas!==c||g.vertexTangents!==u||g.morphTargets!==d||g.morphNormals!==p||g.morphColors!==h||g.toneMapping!==f||g.morphTargetsCount!==x)&&(z=!0):z=!0:z=!0:z=!0:z=!0:(z=!0,g.__version=i.version);let b=g.currentProgram;!0===z&&(b=Wt(i,e,r));let w=!1,T=!1,A=!1;const R=b.getUniforms(),C=g.uniforms;if(et.useProgram(b.program)&&(w=!0,T=!0,A=!0),i.id!==M&&(M=i.id,T=!0),w||E!==t){R.setValue(Et,"projectionMatrix",t.projectionMatrix),R.setValue(Et,"viewMatrix",t.matrixWorldInverse);const e=R.map.cameraPosition;void 0!==e&&e.setValue(Et,K.setFromMatrixPosition(t.matrixWorld)),tt.logarithmicDepthBuffer&&R.setValue(Et,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial)&&R.setValue(Et,"isOrthographic",!0===t.isOrthographicCamera),E!==t&&(E=t,T=!0,A=!0)}if(r.isSkinnedMesh){R.setOptional(Et,r,"bindMatrix"),R.setOptional(Et,r,"bindMatrixInverse");const t=r.skeleton;t&&(null===t.boneTexture&&t.computeBoneTexture(),R.setValue(Et,"boneTexture",t.boneTexture,st))}r.isBatchedMesh&&(R.setOptional(Et,r,"batchingTexture"),R.setValue(Et,"batchingTexture",r._matricesTexture,st),R.setOptional(Et,r,"batchingColorTexture"),null!==r._colorsTexture&&R.setValue(Et,"batchingColorTexture",r._colorsTexture,st));const P=n.morphAttributes;var N,D;if(void 0===P.position&&void 0===P.normal&&void 0===P.color||vt.update(r,n,b),(T||g.receiveShadow!==r.receiveShadow)&&(g.receiveShadow=r.receiveShadow,R.setValue(Et,"receiveShadow",r.receiveShadow)),i.isMeshGouraudMaterial&&null!==i.envMap&&(C.envMap.value=l,C.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1),i.isMeshStandardMaterial&&null===i.envMap&&null!==e.environment&&(C.envMapIntensity.value=e.environmentIntensity),T&&(R.setValue(Et,"toneMappingExposure",v.toneMappingExposure),g.needsLights&&(D=A,(N=C).ambientLightColor.needsUpdate=D,N.lightProbe.needsUpdate=D,N.directionalLights.needsUpdate=D,N.directionalLightShadows.needsUpdate=D,N.pointLights.needsUpdate=D,N.pointLightShadows.needsUpdate=D,N.spotLights.needsUpdate=D,N.spotLightShadows.needsUpdate=D,N.rectAreaLights.needsUpdate=D,N.hemisphereLights.needsUpdate=D),o&&!0===i.fog&&ht.refreshFogUniforms(C,o),ht.refreshMaterialUniforms(C,i,I,L,y.state.transmissionRenderTarget[t.id]),wo.upload(Et,jt(g),C,st)),i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(wo.upload(Et,jt(g),C,st),i.uniformsNeedUpdate=!1),i.isSpriteMaterial&&R.setValue(Et,"center",r.center),R.setValue(Et,"modelViewMatrix",r.modelViewMatrix),R.setValue(Et,"normalMatrix",r.normalMatrix),R.setValue(Et,"modelMatrix",r.matrixWorld),i.isShaderMaterial||i.isRawShaderMaterial){const t=i.uniformsGroups;for(let e=0,n=t.length;e<n;e++){const n=t[e];Mt.update(n,b),Mt.bind(n,b)}}return b}(t,e,n,i,r);et.setMaterial(i,s);let l=n.index,c=1;if(!0===i.wireframe){if(l=ut.getWireframeAttribute(n),void 0===l)return;c=2}const u=n.drawRange,d=n.attributes.position;let p=u.start*c,h=(u.start+u.count)*c;null!==o&&(p=Math.max(p,o.start*c),h=Math.min(h,(o.start+o.count)*c)),null!==l?(p=Math.max(p,0),h=Math.min(h,l.count)):null!=d&&(p=Math.max(p,0),h=Math.min(h,d.count));const f=h-p;if(f<0||f===1/0)return;let m;St.setup(r,i,a,n,l);let x=_t;if(null!==l&&(m=ct.get(l),x=zt,x.setIndex(m)),r.isMesh)!0===i.wireframe?(et.setLineWidth(i.wireframeLinewidth*J()),x.setMode(Et.LINES)):x.setMode(Et.TRIANGLES);else if(r.isLine){let t=i.linewidth;void 0===t&&(t=1),et.setLineWidth(t*J()),r.isLineSegments?x.setMode(Et.LINES):r.isLineLoop?x.setMode(Et.LINE_LOOP):x.setMode(Et.LINE_STRIP)}else r.isPoints?x.setMode(Et.POINTS):r.isSprite&&x.setMode(Et.TRIANGLES);if(r.isBatchedMesh)null!==r._multiDrawInstances?x.renderMultiDrawInstances(r._multiDrawStarts,r._multiDrawCounts,r._multiDrawCount,r._multiDrawInstances):x.renderMultiDraw(r._multiDrawStarts,r._multiDrawCounts,r._multiDrawCount);else if(r.isInstancedMesh)x.renderInstances(p,f,r.count);else if(n.isInstancedBufferGeometry){const t=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,e=Math.min(n.instanceCount,t);x.renderInstances(p,f,e)}else x.render(p,f)},this.compile=function(t,e,n=null){null===n&&(n=t),y=mt.get(n),y.init(e),g.push(y),n.traverseVisible(function(t){t.isLight&&t.layers.test(e.layers)&&(y.pushLight(t),t.castShadow&&y.pushShadow(t))}),t!==n&&t.traverseVisible(function(t){t.isLight&&t.layers.test(e.layers)&&(y.pushLight(t),t.castShadow&&y.pushShadow(t))}),y.setupLights();const i=new Set;return t.traverse(function(t){const e=t.material;if(e)if(Array.isArray(e))for(let r=0;r<e.length;r++){const o=e[r];It(o,n,t),i.add(o)}else It(e,n,t),i.add(e)}),g.pop(),y=null,i},this.compileAsync=function(t,e,n=null){const i=this.compile(t,e,n);return new Promise(e=>{function n(){i.forEach(function(t){it.get(t).currentProgram.isReady()&&i.delete(t)}),0!==i.size?setTimeout(n,10):e(t)}null!==Q.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)})};let Nt=null;function Dt(){Ot.stop()}function Ut(){Ot.start()}const Ot=new Ui;function kt(t,e,n,i){if(!1===t.visible)return;if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)y.pushLight(t),t.castShadow&&y.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||G.intersectsSprite(t)){i&&K.setFromMatrixPosition(t.matrixWorld).applyMatrix4(Y);const e=dt.update(t),r=t.material;r.visible&&m.push(t,e,r,n,K.z,null)}}else if((t.isMesh||t.isLine||t.isPoints)&&(!t.frustumCulled||G.intersectsObject(t))){const e=dt.update(t),r=t.material;if(i&&(void 0!==t.boundingSphere?(null===t.boundingSphere&&t.computeBoundingSphere(),K.copy(t.boundingSphere.center)):(null===e.boundingSphere&&e.computeBoundingSphere(),K.copy(e.boundingSphere.center)),K.applyMatrix4(t.matrixWorld).applyMatrix4(Y)),Array.isArray(r)){const i=e.groups;for(let o=0,s=i.length;o<s;o++){const s=i[o],a=r[s.materialIndex];a&&a.visible&&m.push(t,e,a,n,K.z,s)}}else r.visible&&m.push(t,e,r,n,K.z,null)}const r=t.children;for(let t=0,o=r.length;t<o;t++)kt(r[t],e,n,i)}function Ft(t,e,n,i){const r=t.opaque,o=t.transmissive,s=t.transparent;y.setupLightsView(n),!0===X&&yt.setGlobalState(v.clippingPlanes,n),i&&et.viewport(w.copy(i)),r.length>0&&Vt(r,e,n),o.length>0&&Vt(o,e,n),s.length>0&&Vt(s,e,n),et.buffers.depth.setTest(!0),et.buffers.depth.setMask(!0),et.buffers.color.setMask(!0),et.setPolygonOffset(!1)}function Bt(t,e,n,i){if(null!==(!0===n.isScene?n.overrideMaterial:null))return;void 0===y.state.transmissionRenderTarget[i.id]&&(y.state.transmissionRenderTarget[i.id]=new se(1,1,{generateMipmaps:!0,type:Q.has("EXT_color_buffer_half_float")||Q.has("EXT_color_buffer_float")?W:B,minFilter:F,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Yt.workingColorSpace}));const o=y.state.transmissionRenderTarget[i.id],s=i.viewport||w;o.setSize(s.z,s.w);const a=v.getRenderTarget();v.setRenderTarget(o),v.getClearColor(R),C=v.getClearAlpha(),C<1&&v.setClearColor(16777215,.5),$?gt.render(n):v.clear();const l=v.toneMapping;v.toneMapping=0;const c=i.viewport;if(void 0!==i.viewport&&(i.viewport=void 0),y.setupLightsView(i),!0===X&&yt.setGlobalState(v.clippingPlanes,i),Vt(t,n,i),st.updateMultisampleRenderTarget(o),st.updateRenderTargetMipmap(o),!1===Q.has("WEBGL_multisampled_render_to_texture")){let t=!1;for(let r=0,o=e.length;r<o;r++){const o=e[r],s=o.object,a=o.geometry,l=o.material,c=o.group;if(2===l.side&&s.layers.test(i.layers)){const e=l.side;l.side=1,l.needsUpdate=!0,Gt(s,n,i,a,l,c),l.side=e,l.needsUpdate=!0,t=!0}}!0===t&&(st.updateMultisampleRenderTarget(o),st.updateRenderTargetMipmap(o))}v.setRenderTarget(a),v.setClearColor(R,C),void 0!==c&&(i.viewport=c),v.toneMapping=l}function Vt(t,e,n){const i=!0===e.isScene?e.overrideMaterial:null;for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.object,a=o.geometry,l=null===i?o.material:i,c=o.group;s.layers.test(n.layers)&&Gt(s,e,n,a,l,c)}}function Gt(t,e,n,i,r,o){t.onBeforeRender(v,e,n,i,r,o),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),r.onBeforeRender(v,e,n,i,t,o),!0===r.transparent&&2===r.side&&!1===r.forceSinglePass?(r.side=1,r.needsUpdate=!0,v.renderBufferDirect(n,e,i,r,t,o),r.side=0,r.needsUpdate=!0,v.renderBufferDirect(n,e,i,r,t,o),r.side=2):v.renderBufferDirect(n,e,i,r,t,o),t.onAfterRender(v,e,n,i,r,o)}function Wt(t,e,n){!0!==e.isScene&&(e=Z);const i=it.get(t),r=y.state.lights,o=y.state.shadowsArray,s=r.state.version,a=pt.getParameters(t,r.state,o,e,n),l=pt.getProgramCacheKey(a);let c=i.programs;i.environment=t.isMeshStandardMaterial?e.environment:null,i.fog=e.fog,i.envMap=(t.isMeshStandardMaterial?lt:at).get(t.envMap||i.environment),i.envMapRotation=null!==i.environment&&null===t.envMap?e.environmentRotation:t.envMapRotation,void 0===c&&(t.addEventListener("dispose",Lt),c=new Map,i.programs=c);let u=c.get(l);if(void 0!==u){if(i.currentProgram===u&&i.lightsStateVersion===s)return Xt(t,a),u}else a.uniforms=pt.getUniforms(t),t.onBuild(n,a,v),t.onBeforeCompile(a,v),u=pt.acquireProgram(a,l),c.set(l,u),i.uniforms=a.uniforms;const d=i.uniforms;return(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(d.clippingPlanes=yt.uniform),Xt(t,a),i.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),i.lightsStateVersion=s,i.needsLights&&(d.ambientLightColor.value=r.state.ambient,d.lightProbe.value=r.state.probe,d.directionalLights.value=r.state.directional,d.directionalLightShadows.value=r.state.directionalShadow,d.spotLights.value=r.state.spot,d.spotLightShadows.value=r.state.spotShadow,d.rectAreaLights.value=r.state.rectArea,d.ltc_1.value=r.state.rectAreaLTC1,d.ltc_2.value=r.state.rectAreaLTC2,d.pointLights.value=r.state.point,d.pointLightShadows.value=r.state.pointShadow,d.hemisphereLights.value=r.state.hemi,d.directionalShadowMap.value=r.state.directionalShadowMap,d.directionalShadowMatrix.value=r.state.directionalShadowMatrix,d.spotShadowMap.value=r.state.spotShadowMap,d.spotLightMatrix.value=r.state.spotLightMatrix,d.spotLightMap.value=r.state.spotLightMap,d.pointShadowMap.value=r.state.pointShadowMap,d.pointShadowMatrix.value=r.state.pointShadowMatrix),i.currentProgram=u,i.uniformsList=null,u}function jt(t){if(null===t.uniformsList){const e=t.currentProgram.getUniforms();t.uniformsList=wo.seqWithValue(e.seq,t.uniforms)}return t.uniformsList}function Xt(t,e){const n=it.get(t);n.outputColorSpace=e.outputColorSpace,n.batching=e.batching,n.batchingColor=e.batchingColor,n.instancing=e.instancing,n.instancingColor=e.instancingColor,n.instancingMorph=e.instancingMorph,n.skinning=e.skinning,n.morphTargets=e.morphTargets,n.morphNormals=e.morphNormals,n.morphColors=e.morphColors,n.morphTargetsCount=e.morphTargetsCount,n.numClippingPlanes=e.numClippingPlanes,n.numIntersection=e.numClipIntersection,n.vertexAlphas=e.vertexAlphas,n.vertexTangents=e.vertexTangents,n.toneMapping=e.toneMapping}Ot.setAnimationLoop(function(t){Nt&&Nt(t)}),"undefined"!=typeof self&&Ot.setContext(self),this.setAnimationLoop=function(t){Nt=t,At.setAnimationLoop(t),null===t?Ot.stop():Ot.start()},At.addEventListener("sessionstart",Dt),At.addEventListener("sessionend",Ut),this.render=function(t,e){if(void 0!==e&&!0!==e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===_)return;if(!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),null===e.parent&&!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),!0===At.enabled&&!0===At.isPresenting&&(!0===At.cameraAutoUpdate&&At.updateCamera(e),e=At.getCamera()),!0===t.isScene&&t.onBeforeRender(v,t,e,S),y=mt.get(t,g.length),y.init(e),g.push(y),Y.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),G.setFromProjectionMatrix(Y),q=this.localClippingEnabled,X=yt.init(this.clippingPlanes,q),m=ft.get(t,x.length),m.init(),x.push(m),!0===At.enabled&&!0===At.isPresenting){const t=v.xr.getDepthSensingMesh();null!==t&&kt(t,e,-1/0,v.sortObjects)}kt(t,e,0,v.sortObjects),m.finish(),!0===v.sortObjects&&m.sort(N,D),$=!1===At.enabled||!1===At.isPresenting||!1===At.hasDepthSensing(),$&&gt.addToRenderList(m,t),this.info.render.frame++,!0===X&&yt.beginShadows();const n=y.state.shadowsArray;xt.render(n,t,e),!0===X&&yt.endShadows(),!0===this.info.autoReset&&this.info.reset();const i=m.opaque,r=m.transmissive;if(y.setupLights(),e.isArrayCamera){const n=e.cameras;if(r.length>0)for(let e=0,o=n.length;e<o;e++)Bt(i,r,t,n[e]);$&&gt.render(t);for(let e=0,i=n.length;e<i;e++){const i=n[e];Ft(m,t,i,i.viewport)}}else r.length>0&&Bt(i,r,t,e),$&&gt.render(t),Ft(m,t,e);null!==S&&(st.updateMultisampleRenderTarget(S),st.updateRenderTargetMipmap(S)),!0===t.isScene&&t.onAfterRender(v,t,e),St.resetDefaultState(),M=-1,E=null,g.pop(),g.length>0?(y=g[g.length-1],!0===X&&yt.setGlobalState(v.clippingPlanes,y.state.camera)):y=null,x.pop(),m=x.length>0?x[x.length-1]:null},this.getActiveCubeFace=function(){return z},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(t,e,n){it.get(t.texture).__webglTexture=e,it.get(t.depthTexture).__webglTexture=n;const i=it.get(t);i.__hasExternalTextures=!0,i.__autoAllocateDepthBuffer=void 0===n,i.__autoAllocateDepthBuffer||!0===Q.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),i.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(t,e){const n=it.get(t);n.__webglFramebuffer=e,n.__useDefaultFramebuffer=void 0===e},this.setRenderTarget=function(t,e=0,n=0){S=t,z=e,b=n;let i=!0,r=null,o=!1,s=!1;if(t){const a=it.get(t);void 0!==a.__useDefaultFramebuffer?(et.bindFramebuffer(Et.FRAMEBUFFER,null),i=!1):void 0===a.__webglFramebuffer?st.setupRenderTarget(t):a.__hasExternalTextures&&st.rebindTextures(t,it.get(t.texture).__webglTexture,it.get(t.depthTexture).__webglTexture);const l=t.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(s=!0);const c=it.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(r=Array.isArray(c[e])?c[e][n]:c[e],o=!0):r=t.samples>0&&!1===st.useMultisampledRTT(t)?it.get(t).__webglMultisampledFramebuffer:Array.isArray(c)?c[n]:c,w.copy(t.viewport),T.copy(t.scissor),A=t.scissorTest}else w.copy(U).multiplyScalar(I).floor(),T.copy(O).multiplyScalar(I).floor(),A=k;if(et.bindFramebuffer(Et.FRAMEBUFFER,r)&&i&&et.drawBuffers(t,r),et.viewport(w),et.scissor(T),et.setScissorTest(A),o){const i=it.get(t.texture);Et.framebufferTexture2D(Et.FRAMEBUFFER,Et.COLOR_ATTACHMENT0,Et.TEXTURE_CUBE_MAP_POSITIVE_X+e,i.__webglTexture,n)}else if(s){const i=it.get(t.texture),r=e||0;Et.framebufferTextureLayer(Et.FRAMEBUFFER,Et.COLOR_ATTACHMENT0,i.__webglTexture,n||0,r)}M=-1},this.readRenderTargetPixels=function(t,e,n,i,r,o,s){if(!t||!t.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let a=it.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==s&&(a=a[s]),a){et.bindFramebuffer(Et.FRAMEBUFFER,a);try{const s=t.texture,a=s.format,l=s.type;if(!tt.textureFormatReadable(a))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!tt.textureTypeReadable(l))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");e>=0&&e<=t.width-i&&n>=0&&n<=t.height-r&&Et.readPixels(e,n,i,r,bt.convert(a),bt.convert(l),o)}finally{const t=null!==S?it.get(S).__webglFramebuffer:null;et.bindFramebuffer(Et.FRAMEBUFFER,t)}}},this.readRenderTargetPixelsAsync=async function(t,e,n,i,r,o,s){if(!t||!t.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let a=it.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==s&&(a=a[s]),a){et.bindFramebuffer(Et.FRAMEBUFFER,a);try{const s=t.texture,a=s.format,l=s.type;if(!tt.textureFormatReadable(a))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!tt.textureTypeReadable(l))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(e>=0&&e<=t.width-i&&n>=0&&n<=t.height-r){const t=Et.createBuffer();Et.bindBuffer(Et.PIXEL_PACK_BUFFER,t),Et.bufferData(Et.PIXEL_PACK_BUFFER,o.byteLength,Et.STREAM_READ),Et.readPixels(e,n,i,r,bt.convert(a),bt.convert(l),0),Et.flush();const s=Et.fenceSync(Et.SYNC_GPU_COMMANDS_COMPLETE,0);await function(t,e){return new Promise(function(n,i){setTimeout(function r(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(r,4);break;default:n()}},4)})}(Et,s);try{Et.bindBuffer(Et.PIXEL_PACK_BUFFER,t),Et.getBufferSubData(Et.PIXEL_PACK_BUFFER,0,o)}finally{Et.deleteBuffer(t),Et.deleteSync(s)}return o}}finally{const t=null!==S?it.get(S).__webglFramebuffer:null;et.bindFramebuffer(Et.FRAMEBUFFER,t)}}},this.copyFramebufferToTexture=function(t,e=null,n=0){!0!==t.isTexture&&(console.warn("WebGLRenderer: copyFramebufferToTexture function signature has changed."),e=arguments[0]||null,t=arguments[1]);const i=Math.pow(2,-n),r=Math.floor(t.image.width*i),o=Math.floor(t.image.height*i),s=null!==e?e.x:0,a=null!==e?e.y:0;st.setTexture2D(t,0),Et.copyTexSubImage2D(Et.TEXTURE_2D,n,0,0,s,a,r,o),et.unbindTexture()},this.copyTextureToTexture=function(t,e,n=null,i=null,r=0){let o,s,a,l,c,u;!0!==t.isTexture&&(console.warn("WebGLRenderer: copyTextureToTexture function signature has changed."),i=arguments[0]||null,t=arguments[1],e=arguments[2],r=arguments[3]||0,n=null),null!==n?(o=n.max.x-n.min.x,s=n.max.y-n.min.y,a=n.min.x,l=n.min.y):(o=t.image.width,s=t.image.height,a=0,l=0),null!==i?(c=i.x,u=i.y):(c=0,u=0);const d=bt.convert(e.format),p=bt.convert(e.type);st.setTexture2D(e,0),Et.pixelStorei(Et.UNPACK_FLIP_Y_WEBGL,e.flipY),Et.pixelStorei(Et.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),Et.pixelStorei(Et.UNPACK_ALIGNMENT,e.unpackAlignment);const h=Et.getParameter(Et.UNPACK_ROW_LENGTH),f=Et.getParameter(Et.UNPACK_IMAGE_HEIGHT),m=Et.getParameter(Et.UNPACK_SKIP_PIXELS),y=Et.getParameter(Et.UNPACK_SKIP_ROWS),x=Et.getParameter(Et.UNPACK_SKIP_IMAGES),g=t.isCompressedTexture?t.mipmaps[r]:t.image;Et.pixelStorei(Et.UNPACK_ROW_LENGTH,g.width),Et.pixelStorei(Et.UNPACK_IMAGE_HEIGHT,g.height),Et.pixelStorei(Et.UNPACK_SKIP_PIXELS,a),Et.pixelStorei(Et.UNPACK_SKIP_ROWS,l),t.isDataTexture?Et.texSubImage2D(Et.TEXTURE_2D,r,c,u,o,s,d,p,g.data):t.isCompressedTexture?Et.compressedTexSubImage2D(Et.TEXTURE_2D,r,c,u,g.width,g.height,d,g.data):Et.texSubImage2D(Et.TEXTURE_2D,r,c,u,d,p,g),Et.pixelStorei(Et.UNPACK_ROW_LENGTH,h),Et.pixelStorei(Et.UNPACK_IMAGE_HEIGHT,f),Et.pixelStorei(Et.UNPACK_SKIP_PIXELS,m),Et.pixelStorei(Et.UNPACK_SKIP_ROWS,y),Et.pixelStorei(Et.UNPACK_SKIP_IMAGES,x),0===r&&e.generateMipmaps&&Et.generateMipmap(Et.TEXTURE_2D),et.unbindTexture()},this.copyTextureToTexture3D=function(t,e,n=null,i=null,r=0){let o,s,a,l,c,u,d,p,h;!0!==t.isTexture&&(console.warn("WebGLRenderer: copyTextureToTexture3D function signature has changed."),n=arguments[0]||null,i=arguments[1]||null,t=arguments[2],e=arguments[3],r=arguments[4]||0);const f=t.isCompressedTexture?t.mipmaps[r]:t.image;null!==n?(o=n.max.x-n.min.x,s=n.max.y-n.min.y,a=n.max.z-n.min.z,l=n.min.x,c=n.min.y,u=n.min.z):(o=f.width,s=f.height,a=f.depth,l=0,c=0,u=0),null!==i?(d=i.x,p=i.y,h=i.z):(d=0,p=0,h=0);const m=bt.convert(e.format),y=bt.convert(e.type);let x;if(e.isData3DTexture)st.setTexture3D(e,0),x=Et.TEXTURE_3D;else{if(!e.isDataArrayTexture&&!e.isCompressedArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");st.setTexture2DArray(e,0),x=Et.TEXTURE_2D_ARRAY}Et.pixelStorei(Et.UNPACK_FLIP_Y_WEBGL,e.flipY),Et.pixelStorei(Et.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),Et.pixelStorei(Et.UNPACK_ALIGNMENT,e.unpackAlignment);const g=Et.getParameter(Et.UNPACK_ROW_LENGTH),v=Et.getParameter(Et.UNPACK_IMAGE_HEIGHT),_=Et.getParameter(Et.UNPACK_SKIP_PIXELS),z=Et.getParameter(Et.UNPACK_SKIP_ROWS),b=Et.getParameter(Et.UNPACK_SKIP_IMAGES);Et.pixelStorei(Et.UNPACK_ROW_LENGTH,f.width),Et.pixelStorei(Et.UNPACK_IMAGE_HEIGHT,f.height),Et.pixelStorei(Et.UNPACK_SKIP_PIXELS,l),Et.pixelStorei(Et.UNPACK_SKIP_ROWS,c),Et.pixelStorei(Et.UNPACK_SKIP_IMAGES,u),t.isDataTexture||t.isData3DTexture?Et.texSubImage3D(x,r,d,p,h,o,s,a,m,y,f.data):e.isCompressedArrayTexture?Et.compressedTexSubImage3D(x,r,d,p,h,o,s,a,m,f.data):Et.texSubImage3D(x,r,d,p,h,o,s,a,m,y,f),Et.pixelStorei(Et.UNPACK_ROW_LENGTH,g),Et.pixelStorei(Et.UNPACK_IMAGE_HEIGHT,v),Et.pixelStorei(Et.UNPACK_SKIP_PIXELS,_),Et.pixelStorei(Et.UNPACK_SKIP_ROWS,z),Et.pixelStorei(Et.UNPACK_SKIP_IMAGES,b),0===r&&e.generateMipmaps&&Et.generateMipmap(x),et.unbindTexture()},this.initRenderTarget=function(t){void 0===it.get(t).__webglFramebuffer&&st.setupRenderTarget(t)},this.initTexture=function(t){t.isCubeTexture?st.setTextureCube(t,0):t.isData3DTexture?st.setTexture3D(t,0):t.isDataArrayTexture||t.isCompressedArrayTexture?st.setTexture2DArray(t,0):st.setTexture2D(t,0),et.unbindTexture()},this.resetState=function(){z=0,b=0,S=null,et.reset(),St.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return St}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const e=this.getContext();e.drawingBufferColorSpace=t===st?"display-p3":"srgb",e.unpackColorSpace=Yt.workingColorSpace===at?"display-p3":"srgb"}}class bs{constructor(t,e=1,n=1e3){this.isFog=!0,this.name="",this.color=new Cn(t),this.near=e,this.far=n}clone(){return new bs(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Ss extends fn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ze,this.environmentIntensity=1,this.environmentRotation=new Ze,this.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}class Ms{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=zt,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Rt()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}get updateRange(){return Gt("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,n){t*=this.stride,n*=e.stride;for(let i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[n+i];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Rt()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(e,this.stride);return n.setUsage(this.usage),n}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Rt()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Es=new ue;class ws{constructor(t,e,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,n=this.data.count;e<n;e++)Es.fromBufferAttribute(this,e),Es.applyMatrix4(t),this.setXYZ(e,Es.x,Es.y,Es.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)Es.fromBufferAttribute(this,e),Es.applyNormalMatrix(t),this.setXYZ(e,Es.x,Es.y,Es.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)Es.fromBufferAttribute(this,e),Es.transformDirection(t),this.setXYZ(e,Es.x,Es.y,Es.z);return this}getComponent(t,e){let n=this.array[t*this.data.stride+this.offset+e];return this.normalized&&(n=It(n,this.array)),n}setComponent(t,e,n){return this.normalized&&(n=Nt(n,this.array)),this.data.array[t*this.data.stride+this.offset+e]=n,this}setX(t,e){return this.normalized&&(e=Nt(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=Nt(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=Nt(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=Nt(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=It(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=It(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=It(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=It(e,this.array)),e}setXY(t,e,n){return t=t*this.data.stride+this.offset,this.normalized&&(e=Nt(e,this.array),n=Nt(n,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this}setXYZ(t,e,n,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=Nt(e,this.array),n=Nt(n,this.array),i=Nt(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this}setXYZW(t,e,n,i,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=Nt(e,this.array),n=Nt(n,this.array),i=Nt(i,this.array),r=Nt(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=r,this}clone(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return new On(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new ws(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const Ts=new ue,As=new re,Rs=new re,Cs=new ue,Ps=new Be,Ls=new ue,Is=new Pe,Ns=new Be,Ds=new Fe;class Us extends pi{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=T,this.bindMatrix=new Be,this.bindMatrixInverse=new Be,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;null===this.boundingBox&&(this.boundingBox=new he),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let t=0;t<e.count;t++)this.getVertexPosition(t,Ls),this.boundingBox.expandByPoint(Ls)}computeBoundingSphere(){const t=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new Pe),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let t=0;t<e.count;t++)this.getVertexPosition(t,Ls),this.boundingSphere.expandByPoint(Ls)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const n=this.material,i=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),Is.copy(this.boundingSphere),Is.applyMatrix4(i),!1!==t.ray.intersectsSphere(Is)&&(Ns.copy(i).invert(),Ds.copy(t.ray).applyMatrix4(Ns),null!==this.boundingBox&&!1===Ds.intersectsBox(this.boundingBox)||this._computeIntersections(t,e,Ds)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new re,e=this.geometry.attributes.skinWeight;for(let n=0,i=e.count;n<i;n++){t.fromBufferAttribute(e,n);const i=1/t.manhattanLength();i!==1/0?t.multiplyScalar(i):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===T?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,e){const n=this.skeleton,i=this.geometry;As.fromBufferAttribute(i.attributes.skinIndex,t),Rs.fromBufferAttribute(i.attributes.skinWeight,t),Ts.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let t=0;t<4;t++){const i=Rs.getComponent(t);if(0!==i){const r=As.getComponent(t);Ps.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),e.addScaledVector(Cs.copy(Ts).applyMatrix4(Ps),i)}}return e.applyMatrix4(this.bindMatrixInverse)}}class Os extends fn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ks extends ie{constructor(t=null,e=1,n=1,i,r,o,s,a,l=1003,c=1003,u,d){super(null,o,s,a,l,c,i,r,u,d),this.isDataTexture=!0,this.image={data:t,width:e,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Fs=new Be,Bs=new Be;class Hs{constructor(t=[],e=[]){this.uuid=Rt(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let t=0,e=this.bones.length;t<e;t++)this.boneInverses.push(new Be)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const e=new Be;this.bones[t]&&e.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(e)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&e.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&(e.parent&&e.parent.isBone?(e.matrix.copy(e.parent.matrixWorld).invert(),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))}}update(){const t=this.bones,e=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let i=0,r=t.length;i<r;i++){const r=t[i]?t[i].matrixWorld:Bs;Fs.multiplyMatrices(r,e[i]),Fs.toArray(n,16*i)}null!==i&&(i.needsUpdate=!0)}clone(){return new Hs(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(4*this.bones.length);t=4*Math.ceil(t/4),t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const n=new ks(e,t,t,X,G);return n.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=n,this}getBoneByName(t){for(let e=0,n=this.bones.length;e<n;e++){const n=this.bones[e];if(n.name===t)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let n=0,i=t.bones.length;n<i;n++){const i=t.bones[n];let r=e[i];void 0===r&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),r=new Os),this.bones.push(r),this.boneInverses.push((new Be).fromArray(t.boneInverses[n]))}return this.init(),this}toJSON(){const t={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,n=this.boneInverses;for(let i=0,r=e.length;i<r;i++){const r=e[i];t.bones.push(r.uuid);const o=n[i];t.boneInverses.push(o.toArray())}return t}}class Vs extends On{constructor(t,e,n,i=1){super(t,e,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const Gs=new Be,Ws=new Be,js=[],Xs=new he,qs=new Be,Ys=new pi,Ks=new Pe;class Zs extends pi{constructor(t,e,n){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new Vs(new Float32Array(16*n),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let t=0;t<n;t++)this.setMatrixAt(t,qs)}computeBoundingBox(){const t=this.geometry,e=this.count;null===this.boundingBox&&(this.boundingBox=new he),null===t.boundingBox&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<e;n++)this.getMatrixAt(n,Gs),Xs.copy(t.boundingBox).applyMatrix4(Gs),this.boundingBox.union(Xs)}computeBoundingSphere(){const t=this.geometry,e=this.count;null===this.boundingSphere&&(this.boundingSphere=new Pe),null===t.boundingSphere&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<e;n++)this.getMatrixAt(n,Gs),Ks.copy(t.boundingSphere).applyMatrix4(Gs),this.boundingSphere.union(Ks)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),null!==t.morphTexture&&(this.morphTexture=t.morphTexture.clone()),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,3*t)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,16*t)}getMorphAt(t,e){const n=e.morphTargetInfluences,i=this.morphTexture.source.data.data,r=t*(n.length+1)+1;for(let t=0;t<n.length;t++)n[t]=i[r+t]}raycast(t,e){const n=this.matrixWorld,i=this.count;if(Ys.geometry=this.geometry,Ys.material=this.material,void 0!==Ys.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Ks.copy(this.boundingSphere),Ks.applyMatrix4(n),!1!==t.ray.intersectsSphere(Ks)))for(let r=0;r<i;r++){this.getMatrixAt(r,Gs),Ws.multiplyMatrices(n,Gs),Ys.matrixWorld=Ws,Ys.raycast(t,js);for(let t=0,n=js.length;t<n;t++){const n=js[t];n.instanceId=r,n.object=this,e.push(n)}js.length=0}}setColorAt(t,e){null===this.instanceColor&&(this.instanceColor=new Vs(new Float32Array(3*this.instanceMatrix.count),3)),e.toArray(this.instanceColor.array,3*t)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,16*t)}setMorphAt(t,e){const n=e.morphTargetInfluences,i=n.length+1;null===this.morphTexture&&(this.morphTexture=new ks(new Float32Array(i*this.count),i,this.count,1028,G));const r=this.morphTexture.source.data.data;let o=0;for(let t=0;t<n.length;t++)o+=n[t];const s=this.geometry.morphTargetsRelative?1:1-o,a=i*t;r[a]=s,r.set(n,a+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null),this}}class $s extends In{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Cn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const Js=new ue,Qs=new ue,ta=new Be,ea=new Fe,na=new Pe,ia=new ue,ra=new ue;class oa extends fn{constructor(t=new Yn,e=new $s){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,n=[0];for(let t=1,i=e.count;t<i;t++)Js.fromBufferAttribute(e,t-1),Qs.fromBufferAttribute(e,t),n[t]=n[t-1],n[t]+=Js.distanceTo(Qs);t.setAttribute("lineDistance",new Bn(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const n=this.geometry,i=this.matrixWorld,r=t.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),na.copy(n.boundingSphere),na.applyMatrix4(i),na.radius+=r,!1===t.ray.intersectsSphere(na))return;ta.copy(i).invert(),ea.copy(t.ray).applyMatrix4(ta);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),a=s*s,l=this.isLineSegments?2:1,c=n.index,u=n.attributes.position;if(null!==c){const n=Math.max(0,o.start),i=Math.min(c.count,o.start+o.count);for(let r=n,o=i-1;r<o;r+=l){const n=c.getX(r),i=c.getX(r+1),o=sa(this,t,ea,a,n,i);o&&e.push(o)}if(this.isLineLoop){const r=c.getX(i-1),o=c.getX(n),s=sa(this,t,ea,a,r,o);s&&e.push(s)}}else{const n=Math.max(0,o.start),i=Math.min(u.count,o.start+o.count);for(let r=n,o=i-1;r<o;r+=l){const n=sa(this,t,ea,a,r,r+1);n&&e.push(n)}if(this.isLineLoop){const r=sa(this,t,ea,a,i-1,n);r&&e.push(r)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const n=t[e[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=n.length;t<e;t++){const e=n[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}}function sa(t,e,n,i,r,o){const s=t.geometry.attributes.position;if(Js.fromBufferAttribute(s,r),Qs.fromBufferAttribute(s,o),n.distanceSqToSegment(Js,Qs,ia,ra)>i)return;ia.applyMatrix4(t.matrixWorld);const a=e.ray.origin.distanceTo(ia);return a<e.near||a>e.far?void 0:{distance:a,point:ra.clone().applyMatrix4(t.matrixWorld),index:r,face:null,faceIndex:null,object:t}}const aa=new ue,la=new ue;class ca extends oa{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,n=[];for(let t=0,i=e.count;t<i;t+=2)aa.fromBufferAttribute(e,t),la.fromBufferAttribute(e,t+1),n[t]=0===t?0:n[t-1],n[t+1]=n[t]+aa.distanceTo(la);t.setAttribute("lineDistance",new Bn(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class ua extends oa{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class da extends In{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Cn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const pa=new Be,ha=new Fe,fa=new Pe,ma=new ue;class ya extends fn{constructor(t=new Yn,e=new da){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const n=this.geometry,i=this.matrixWorld,r=t.params.Points.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),fa.copy(n.boundingSphere),fa.applyMatrix4(i),fa.radius+=r,!1===t.ray.intersectsSphere(fa))return;pa.copy(i).invert(),ha.copy(t.ray).applyMatrix4(pa);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),a=s*s,l=n.index,c=n.attributes.position;if(null!==l)for(let n=Math.max(0,o.start),r=Math.min(l.count,o.start+o.count);n<r;n++){const r=l.getX(n);ma.fromBufferAttribute(c,r),xa(ma,r,a,i,t,e,this)}else for(let n=Math.max(0,o.start),r=Math.min(c.count,o.start+o.count);n<r;n++)ma.fromBufferAttribute(c,n),xa(ma,n,a,i,t,e,this)}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const n=t[e[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=n.length;t<e;t++){const e=n[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}}function xa(t,e,n,i,r,o,s){const a=ha.distanceSqToPoint(t);if(a<n){const n=new ue;ha.closestPointToPoint(t,n),n.applyMatrix4(i);const l=r.ray.origin.distanceTo(n);if(l<r.near||l>r.far)return;o.push({distance:l,distanceToRay:Math.sqrt(a),point:n,index:e,face:null,object:s})}}class ga extends In{constructor(t){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Cn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Cn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ze,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class va extends ga{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ut(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ct(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Cn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Cn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Cn(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get dispersion(){return this._dispersion}set dispersion(t){this._dispersion>0!=t>0&&this.version++,this._dispersion=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.dispersion=t.dispersion,this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}function _a(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)}function za(t){const e=t.length,n=new Array(e);for(let t=0;t!==e;++t)n[t]=t;return n.sort(function(e,n){return t[e]-t[n]}),n}function ba(t,e,n){const i=t.length,r=new t.constructor(i);for(let o=0,s=0;s!==i;++o){const i=n[o]*e;for(let n=0;n!==e;++n)r[s++]=t[i+n]}return r}function Sa(t,e,n,i){let r=1,o=t[0];for(;void 0!==o&&void 0===o[i];)o=t[r++];if(void 0===o)return;let s=o[i];if(void 0!==s)if(Array.isArray(s))do{s=o[i],void 0!==s&&(e.push(o.time),n.push.apply(n,s)),o=t[r++]}while(void 0!==o);else if(void 0!==s.toArray)do{s=o[i],void 0!==s&&(e.push(o.time),s.toArray(n,n.length)),o=t[r++]}while(void 0!==o);else do{s=o[i],void 0!==s&&(e.push(o.time),n.push(s)),o=t[r++]}while(void 0!==o)}class Ma{constructor(t,e,n,i){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new e.constructor(n),this.sampleValues=e,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let n=this._cachedIndex,i=e[n],r=e[n-1];t:{e:{let o;n:{i:if(!(t<i)){for(let o=n+2;;){if(void 0===i){if(t<r)break i;return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(r=i,i=e[++n],t<i)break e}o=e.length;break n}if(!(t>=r)){const s=e[1];t<s&&(n=2,r=s);for(let o=n-2;;){if(void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(n===o)break;if(i=r,r=e[--n-1],t>=r)break e}o=n,n=0;break n}break t}for(;n<o;){const i=n+o>>>1;t<e[i]?o=i:n=i+1}if(i=e[n],r=e[n-1],void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,t,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i;for(let t=0;t!==i;++t)e[t]=n[r+t];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Ea extends Ma{constructor(t,e,n,i){super(t,e,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(t,e,n){const i=this.parameterPositions;let r=t-2,o=t+1,s=i[r],a=i[o];if(void 0===s)switch(this.getSettings_().endingStart){case 2401:r=t,s=2*e-n;break;case 2402:r=i.length-2,s=e+i[r]-i[r+1];break;default:r=t,s=n}if(void 0===a)switch(this.getSettings_().endingEnd){case 2401:o=t,a=2*n-e;break;case 2402:o=1,a=n+i[1]-i[0];break;default:o=t-1,a=e}const l=.5*(n-e),c=this.valueSize;this._weightPrev=l/(e-s),this._weightNext=l/(a-n),this._offsetPrev=r*c,this._offsetNext=o*c}interpolate_(t,e,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=t*s,l=a-s,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,p=this._weightNext,h=(n-e)/(i-e),f=h*h,m=f*h,y=-d*m+2*d*f-d*h,x=(1+d)*m+(-1.5-2*d)*f+(-.5+d)*h+1,g=(-1-p)*m+(1.5+p)*f+.5*h,v=p*m-p*f;for(let t=0;t!==s;++t)r[t]=y*o[c+t]+x*o[l+t]+g*o[a+t]+v*o[u+t];return r}}class wa extends Ma{constructor(t,e,n,i){super(t,e,n,i)}interpolate_(t,e,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=t*s,l=a-s,c=(n-e)/(i-e),u=1-c;for(let t=0;t!==s;++t)r[t]=o[l+t]*u+o[a+t]*c;return r}}class Ta extends Ma{constructor(t,e,n,i){super(t,e,n,i)}interpolate_(t){return this.copySampleValue_(t-1)}}class Aa{constructor(t,e,n,i){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=_a(e,this.TimeBufferType),this.values=_a(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let n;if(e.toJSON!==this.toJSON)n=e.toJSON(t);else{n={name:t.name,times:_a(t.times,Array),values:_a(t.values,Array)};const e=t.getInterpolation();e!==t.DefaultInterpolation&&(n.interpolation=e)}return n.type=t.ValueTypeName,n}InterpolantFactoryMethodDiscrete(t){return new Ta(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new wa(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new Ea(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case tt:e=this.InterpolantFactoryMethodDiscrete;break;case et:e=this.InterpolantFactoryMethodLinear;break;case nt:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",e),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return tt;case this.InterpolantFactoryMethodLinear:return et;case this.InterpolantFactoryMethodSmooth:return nt}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]*=t}return this}trim(t,e){const n=this.times,i=n.length;let r=0,o=i-1;for(;r!==i&&n[r]<t;)++r;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==r||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);const t=this.getValueSize();this.times=n.slice(r,o),this.values=this.values.slice(r*t,o*t)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let e=0;e!==r;e++){const i=n[e];if("number"==typeof i&&isNaN(i)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,e,i),t=!1;break}if(null!==o&&o>i){console.error("THREE.KeyframeTrack: Out of order keys.",this,e,i,o),t=!1;break}o=i}if(void 0!==i&&(s=i,ArrayBuffer.isView(s)&&!(s instanceof DataView)))for(let e=0,n=i.length;e!==n;++e){const n=i[e];if(isNaN(n)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,e,n),t=!1;break}}var s;return t}optimize(){const t=this.times.slice(),e=this.values.slice(),n=this.getValueSize(),i=this.getInterpolation()===nt,r=t.length-1;let o=1;for(let s=1;s<r;++s){let r=!1;const a=t[s];if(a!==t[s+1]&&(1!==s||a!==t[0]))if(i)r=!0;else{const t=s*n,i=t-n,o=t+n;for(let s=0;s!==n;++s){const n=e[t+s];if(n!==e[i+s]||n!==e[o+s]){r=!0;break}}}if(r){if(s!==o){t[o]=t[s];const i=s*n,r=o*n;for(let t=0;t!==n;++t)e[r+t]=e[i+t]}++o}}if(r>0){t[o]=t[r];for(let t=r*n,i=o*n,s=0;s!==n;++s)e[i+s]=e[t+s];++o}return o!==t.length?(this.times=t.slice(0,o),this.values=e.slice(0,o*n)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}Aa.prototype.TimeBufferType=Float32Array,Aa.prototype.ValueBufferType=Float32Array,Aa.prototype.DefaultInterpolation=et;class Ra extends Aa{constructor(t,e,n){super(t,e,n)}}Ra.prototype.ValueTypeName="bool",Ra.prototype.ValueBufferType=Array,Ra.prototype.DefaultInterpolation=tt,Ra.prototype.InterpolantFactoryMethodLinear=void 0,Ra.prototype.InterpolantFactoryMethodSmooth=void 0;class Ca extends Aa{}Ca.prototype.ValueTypeName="color";class Pa extends Aa{}Pa.prototype.ValueTypeName="number";class La extends Ma{constructor(t,e,n,i){super(t,e,n,i)}interpolate_(t,e,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=(n-e)/(i-e);let l=t*s;for(let t=l+s;l!==t;l+=4)ce.slerpFlat(r,0,o,l-s,o,l,a);return r}}class Ia extends Aa{InterpolantFactoryMethodLinear(t){return new La(this.times,this.values,this.getValueSize(),t)}}Ia.prototype.ValueTypeName="quaternion",Ia.prototype.InterpolantFactoryMethodSmooth=void 0;class Na extends Aa{constructor(t,e,n){super(t,e,n)}}Na.prototype.ValueTypeName="string",Na.prototype.ValueBufferType=Array,Na.prototype.DefaultInterpolation=tt,Na.prototype.InterpolantFactoryMethodLinear=void 0,Na.prototype.InterpolantFactoryMethodSmooth=void 0;class Da extends Aa{}Da.prototype.ValueTypeName="vector";class Ua{constructor(t="",e=-1,n=[],i=2500){this.name=t,this.tracks=n,this.duration=e,this.blendMode=i,this.uuid=Rt(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],n=t.tracks,i=1/(t.fps||1);for(let t=0,r=n.length;t!==r;++t)e.push(Oa(n[t]).scale(i));const r=new this(t.name,t.duration,e,t.blendMode);return r.uuid=t.uuid,r}static toJSON(t){const e=[],n=t.tracks,i={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let t=0,i=n.length;t!==i;++t)e.push(Aa.toJSON(n[t]));return i}static CreateFromMorphTargetSequence(t,e,n,i){const r=e.length,o=[];for(let t=0;t<r;t++){let s=[],a=[];s.push((t+r-1)%r,t,(t+1)%r),a.push(0,1,0);const l=za(s);s=ba(s,1,l),a=ba(a,1,l),i||0!==s[0]||(s.push(r),a.push(a[0])),o.push(new Pa(".morphTargetInfluences["+e[t].name+"]",s,a).scale(1/n))}return new this(t,-1,o)}static findByName(t,e){let n=t;if(!Array.isArray(t)){const e=t;n=e.geometry&&e.geometry.animations||e.animations}for(let t=0;t<n.length;t++)if(n[t].name===e)return n[t];return null}static CreateClipsFromMorphTargetSequences(t,e,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let e=0,n=t.length;e<n;e++){const n=t[e],o=n.name.match(r);if(o&&o.length>1){const t=o[1];let e=i[t];e||(i[t]=e=[]),e.push(n)}}const o=[];for(const t in i)o.push(this.CreateFromMorphTargetSequence(t,i[t],e,n));return o}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(t,e,n,i,r){if(0!==n.length){const o=[],s=[];Sa(n,o,s,i),0!==o.length&&r.push(new t(e,o,s))}},i=[],r=t.name||"default",o=t.fps||30,s=t.blendMode;let a=t.length||-1;const l=t.hierarchy||[];for(let t=0;t<l.length;t++){const r=l[t].keys;if(r&&0!==r.length)if(r[0].morphTargets){const t={};let e;for(e=0;e<r.length;e++)if(r[e].morphTargets)for(let n=0;n<r[e].morphTargets.length;n++)t[r[e].morphTargets[n]]=-1;for(const n in t){const t=[],o=[];for(let i=0;i!==r[e].morphTargets.length;++i){const i=r[e];t.push(i.time),o.push(i.morphTarget===n?1:0)}i.push(new Pa(".morphTargetInfluence["+n+"]",t,o))}a=t.length*o}else{const o=".bones["+e[t].name+"]";n(Da,o+".position",r,"pos",i),n(Ia,o+".quaternion",r,"rot",i),n(Da,o+".scale",r,"scl",i)}}return 0===i.length?null:new this(r,a,i,s)}resetDuration(){let t=0;for(let e=0,n=this.tracks.length;e!==n;++e){const n=this.tracks[e];t=Math.max(t,n.times[n.times.length-1])}return this.duration=t,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Oa(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Pa;case"vector":case"vector2":case"vector3":case"vector4":return Da;case"color":return Ca;case"quaternion":return Ia;case"bool":case"boolean":return Ra;case"string":return Na}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){const e=[],n=[];Sa(t.keys,e,n,"value"),t.times=e,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const ka={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class Fa{constructor(t,e,n){const i=this;let r,o=!1,s=0,a=0;const l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){a++,!1===o&&void 0!==i.onStart&&i.onStart(t,s,a),o=!0},this.itemEnd=function(t){s++,void 0!==i.onProgress&&i.onProgress(t,s,a),s===a&&(o=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(t){void 0!==i.onError&&i.onError(t)},this.resolveURL=function(t){return r?r(t):t},this.setURLModifier=function(t){return r=t,this},this.addHandler=function(t,e){return l.push(t,e),this},this.removeHandler=function(t){const e=l.indexOf(t);return-1!==e&&l.splice(e,2),this},this.getHandler=function(t){for(let e=0,n=l.length;e<n;e+=2){const n=l[e],i=l[e+1];if(n.global&&(n.lastIndex=0),n.test(t))return i}return null}}}const Ba=new Fa;class Ha{constructor(t){this.manager=void 0!==t?t:Ba,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const n=this;return new Promise(function(i,r){n.load(t,i,e,r)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}Ha.DEFAULT_MATERIAL_NAME="__DEFAULT";const Va={};class Ga extends Error{constructor(t,e){super(t),this.response=e}}class Wa extends Ha{constructor(t){super(t)}load(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=ka.get(t);if(void 0!==r)return this.manager.itemStart(t),setTimeout(()=>{e&&e(r),this.manager.itemEnd(t)},0),r;if(void 0!==Va[t])return void Va[t].push({onLoad:e,onProgress:n,onError:i});Va[t]=[],Va[t].push({onLoad:e,onProgress:n,onError:i});const o=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,a=this.responseType;fetch(o).then(e=>{if(200===e.status||0===e.status){if(0===e.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===e.body||void 0===e.body.getReader)return e;const n=Va[t],i=e.body.getReader(),r=e.headers.get("X-File-Size")||e.headers.get("Content-Length"),o=r?parseInt(r):0,s=0!==o;let a=0;const l=new ReadableStream({start(t){!function e(){i.read().then(({done:i,value:r})=>{if(i)t.close();else{a+=r.byteLength;const i=new ProgressEvent("progress",{lengthComputable:s,loaded:a,total:o});for(let t=0,e=n.length;t<e;t++){const e=n[t];e.onProgress&&e.onProgress(i)}t.enqueue(r),e()}},e=>{t.error(e)})}()}});return new Response(l)}throw new Ga(`fetch for "${e.url}" responded with ${e.status}: ${e.statusText}`,e)}).then(t=>{switch(a){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"document":return t.text().then(t=>(new DOMParser).parseFromString(t,s));case"json":return t.json();default:if(void 0===s)return t.text();{const e=/charset="?([^;"\s]*)"?/i.exec(s),n=e&&e[1]?e[1].toLowerCase():void 0,i=new TextDecoder(n);return t.arrayBuffer().then(t=>i.decode(t))}}}).then(e=>{ka.add(t,e);const n=Va[t];delete Va[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onLoad&&i.onLoad(e)}}).catch(e=>{const n=Va[t];if(void 0===n)throw this.manager.itemError(t),e;delete Va[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onError&&i.onError(e)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class ja extends Ha{constructor(t){super(t)}load(t,e,n,i){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=ka.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout(function(){e&&e(o),r.manager.itemEnd(t)},0),o;const s=Bt("img");function a(){c(),ka.add(t,this),e&&e(this),r.manager.itemEnd(t)}function l(e){c(),i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}function c(){s.removeEventListener("load",a,!1),s.removeEventListener("error",l,!1)}return s.addEventListener("load",a,!1),s.addEventListener("error",l,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),r.manager.itemStart(t),s.src=t,s}}class Xa extends Ha{constructor(t){super(t)}load(t,e,n,i){const r=new ie,o=new ja(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(t){r.image=t,r.needsUpdate=!0,void 0!==e&&e(r)},n,i),r}}class qa extends fn{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new Cn(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}class Ya extends qa{constructor(t,e,n){super(t,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(fn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Cn(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}}const Ka=new Be,Za=new ue,$a=new ue;class Ja{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ut(512,512),this.map=null,this.mapPass=null,this.matrix=new Be,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Di,this._frameExtents=new Ut(1,1),this._viewportCount=1,this._viewports=[new re(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,n=this.matrix;Za.setFromMatrixPosition(t.matrixWorld),e.position.copy(Za),$a.setFromMatrixPosition(t.target.matrixWorld),e.lookAt($a),e.updateMatrixWorld(),Ka.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ka),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Ka)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class Qa extends Ja{constructor(){super(new Mi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const e=this.camera,n=2*At*t.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;n===e.fov&&i===e.aspect&&r===e.far||(e.fov=n,e.aspect=i,e.far=r,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class tl extends qa{constructor(t,e,n=0,i=Math.PI/3,r=0,o=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(fn.DEFAULT_UP),this.updateMatrix(),this.target=new fn,this.distance=n,this.angle=i,this.penumbra=r,this.decay=o,this.map=null,this.shadow=new Qa}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const el=new Be,nl=new ue,il=new ue;class rl extends Ja{constructor(){super(new Mi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ut(4,2),this._viewportCount=6,this._viewports=[new re(2,1,1,1),new re(0,1,1,1),new re(3,1,1,1),new re(1,1,1,1),new re(3,0,1,1),new re(1,0,1,1)],this._cubeDirections=[new ue(1,0,0),new ue(-1,0,0),new ue(0,0,1),new ue(0,0,-1),new ue(0,1,0),new ue(0,-1,0)],this._cubeUps=[new ue(0,1,0),new ue(0,1,0),new ue(0,1,0),new ue(0,1,0),new ue(0,0,1),new ue(0,0,-1)]}updateMatrices(t,e=0){const n=this.camera,i=this.matrix,r=t.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),nl.setFromMatrixPosition(t.matrixWorld),n.position.copy(nl),il.copy(n.position),il.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(il),n.updateMatrixWorld(),i.makeTranslation(-nl.x,-nl.y,-nl.z),el.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(el)}}class ol extends qa{constructor(t,e,n=0,i=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new rl}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class sl extends Ja{constructor(){super(new $i(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class al extends qa{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(fn.DEFAULT_UP),this.updateMatrix(),this.target=new fn,this.shadow=new sl}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class ll extends qa{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class cl{static decodeText(t){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),"undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);let e="";for(let n=0,i=t.length;n<i;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch(t){return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return-1===e?"./":t.slice(0,e+1)}static resolveURL(t,e){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class ul extends Ha{constructor(t){super(t),this.isImageBitmapLoader=!0,"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=ka.get(t);if(void 0!==o)return r.manager.itemStart(t),o.then?void o.then(n=>{e&&e(n),r.manager.itemEnd(t)}).catch(t=>{i&&i(t)}):(setTimeout(function(){e&&e(o),r.manager.itemEnd(t)},0),o);const s={};s.credentials="anonymous"===this.crossOrigin?"same-origin":"include",s.headers=this.requestHeader;const a=fetch(t,s).then(function(t){return t.blob()}).then(function(t){return createImageBitmap(t,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(n){return ka.add(t,n),e&&e(n),r.manager.itemEnd(t),n}).catch(function(e){i&&i(e),ka.remove(t),r.manager.itemError(t),r.manager.itemEnd(t)});ka.add(t,a),r.manager.itemStart(t)}}class dl{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=pl(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=pl();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function pl(){return("undefined"==typeof performance?Date:performance).now()}const hl="\\[\\]\\.:\\/",fl=new RegExp("["+hl+"]","g"),ml="[^"+hl+"]",yl="[^"+hl.replace("\\.","")+"]",xl=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",ml)+/(WCOD+)?/.source.replace("WCOD",yl)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ml)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ml)+"$"),gl=["material","materials","bones","map"];class vl{constructor(t,e,n){this.path=e,this.parsedPath=n||vl.parseTrackName(e),this.node=vl.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,n){return t&&t.isAnimationObjectGroup?new vl.Composite(t,e,n):new vl(t,e,n)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(fl,"")}static parseTrackName(t){const e=xl.exec(t);if(null===e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){const t=n.nodeName.substring(i+1);-1!==gl.indexOf(t)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=t)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}static findNode(t,e){if(void 0===e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){const n=function(t){for(let i=0;i<t.length;i++){const r=t[i];if(r.name===e||r.uuid===e)return r;const o=n(r.children);if(o)return o}return null},i=n(t.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)t[e++]=n[i]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,n=e.objectName,i=e.propertyName;let r=e.propertyIndex;if(t||(t=vl.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(n){let i=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let e=0;e<t.length;e++)if(t[e].name===i){i=e;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==i){if(void 0===t[i])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[i]}}const o=t[i];if(void 0===o){const n=e.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+i+" but it wasn't found.",t)}let s=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?s=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(s=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[r]&&(r=t.morphTargetDictionary[r])}a=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else void 0!==o.fromArray&&void 0!==o.toArray?(a=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(a=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}function _l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zl(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}vl.Composite=class{constructor(t,e,n){const i=n||vl.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,i)}getValue(t,e){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(t,e)}setValue(t,e){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}},vl.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},vl.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},vl.prototype.GetterByBindingType=[vl.prototype._getValue_direct,vl.prototype._getValue_array,vl.prototype._getValue_arrayElement,vl.prototype._getValue_toArray],vl.prototype.SetterByBindingTypeAndVersioning=[[vl.prototype._setValue_direct,vl.prototype._setValue_direct_setNeedsUpdate,vl.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[vl.prototype._setValue_array,vl.prototype._setValue_array_setNeedsUpdate,vl.prototype._setValue_array_setMatrixWorldNeedsUpdate],[vl.prototype._setValue_arrayElement,vl.prototype._setValue_arrayElement_setNeedsUpdate,vl.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[vl.prototype._setValue_fromArray,vl.prototype._setValue_fromArray_setNeedsUpdate,vl.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1),"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:o}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=o);var bl,Sl,Ml,El,wl,Tl,Al,Rl,Cl,Pl,Ll,Il,Nl,Dl,Ul,Ol,kl,Fl={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Bl={duration:.5,overwrite:!1,delay:0},Hl=1e8,Vl=1e-8,Gl=2*Math.PI,Wl=Gl/4,jl=0,Xl=Math.sqrt,ql=Math.cos,Yl=Math.sin,Kl=function(t){return"string"==typeof t},Zl=function(t){return"function"==typeof t},$l=function(t){return"number"==typeof t},Jl=function(t){return void 0===t},Ql=function(t){return"object"==typeof t},tc=function(t){return!1!==t},ec=function(){return"undefined"!=typeof window},nc=function(t){return Zl(t)||Kl(t)},ic="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},rc=Array.isArray,oc=/random\([^)]+\)/g,sc=/,\s*/g,ac=/(?:-?\.?\d|\.)+/gi,lc=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,cc=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,uc=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,dc=/[+-]=-?[.\d]+/,pc=/[^,'"\[\]\s]+/gi,hc=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,fc={},mc={},yc=function(t){return(mc=Xc(t,fc))&&Xd},xc=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},gc=function(t,e){return!e&&console.warn(t)},vc=function(t,e){return t&&(fc[t]=e)&&mc&&(mc[t]=e)||fc},_c=function(){return 0},zc={suppressEvents:!0,isStart:!0,kill:!1},bc={suppressEvents:!0,kill:!1},Sc={suppressEvents:!0},Mc={},Ec=[],wc={},Tc={},Ac={},Rc=30,Cc=[],Pc="",Lc=function(t){var e,n,i=t[0];if(Ql(i)||Zl(i)||(t=[t]),!(e=(i._gsap||{}).harness)){for(n=Cc.length;n--&&!Cc[n].targetTest(i););e=Cc[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new sd(t[n],e)))||t.splice(n,1);return t},Ic=function(t){return t._gsap||Lc(Su(t))[0]._gsap},Nc=function(t,e,n){return(n=t[e])&&Zl(n)?t[e]():Jl(n)&&t.getAttribute&&t.getAttribute(e)||n},Dc=function(t,e){return(t=t.split(",")).forEach(e)||t},Uc=function(t){return Math.round(1e5*t)/1e5||0},Oc=function(t){return Math.round(1e7*t)/1e7||0},kc=function(t,e){var n=e.charAt(0),i=parseFloat(e.substr(2));return t=parseFloat(t),"+"===n?t+i:"-"===n?t-i:"*"===n?t*i:t/i},Fc=function(t,e){for(var n=e.length,i=0;t.indexOf(e[i])<0&&++i<n;);return i<n},Bc=function(){var t,e,n=Ec.length,i=Ec.slice(0);for(wc={},Ec.length=0,t=0;t<n;t++)(e=i[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},Hc=function(t){return!!(t._initted||t._startAt||t.add)},Vc=function(t,e,n,i){Ec.length&&!Sl&&Bc(),t.render(e,n,i||!!(Sl&&e<0&&Hc(t))),Ec.length&&!Sl&&Bc()},Gc=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(pc).length<2?e:Kl(t)?t.trim():t},Wc=function(t){return t},jc=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},Xc=function(t,e){for(var n in e)t[n]=e[n];return t},qc=function t(e,n){for(var i in n)"__proto__"!==i&&"constructor"!==i&&"prototype"!==i&&(e[i]=Ql(n[i])?t(e[i]||(e[i]={}),n[i]):n[i]);return e},Yc=function(t,e){var n,i={};for(n in t)n in e||(i[n]=t[n]);return i},Kc=function(t){var e,n=t.parent||El,i=t.keyframes?(e=rc(t.keyframes),function(t,n){for(var i in n)i in t||"duration"===i&&e||"ease"===i||(t[i]=n[i])}):jc;if(tc(t.inherit))for(;n;)i(t,n.vars.defaults),n=n.parent||n._dp;return t},Zc=function(t,e,n,i,r){void 0===n&&(n="_first"),void 0===i&&(i="_last");var o,s=t[i];if(r)for(o=e[r];s&&s[r]>o;)s=s._prev;return s?(e._next=s._next,s._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[i]=e,e._prev=s,e.parent=e._dp=t,e},$c=function(t,e,n,i){void 0===n&&(n="_first"),void 0===i&&(i="_last");var r=e._prev,o=e._next;r?r._next=o:t[n]===e&&(t[n]=o),o?o._prev=r:t[i]===e&&(t[i]=r),e._next=e._prev=e.parent=null},Jc=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Qc=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},tu=function(t,e,n,i){return t._startAt&&(Sl?t._startAt.revert(bc):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,i))},eu=function t(e){return!e||e._ts&&t(e.parent)},nu=function(t){return t._repeat?iu(t._tTime,t=t.duration()+t._rDelay)*t:0},iu=function(t,e){var n=Math.floor(t=Oc(t/e));return t&&n===t?n-1:n},ru=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},ou=function(t){return t._end=Oc(t._start+(t._tDur/Math.abs(t._ts||t._rts||Vl)||0))},su=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=Oc(n._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),ou(t),n._dirty||Qc(n,t)),t},au=function(t,e){var n;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(n=ru(t.rawTime(),e),(!e._dur||vu(0,e.totalDuration(),n)-e._tTime>Vl)&&e.render(n,!0)),Qc(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-1e-8}},lu=function(t,e,n,i){return e.parent&&Jc(e),e._start=Oc(($l(n)?n:n||t!==El?yu(t,n,e):t._time)+e._delay),e._end=Oc(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),Zc(t,e,"_first","_last",t._sort?"_start":0),pu(e)||(t._recent=e),i||au(t,e),t._ts<0&&su(t,t._tTime),t},cu=function(t,e){return(fc.ScrollTrigger||xc("scrollTrigger",e))&&fc.ScrollTrigger.create(e,t)},uu=function(t,e,n,i,r){return fd(t,e,r),t._initted?!n&&t._pt&&!Sl&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&Cl!==qu.frame?(Ec.push(t),t._lazy=[r,i],1):void 0:1},du=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},pu=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},hu=function(t,e,n,i){var r=t._repeat,o=Oc(e)||0,s=t._tTime/t._tDur;return s&&!i&&(t._time*=o/t._dur),t._dur=o,t._tDur=r?r<0?1e10:Oc(o*(r+1)+t._rDelay*r):o,s>0&&!i&&su(t,t._tTime=t._tDur*s),t.parent&&ou(t),n||Qc(t.parent,t),t},fu=function(t){return t instanceof ld?Qc(t):hu(t,t._dur)},mu={_start:0,endTime:_c,totalDuration:_c},yu=function t(e,n,i){var r,o,s,a=e.labels,l=e._recent||mu,c=e.duration()>=Hl?l.endTime(!1):e._dur;return Kl(n)&&(isNaN(n)||n in a)?(o=n.charAt(0),s="%"===n.substr(-1),r=n.indexOf("="),"<"===o||">"===o?(r>=0&&(n=n.replace(/=/,"")),("<"===o?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(s?(r<0?l:i).totalDuration()/100:1)):r<0?(n in a||(a[n]=c),a[n]):(o=parseFloat(n.charAt(r-1)+n.substr(r+1)),s&&i&&(o=o/100*(rc(i)?i[0]:i).totalDuration()),r>1?t(e,n.substr(0,r-1),i)+o:c+o)):null==n?c:+n},xu=function(t,e,n){var i,r,o=$l(e[1]),s=(o?2:1)+(t<2?0:1),a=e[s];if(o&&(a.duration=e[1]),a.parent=n,t){for(i=a,r=n;r&&!("immediateRender"in i);)i=r.vars.defaults||{},r=tc(r.vars.inherit)&&r.parent;a.immediateRender=tc(i.immediateRender),t<2?a.runBackwards=1:a.startAt=e[s-1]}return new vd(e[0],a,e[s+1])},gu=function(t,e){return t||0===t?e(t):e},vu=function(t,e,n){return n<t?t:n>e?e:n},_u=function(t,e){return Kl(t)&&(e=hc.exec(t))?e[1]:""},zu=[].slice,bu=function(t,e){return t&&Ql(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&Ql(t[0]))&&!t.nodeType&&t!==wl},Su=function(t,e,n){return Ml&&!e&&Ml.selector?Ml.selector(t):!Kl(t)||n||!Tl&&Yu()?rc(t)?function(t,e,n){return void 0===n&&(n=[]),t.forEach(function(t){var i;return Kl(t)&&!e||bu(t,1)?(i=n).push.apply(i,Su(t)):n.push(t)})||n}(t,n):bu(t)?zu.call(t,0):t?[t]:[]:zu.call((e||Al).querySelectorAll(t),0)},Mu=function(t){return t=Su(t)[0]||gc("Invalid scope")||{},function(e){var n=t.current||t.nativeElement||t;return Su(e,n.querySelectorAll?n:n===t?gc("Invalid scope")||Al.createElement("div"):t)}},Eu=function(t){return t.sort(function(){return.5-Math.random()})},wu=function(t){if(Zl(t))return t;var e=Ql(t)?t:{each:t},n=ed(e.ease),i=e.from||0,r=parseFloat(e.base)||0,o={},s=i>0&&i<1,a=isNaN(i)||s,l=e.axis,c=i,u=i;return Kl(i)?c=u={center:.5,edges:.5,end:1}[i]||0:!s&&a&&(c=i[0],u=i[1]),function(t,s,d){var p,h,f,m,y,x,g,v,_,z=(d||e).length,b=o[z];if(!b){if(!(_="auto"===e.grid?0:(e.grid||[1,Hl])[1])){for(g=-Hl;g<(g=d[_++].getBoundingClientRect().left)&&_<z;);_<z&&_--}for(b=o[z]=[],p=a?Math.min(_,z)*c-.5:i%_,h=_===Hl?0:a?z*u/_-.5:i/_|0,g=0,v=Hl,x=0;x<z;x++)f=x%_-p,m=h-(x/_|0),b[x]=y=l?Math.abs("y"===l?m:f):Xl(f*f+m*m),y>g&&(g=y),y<v&&(v=y);"random"===i&&Eu(b),b.max=g-v,b.min=v,b.v=z=(parseFloat(e.amount)||parseFloat(e.each)*(_>z?z-1:l?"y"===l?z/_:_:Math.max(_,z/_))||0)*("edges"===i?-1:1),b.b=z<0?r-z:r,b.u=_u(e.amount||e.each)||0,n=n&&z<0?Qu(n):n}return z=(b[t]-b.min)/b.max||0,Oc(b.b+(n?n(z):z)*b.v)+b.u}},Tu=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var i=Oc(Math.round(parseFloat(n)/t)*t*e);return(i-i%1)/e+($l(n)?0:_u(n))}},Au=function(t,e){var n,i,r=rc(t);return!r&&Ql(t)&&(n=r=t.radius||Hl,t.values?(t=Su(t.values),(i=!$l(t[0]))&&(n*=n)):t=Tu(t.increment)),gu(e,r?Zl(t)?function(e){return i=t(e),Math.abs(i-e)<=n?i:e}:function(e){for(var r,o,s=parseFloat(i?e.x:e),a=parseFloat(i?e.y:0),l=Hl,c=0,u=t.length;u--;)(r=i?(r=t[u].x-s)*r+(o=t[u].y-a)*o:Math.abs(t[u]-s))<l&&(l=r,c=u);return c=!n||l<=n?t[c]:e,i||c===e||$l(e)?c:c+_u(e)}:Tu(t))},Ru=function(t,e,n,i){return gu(rc(t)?!e:!0===n?!!(n=0):!i,function(){return rc(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+.99*n))/n)*n*i)/i})},Cu=function(t,e,n){return gu(n,function(n){return t[~~e(n)]})},Pu=function(t){return t.replace(oc,function(t){var e=t.indexOf("[")+1,n=t.substring(e||7,e?t.indexOf("]"):t.length-1).split(sc);return Ru(e?n:+n[0],e?0:+n[1],+n[2]||1e-5)})},Lu=function(t,e,n,i,r){var o=e-t,s=i-n;return gu(r,function(e){return n+((e-t)/o*s||0)})},Iu=function(t,e,n){var i,r,o,s=t.labels,a=Hl;for(i in s)(r=s[i]-e)<0==!!n&&r&&a>(r=Math.abs(r))&&(o=i,a=r);return o},Nu=function(t,e,n){var i,r,o,s=t.vars,a=s[e],l=Ml,c=t._ctx;if(a)return i=s[e+"Params"],r=s.callbackScope||t,n&&Ec.length&&Bc(),c&&(Ml=c),o=i?a.apply(r,i):a.call(r),Ml=l,o},Du=function(t){return Jc(t),t.scrollTrigger&&t.scrollTrigger.kill(!!Sl),t.progress()<1&&Nu(t,"onInterrupt"),t},Uu=[],Ou=function(t){if(t)if(t=!t.name&&t.default||t,ec()||t.headless){var e=t.name,n=Zl(t),i=e&&!n&&t.init?function(){this._props=[]}:t,r={init:_c,render:Ad,add:pd,kill:Cd,modifier:Rd,rawVars:0},o={targetTest:0,get:0,getSetter:Md,aliases:{},register:0};if(Yu(),t!==i){if(Tc[e])return;jc(i,jc(Yc(t,r),o)),Xc(i.prototype,Xc(r,Yc(t,o))),Tc[i.prop=e]=i,t.targetTest&&(Cc.push(i),Mc[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}vc(e,i),t.register&&t.register(Xd,i,Id)}else Uu.push(t)},ku=255,Fu={aqua:[0,ku,ku],lime:[0,ku,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,ku],navy:[0,0,128],white:[ku,ku,ku],olive:[128,128,0],yellow:[ku,ku,0],orange:[ku,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[ku,0,0],pink:[ku,192,203],cyan:[0,ku,ku],transparent:[ku,ku,ku,0]},Bu=function(t,e,n){return(6*(t+=t<0?1:t>1?-1:0)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)*ku+.5|0},Hu=function(t,e,n){var i,r,o,s,a,l,c,u,d,p,h=t?$l(t)?[t>>16,t>>8&ku,t&ku]:0:Fu.black;if(!h){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Fu[t])h=Fu[t];else if("#"===t.charAt(0)){if(t.length<6&&(i=t.charAt(1),r=t.charAt(2),o=t.charAt(3),t="#"+i+i+r+r+o+o+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(h=parseInt(t.substr(1,6),16))>>16,h>>8&ku,h&ku,parseInt(t.substr(7),16)/255];h=[(t=parseInt(t.substr(1),16))>>16,t>>8&ku,t&ku]}else if("hsl"===t.substr(0,3))if(h=p=t.match(ac),e){if(~t.indexOf("="))return h=t.match(lc),n&&h.length<4&&(h[3]=1),h}else s=+h[0]%360/360,a=+h[1]/100,i=2*(l=+h[2]/100)-(r=l<=.5?l*(a+1):l+a-l*a),h.length>3&&(h[3]*=1),h[0]=Bu(s+1/3,i,r),h[1]=Bu(s,i,r),h[2]=Bu(s-1/3,i,r);else h=t.match(ac)||Fu.transparent;h=h.map(Number)}return e&&!p&&(i=h[0]/ku,r=h[1]/ku,o=h[2]/ku,l=((c=Math.max(i,r,o))+(u=Math.min(i,r,o)))/2,c===u?s=a=0:(d=c-u,a=l>.5?d/(2-c-u):d/(c+u),s=c===i?(r-o)/d+(r<o?6:0):c===r?(o-i)/d+2:(i-r)/d+4,s*=60),h[0]=~~(s+.5),h[1]=~~(100*a+.5),h[2]=~~(100*l+.5)),n&&h.length<4&&(h[3]=1),h},Vu=function(t){var e=[],n=[],i=-1;return t.split(Wu).forEach(function(t){var r=t.match(cc)||[];e.push.apply(e,r),n.push(i+=r.length+1)}),e.c=n,e},Gu=function(t,e,n){var i,r,o,s,a="",l=(t+a).match(Wu),c=e?"hsla(":"rgba(",u=0;if(!l)return t;if(l=l.map(function(t){return(t=Hu(t,e,1))&&c+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"}),n&&(o=Vu(t),(i=n.c).join(a)!==o.c.join(a)))for(s=(r=t.replace(Wu,"1").split(cc)).length-1;u<s;u++)a+=r[u]+(~i.indexOf(u)?l.shift()||c+"0,0,0,0)":(o.length?o:l.length?l:n).shift());if(!r)for(s=(r=t.split(Wu)).length-1;u<s;u++)a+=r[u]+l[u];return a+r[s]},Wu=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in Fu)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),ju=/hsl[a]?\(/,Xu=function(t){var e,n=t.join(" ");if(Wu.lastIndex=0,Wu.test(n))return e=ju.test(n),t[1]=Gu(t[1],e),t[0]=Gu(t[0],e,Vu(t[1])),!0},qu=function(){var t,e,n,i,r,o,s=Date.now,a=500,l=33,c=s(),u=c,d=1e3/240,p=d,h=[],f=function n(f){var m,y,x,g,v=s()-u,_=!0===f;if((v>a||v<0)&&(c+=v-l),((m=(x=(u+=v)-c)-p)>0||_)&&(g=++i.frame,r=x-1e3*i.time,i.time=x/=1e3,p+=m+(m>=d?4:d-m),y=1),_||(t=e(n)),y)for(o=0;o<h.length;o++)h[o](x,r,g,f)};return i={time:0,frame:0,tick:function(){f(!0)},deltaRatio:function(t){return r/(1e3/(t||60))},wake:function(){Rl&&(!Tl&&ec()&&(wl=Tl=window,Al=wl.document||{},fc.gsap=Xd,(wl.gsapVersions||(wl.gsapVersions=[])).push(Xd.version),yc(mc||wl.GreenSockGlobals||!wl.gsap&&wl||{}),Uu.forEach(Ou)),n="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame,t&&i.sleep(),e=n||function(t){return setTimeout(t,p-1e3*i.time+1|0)},Ll=1,f(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(t),Ll=0,e=_c},lagSmoothing:function(t,e){a=t||1/0,l=Math.min(e||33,a)},fps:function(t){d=1e3/(t||240),p=1e3*i.time+d},add:function(t,e,n){var r=e?function(e,n,o,s){t(e,n,o,s),i.remove(r)}:t;return i.remove(t),h[n?"unshift":"push"](r),Yu(),r},remove:function(t,e){~(e=h.indexOf(t))&&h.splice(e,1)&&o>=e&&o--},_listeners:h}}(),Yu=function(){return!Ll&&qu.wake()},Ku={},Zu=/^[\d.\-M][\d.\-,\s]/,$u=/["']/g,Ju=function(t){for(var e,n,i,r={},o=t.substr(1,t.length-3).split(":"),s=o[0],a=1,l=o.length;a<l;a++)n=o[a],e=a!==l-1?n.lastIndexOf(","):n.length,i=n.substr(0,e),r[s]=isNaN(i)?i.replace($u,"").trim():+i,s=n.substr(e+1).trim();return r},Qu=function(t){return function(e){return 1-t(1-e)}},td=function t(e,n){for(var i,r=e._first;r;)r instanceof ld?t(r,n):!r.vars.yoyoEase||r._yoyo&&r._repeat||r._yoyo===n||(r.timeline?t(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},ed=function(t,e){return t&&(Zl(t)?t:Ku[t]||function(t){var e,n,i,r,o=(t+"").split("("),s=Ku[o[0]];return s&&o.length>1&&s.config?s.config.apply(null,~t.indexOf("{")?[Ju(o[1])]:(e=t,n=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",n),e.substring(n,~r&&r<i?e.indexOf(")",i+1):i)).split(",").map(Gc)):Ku._CE&&Zu.test(t)?Ku._CE("",t):s}(t))||e},nd=function(t,e,n,i){void 0===n&&(n=function(t){return 1-e(1-t)}),void 0===i&&(i=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var r,o={easeIn:e,easeOut:n,easeInOut:i};return Dc(t,function(t){for(var e in Ku[t]=fc[t]=o,Ku[r=t.toLowerCase()]=n,o)Ku[r+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Ku[t+"."+e]=o[e]}),o},id=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},rd=function t(e,n,i){var r=n>=1?n:1,o=(i||(e?.3:.45))/(n<1?n:1),s=o/Gl*(Math.asin(1/r)||0),a=function(t){return 1===t?1:r*Math.pow(2,-10*t)*Yl((t-s)*o)+1},l="out"===e?a:"in"===e?function(t){return 1-a(1-t)}:id(a);return o=Gl/o,l.config=function(n,i){return t(e,n,i)},l},od=function t(e,n){void 0===n&&(n=1.70158);var i=function(t){return t?--t*t*((n+1)*t+n)+1:0},r="out"===e?i:"in"===e?function(t){return 1-i(1-t)}:id(i);return r.config=function(n){return t(e,n)},r};Dc("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;nd(t+",Power"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},function(t){return 1-Math.pow(1-t,n)},function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2})}),Ku.Linear.easeNone=Ku.none=Ku.Linear.easeIn,nd("Elastic",rd("in"),rd("out"),rd()),Il=7.5625,Ul=2*(Dl=1/(Nl=2.75)),Ol=2.5*Dl,nd("Bounce",function(t){return 1-kl(1-t)},kl=function(t){return t<Dl?Il*t*t:t<Ul?Il*Math.pow(t-1.5/Nl,2)+.75:t<Ol?Il*(t-=2.25/Nl)*t+.9375:Il*Math.pow(t-2.625/Nl,2)+.984375}),nd("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)}),nd("Circ",function(t){return-(Xl(1-t*t)-1)}),nd("Sine",function(t){return 1===t?1:1-ql(t*Wl)}),nd("Back",od("in"),od("out"),od()),Ku.SteppedEase=Ku.steps=fc.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,i=t+(e?0:1),r=e?1:0;return function(t){return((i*vu(0,.99999999,t)|0)+r)*n}}},Bl.ease=Ku["quad.out"],Dc("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return Pc+=t+","+t+"Params,"});var sd=function(t,e){this.id=jl++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:Nc,this.set=e?e.getSetter:Md},ad=function(){function t(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,hu(this,+t.duration,1,1),this.data=t.data,Ml&&(this._ctx=Ml,Ml.data.push(this)),Ll||qu.wake()}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,hu(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(Yu(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(su(this,t),!n._dp||n.parent||au(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&lu(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===Vl||!this._initted&&this._dur&&t||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),Vc(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+nu(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+nu(this),e):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?iu(this._tTime,n)+1:1},e.timeScale=function(t,e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var n=this.parent&&this._ts?ru(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,this.totalTime(vu(-Math.abs(this._delay),this.totalDuration(),n),!1!==e),ou(this),function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Yu(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==Vl&&(this._tTime-=Vl)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=Oc(t);var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&lu(e,this,this._start-this._delay),this}return this._start},e.endTime=function(t){return this._start+(tc(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?ru(e.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){void 0===t&&(t=Sc);var e=Sl;return Sl=t,Hc(this)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),"nested"!==this.data&&!1!==t.kill&&this.kill(),Sl=e,this},e.globalTime=function(t){for(var e=this,n=arguments.length?t:e.rawTime();e;)n=e._start+n/(Math.abs(e._ts)||1),e=e._dp;return!this.parent&&this._sat?this._sat.globalTime(t):n},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,fu(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,fu(this),e?this.time(e):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(yu(this,t),tc(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,tc(e)),this._dur||(this._zTime=-1e-8),this},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,n=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<this.endTime(!0)-Vl))},e.eventCallback=function(t,e,n){var i=this.vars;return arguments.length>1?(e?(i[t]=e,n&&(i[t+"Params"]=n),"onUpdate"===t&&(this._onUpdate=e)):delete i[t],this):i[t]},e.then=function(t){var e=this,n=e._prom;return new Promise(function(i){var r=Zl(t)?t:Wc,o=function(){var t=e.then;e.then=null,n&&n(),Zl(r)&&(r=r(e))&&(r.then||r===e)&&(e.then=t),i(r),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?o():e._prom=o})},e.kill=function(){Du(this)},t}();jc(ad.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var ld=function(t){function e(e,n){var i;return void 0===e&&(e={}),(i=t.call(this,e)||this).labels={},i.smoothChildTiming=!!e.smoothChildTiming,i.autoRemoveChildren=!!e.autoRemoveChildren,i._sort=tc(e.sortChildren),El&&lu(e.parent||El,_l(i),n),e.reversed&&i.reverse(),e.paused&&i.paused(!0),e.scrollTrigger&&cu(_l(i),e.scrollTrigger),i}zl(e,t);var n=e.prototype;return n.to=function(t,e,n){return xu(0,arguments,this),this},n.from=function(t,e,n){return xu(1,arguments,this),this},n.fromTo=function(t,e,n,i){return xu(2,arguments,this),this},n.set=function(t,e,n){return e.duration=0,e.parent=this,Kc(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new vd(t,e,yu(this,n),1),this},n.call=function(t,e,n){return lu(this,vd.delayedCall(0,t,e),n)},n.staggerTo=function(t,e,n,i,r,o,s){return n.duration=e,n.stagger=n.stagger||i,n.onComplete=o,n.onCompleteParams=s,n.parent=this,new vd(t,n,yu(this,r)),this},n.staggerFrom=function(t,e,n,i,r,o,s){return n.runBackwards=1,Kc(n).immediateRender=tc(n.immediateRender),this.staggerTo(t,e,n,i,r,o,s)},n.staggerFromTo=function(t,e,n,i,r,o,s,a){return i.startAt=n,Kc(i).immediateRender=tc(i.immediateRender),this.staggerTo(t,e,i,r,o,s,a)},n.render=function(t,e,n){var i,r,o,s,a,l,c,u,d,p,h,f,m=this._time,y=this._dirty?this.totalDuration():this._tDur,x=this._dur,g=t<=0?0:Oc(t),v=this._zTime<0!=t<0&&(this._initted||!x);if(this!==El&&g>y&&t>=0&&(g=y),g!==this._tTime||n||v){if(m!==this._time&&x&&(g+=this._time-m,t+=this._time-m),i=g,d=this._start,l=!(u=this._ts),v&&(x||(m=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(h=this._yoyo,a=x+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*a+t,e,n);if(i=Oc(g%a),g===y?(s=this._repeat,i=x):((s=~~(p=Oc(g/a)))&&s===p&&(i=x,s--),i>x&&(i=x)),p=iu(this._tTime,a),!m&&this._tTime&&p!==s&&this._tTime-p*a-this._dur<=0&&(p=s),h&&1&s&&(i=x-i,f=1),s!==p&&!this._lock){var _=h&&1&p,z=_===(h&&1&s);if(s<p&&(_=!_),m=_?0:g%x?x:g,this._lock=1,this.render(m||(f?0:Oc(s*a)),e,!x)._lock=0,this._tTime=g,!e&&this.parent&&Nu(this,"onRepeat"),this.vars.repeatRefresh&&!f&&(this.invalidate()._lock=1,p=s),m&&m!==this._time||l!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(x=this._dur,y=this._tDur,z&&(this._lock=2,m=_?x:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!f&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;td(this,f)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(t,e,n){var i;if(n>e)for(i=t._first;i&&i._start<=n;){if("isPause"===i.data&&i._start>e)return i;i=i._next}else for(i=t._last;i&&i._start>=n;){if("isPause"===i.data&&i._start<e)return i;i=i._prev}}(this,Oc(m),Oc(i)),c&&(g-=i-(i=c._start))),this._tTime=g,this._time=i,this._act=!u,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,m=0),!m&&g&&x&&!e&&!p&&(Nu(this,"onStart"),this._tTime!==g))return this;if(i>=m&&t>=0)for(r=this._first;r;){if(o=r._next,(r._act||i>=r._start)&&r._ts&&c!==r){if(r.parent!==this)return this.render(t,e,n);if(r.render(r._ts>0?(i-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(i-r._start)*r._ts,e,n),i!==this._time||!this._ts&&!l){c=0,o&&(g+=this._zTime=-1e-8);break}}r=o}else{r=this._last;for(var b=t<0?t:i;r;){if(o=r._prev,(r._act||b<=r._end)&&r._ts&&c!==r){if(r.parent!==this)return this.render(t,e,n);if(r.render(r._ts>0?(b-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(b-r._start)*r._ts,e,n||Sl&&Hc(r)),i!==this._time||!this._ts&&!l){c=0,o&&(g+=this._zTime=b?-1e-8:Vl);break}}r=o}}if(c&&!e&&(this.pause(),c.render(i>=m?0:-1e-8)._zTime=i>=m?1:-1,this._ts))return this._start=d,ou(this),this.render(t,e,n);this._onUpdate&&!e&&Nu(this,"onUpdate",!0),(g===y&&this._tTime>=this.totalDuration()||!g&&m)&&(d!==this._start&&Math.abs(u)===Math.abs(this._ts)||this._lock||((t||!x)&&(g===y&&this._ts>0||!g&&this._ts<0)&&Jc(this,1),e||t<0&&!m||!g&&!m&&y||(Nu(this,g===y&&t>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(g<y&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(t,e){var n=this;if($l(e)||(e=yu(this,e,t)),!(t instanceof ad)){if(rc(t))return t.forEach(function(t){return n.add(t,e)}),this;if(Kl(t))return this.addLabel(t,e);if(!Zl(t))return this;t=vd.delayedCall(0,t)}return this!==t?lu(this,t,e):this},n.getChildren=function(t,e,n,i){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===i&&(i=-Hl);for(var r=[],o=this._first;o;)o._start>=i&&(o instanceof vd?e&&r.push(o):(n&&r.push(o),t&&r.push.apply(r,o.getChildren(!0,e,n)))),o=o._next;return r},n.getById=function(t){for(var e=this.getChildren(1,1,1),n=e.length;n--;)if(e[n].vars.id===t)return e[n]},n.remove=function(t){return Kl(t)?this.removeLabel(t):Zl(t)?this.killTweensOf(t):(t.parent===this&&$c(this,t),t===this._recent&&(this._recent=this._last),Qc(this))},n.totalTime=function(e,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Oc(qu.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},n.addLabel=function(t,e){return this.labels[t]=yu(this,e),this},n.removeLabel=function(t){return delete this.labels[t],this},n.addPause=function(t,e,n){var i=vd.delayedCall(0,e||_c,n);return i.data="isPause",this._hasPause=1,lu(this,i,yu(this,t))},n.removePause=function(t){var e=this._first;for(t=yu(this,t);e;)e._start===t&&"isPause"===e.data&&Jc(e),e=e._next},n.killTweensOf=function(t,e,n){for(var i=this.getTweensOf(t,n),r=i.length;r--;)cd!==i[r]&&i[r].kill(t,e);return this},n.getTweensOf=function(t,e){for(var n,i=[],r=Su(t),o=this._first,s=$l(e);o;)o instanceof vd?Fc(o._targets,r)&&(s?(!cd||o._initted&&o._ts)&&o.globalTime(0)<=e&&o.globalTime(o.totalDuration())>e:!e||o.isActive())&&i.push(o):(n=o.getTweensOf(r,e)).length&&i.push.apply(i,n),o=o._next;return i},n.tweenTo=function(t,e){e=e||{};var n,i=this,r=yu(i,t),o=e,s=o.startAt,a=o.onStart,l=o.onStartParams,c=o.immediateRender,u=vd.to(i,jc({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:r,overwrite:"auto",duration:e.duration||Math.abs((r-(s&&"time"in s?s.time:i._time))/i.timeScale())||Vl,onStart:function(){if(i.pause(),!n){var t=e.duration||Math.abs((r-(s&&"time"in s?s.time:i._time))/i.timeScale());u._dur!==t&&hu(u,t,0,1).render(u._time,!0,!0),n=1}a&&a.apply(u,l||[])}},e));return c?u.render(0):u},n.tweenFromTo=function(t,e,n){return this.tweenTo(e,jc({startAt:{time:yu(this,t)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(t){return void 0===t&&(t=this._time),Iu(this,yu(this,t))},n.previousLabel=function(t){return void 0===t&&(t=this._time),Iu(this,yu(this,t),1)},n.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+Vl)},n.shiftChildren=function(t,e,n){void 0===n&&(n=0);var i,r=this._first,o=this.labels;for(t=Oc(t);r;)r._start>=n&&(r._start+=t,r._end+=t),r=r._next;if(e)for(i in o)o[i]>=n&&(o[i]+=t);return Qc(this)},n.invalidate=function(e){var n=this._first;for(this._lock=0;n;)n.invalidate(e),n=n._next;return t.prototype.invalidate.call(this,e)},n.clear=function(t){void 0===t&&(t=!0);for(var e,n=this._first;n;)e=n._next,this.remove(n),n=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Qc(this)},n.totalDuration=function(t){var e,n,i,r=0,o=this,s=o._last,a=Hl;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-t:t));if(o._dirty){for(i=o.parent;s;)e=s._prev,s._dirty&&s.totalDuration(),(n=s._start)>a&&o._sort&&s._ts&&!o._lock?(o._lock=1,lu(o,s,n-s._delay,1)._lock=0):a=n,n<0&&s._ts&&(r-=n,(!i&&!o._dp||i&&i.smoothChildTiming)&&(o._start+=Oc(n/o._ts),o._time-=n,o._tTime-=n),o.shiftChildren(-n,!1,-Infinity),a=0),s._end>r&&s._ts&&(r=s._end),s=e;hu(o,o===El&&o._time>r?o._time:r,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(t){if(El._ts&&(Vc(El,ru(t,El)),Cl=qu.frame),qu.frame>=Rc){Rc+=Fl.autoSleep||120;var e=El._first;if((!e||!e._ts)&&Fl.autoSleep&&qu._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||qu.sleep()}}},e}(ad);jc(ld.prototype,{_lock:0,_hasPause:0,_forcing:0});var cd,ud,dd=function(t,e,n,i,r,o,s){var a,l,c,u,d,p,h,f,m=new Id(this._pt,t,e,0,1,Td,null,r),y=0,x=0;for(m.b=n,m.e=i,n+="",(h=~(i+="").indexOf("random("))&&(i=Pu(i)),o&&(o(f=[n,i],t,e),n=f[0],i=f[1]),l=n.match(uc)||[];a=uc.exec(i);)u=a[0],d=i.substring(y,a.index),c?c=(c+1)%5:"rgba("===d.substr(-5)&&(c=1),u!==l[x++]&&(p=parseFloat(l[x-1])||0,m._pt={_next:m._pt,p:d||1===x?d:",",s:p,c:"="===u.charAt(1)?kc(p,u)-p:parseFloat(u)-p,m:c&&c<4?Math.round:0},y=uc.lastIndex);return m.c=y<i.length?i.substring(y,i.length):"",m.fp=s,(dc.test(i)||h)&&(m.e=0),this._pt=m,m},pd=function(t,e,n,i,r,o,s,a,l,c){Zl(i)&&(i=i(r||0,t,o));var u,d=t[e],p="get"!==n?n:Zl(d)?l?t[e.indexOf("set")||!Zl(t["get"+e.substr(3)])?e:"get"+e.substr(3)](l):t[e]():d,h=Zl(d)?l?bd:zd:_d;if(Kl(i)&&(~i.indexOf("random(")&&(i=Pu(i)),"="===i.charAt(1)&&((u=kc(p,i)+(_u(p)||0))||0===u)&&(i=u)),!c||p!==i||ud)return isNaN(p*i)||""===i?(!d&&!(e in t)&&xc(e,i),dd.call(this,t,e,p,i,h,a||Fl.stringFilter,l)):(u=new Id(this._pt,t,e,+p||0,i-(p||0),"boolean"==typeof d?wd:Ed,0,h),l&&(u.fp=l),s&&u.modifier(s,this,t),this._pt=u)},hd=function(t,e,n,i,r,o){var s,a,l,c;if(Tc[t]&&!1!==(s=new Tc[t]).init(r,s.rawVars?e[t]:function(t,e,n,i,r){if(Zl(t)&&(t=yd(t,r,e,n,i)),!Ql(t)||t.style&&t.nodeType||rc(t)||ic(t))return Kl(t)?yd(t,r,e,n,i):t;var o,s={};for(o in t)s[o]=yd(t[o],r,e,n,i);return s}(e[t],i,r,o,n),n,i,o)&&(n._pt=a=new Id(n._pt,r,t,0,1,s.render,s,0,s.priority),n!==Pl))for(l=n._ptLookup[n._targets.indexOf(r)],c=s._props.length;c--;)l[s._props[c]]=a;return s},fd=function t(e,n,i){var r,o,s,a,l,c,u,d,p,h,f,m,y,x=e.vars,g=x.ease,v=x.startAt,_=x.immediateRender,z=x.lazy,b=x.onUpdate,S=x.runBackwards,M=x.yoyoEase,E=x.keyframes,w=x.autoRevert,T=e._dur,A=e._startAt,R=e._targets,C=e.parent,P=C&&"nested"===C.data?C.vars.targets:R,L="auto"===e._overwrite&&!bl,I=e.timeline;if(I&&(!E||!g)&&(g="none"),e._ease=ed(g,Bl.ease),e._yEase=M?Qu(ed(!0===M?g:M,Bl.ease)):0,M&&e._yoyo&&!e._repeat&&(M=e._yEase,e._yEase=e._ease,e._ease=M),e._from=!I&&!!x.runBackwards,!I||E&&!x.stagger){if(m=(d=R[0]?Ic(R[0]).harness:0)&&x[d.prop],r=Yc(x,Mc),A&&(A._zTime<0&&A.progress(1),n<0&&S&&_&&!w?A.render(-1,!0):A.revert(S&&T?bc:zc),A._lazy=0),v){if(Jc(e._startAt=vd.set(R,jc({data:"isStart",overwrite:!1,parent:C,immediateRender:!0,lazy:!A&&tc(z),startAt:null,delay:0,onUpdate:b&&function(){return Nu(e,"onUpdate")},stagger:0},v))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Sl||!_&&!w)&&e._startAt.revert(bc),_&&T&&n<=0&&i<=0)return void(n&&(e._zTime=n))}else if(S&&T&&!A)if(n&&(_=!1),s=jc({overwrite:!1,data:"isFromStart",lazy:_&&!A&&tc(z),immediateRender:_,stagger:0,parent:C},r),m&&(s[d.prop]=m),Jc(e._startAt=vd.set(R,s)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Sl?e._startAt.revert(bc):e._startAt.render(-1,!0)),e._zTime=n,_){if(!n)return}else t(e._startAt,Vl,Vl);for(e._pt=e._ptCache=0,z=T&&tc(z)||z&&!T,o=0;o<R.length;o++){if(u=(l=R[o])._gsap||Lc(R)[o]._gsap,e._ptLookup[o]=h={},wc[u.id]&&Ec.length&&Bc(),f=P===R?o:P.indexOf(l),d&&!1!==(p=new d).init(l,m||r,e,f,P)&&(e._pt=a=new Id(e._pt,l,p.name,0,1,p.render,p,0,p.priority),p._props.forEach(function(t){h[t]=a}),p.priority&&(c=1)),!d||m)for(s in r)Tc[s]&&(p=hd(s,r,e,f,l,P))?p.priority&&(c=1):h[s]=a=pd.call(e,l,s,"get",r[s],f,P,0,x.stringFilter);e._op&&e._op[o]&&e.kill(l,e._op[o]),L&&e._pt&&(cd=e,El.killTweensOf(l,h,e.globalTime(n)),y=!e.parent,cd=0),e._pt&&z&&(wc[u.id]=1)}c&&Ld(e),e._onInit&&e._onInit(e)}e._onUpdate=b,e._initted=(!e._op||e._pt)&&!y,E&&n<=0&&I.render(Hl,!0,!0)},md=function(t,e,n,i){var r,o,s=e.ease||i||"power1.inOut";if(rc(e))o=n[t]||(n[t]=[]),e.forEach(function(t,n){return o.push({t:n/(e.length-1)*100,v:t,e:s})});else for(r in e)o=n[r]||(n[r]=[]),"ease"===r||o.push({t:parseFloat(t),v:e[r],e:s})},yd=function(t,e,n,i,r){return Zl(t)?t.call(e,n,i,r):Kl(t)&&~t.indexOf("random(")?Pu(t):t},xd=Pc+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",gd={};Dc(xd+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return gd[t]=1});var vd=function(t){function e(e,n,i,r){var o;"number"==typeof n&&(i.duration=n,n=i,i=null);var s,a,l,c,u,d,p,h,f=(o=t.call(this,r?n:Kc(n))||this).vars,m=f.duration,y=f.delay,x=f.immediateRender,g=f.stagger,v=f.overwrite,_=f.keyframes,z=f.defaults,b=f.scrollTrigger,S=f.yoyoEase,M=n.parent||El,E=(rc(e)||ic(e)?$l(e[0]):"length"in n)?[e]:Su(e);if(o._targets=E.length?Lc(E):gc("GSAP target "+e+" not found. https://gsap.com",!Fl.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=v,_||g||nc(m)||nc(y)){if(n=o.vars,(s=o.timeline=new ld({data:"nested",defaults:z||{},targets:M&&"nested"===M.data?M.vars.targets:E})).kill(),s.parent=s._dp=_l(o),s._start=0,g||nc(m)||nc(y)){if(c=E.length,p=g&&wu(g),Ql(g))for(u in g)~xd.indexOf(u)&&(h||(h={}),h[u]=g[u]);for(a=0;a<c;a++)(l=Yc(n,gd)).stagger=0,S&&(l.yoyoEase=S),h&&Xc(l,h),d=E[a],l.duration=+yd(m,_l(o),a,d,E),l.delay=(+yd(y,_l(o),a,d,E)||0)-o._delay,!g&&1===c&&l.delay&&(o._delay=y=l.delay,o._start+=y,l.delay=0),s.to(d,l,p?p(a,d,E):0),s._ease=Ku.none;s.duration()?m=y=0:o.timeline=0}else if(_){Kc(jc(s.vars.defaults,{ease:"none"})),s._ease=ed(_.ease||n.ease||"none");var w,T,A,R=0;if(rc(_))_.forEach(function(t){return s.to(E,t,">")}),s.duration();else{for(u in l={},_)"ease"===u||"easeEach"===u||md(u,_[u],l,_.easeEach);for(u in l)for(w=l[u].sort(function(t,e){return t.t-e.t}),R=0,a=0;a<w.length;a++)(A={ease:(T=w[a]).e,duration:(T.t-(a?w[a-1].t:0))/100*m})[u]=T.v,s.to(E,A,R),R+=A.duration;s.duration()<m&&s.to({},{duration:m-s.duration()})}}m||o.duration(m=s.duration())}else o.timeline=0;return!0!==v||bl||(cd=_l(o),El.killTweensOf(E),cd=0),lu(M,_l(o),i),n.reversed&&o.reverse(),n.paused&&o.paused(!0),(x||!m&&!_&&o._start===Oc(M._time)&&tc(x)&&eu(_l(o))&&"nested"!==M.data)&&(o._tTime=-1e-8,o.render(Math.max(0,-y)||0)),b&&cu(_l(o),b),o}zl(e,t);var n=e.prototype;return n.render=function(t,e,n){var i,r,o,s,a,l,c,u,d,p=this._time,h=this._tDur,f=this._dur,m=t<0,y=t>h-Vl&&!m?h:t<Vl?0:t;if(f){if(y!==this._tTime||!t||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m||this._lazy){if(i=y,u=this.timeline,this._repeat){if(s=f+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*s+t,e,n);if(i=Oc(y%s),y===h?(o=this._repeat,i=f):(o=~~(a=Oc(y/s)))&&o===a?(i=f,o--):i>f&&(i=f),(l=this._yoyo&&1&o)&&(d=this._yEase,i=f-i),a=iu(this._tTime,s),i===p&&!n&&this._initted&&o===a)return this._tTime=y,this;o!==a&&(u&&this._yEase&&td(u,l),this.vars.repeatRefresh&&!l&&!this._lock&&i!==s&&this._initted&&(this._lock=n=1,this.render(Oc(s*o),!0).invalidate()._lock=0))}if(!this._initted){if(uu(this,m?t:i,n,e,y))return this._tTime=0,this;if(!(p===this._time||n&&this.vars.repeatRefresh&&o!==a))return this;if(f!==this._dur)return this.render(t,e,n)}if(this._tTime=y,this._time=i,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(d||this._ease)(i/f),this._from&&(this.ratio=c=1-c),!p&&y&&!e&&!a&&(Nu(this,"onStart"),this._tTime!==y))return this;for(r=this._pt;r;)r.r(c,r.d),r=r._next;u&&u.render(t<0?t:u._dur*u._ease(i/this._dur),e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(m&&tu(this,t,0,n),Nu(this,"onUpdate")),this._repeat&&o!==a&&this.vars.onRepeat&&!e&&this.parent&&Nu(this,"onRepeat"),y!==this._tDur&&y||this._tTime!==y||(m&&!this._onUpdate&&tu(this,t,0,!0),(t||!f)&&(y===this._tDur&&this._ts>0||!y&&this._ts<0)&&Jc(this,1),e||m&&!p||!(y||p||l)||(Nu(this,y===h?"onComplete":"onReverseComplete",!0),this._prom&&!(y<h&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,n,i){var r,o,s,a=t.ratio,l=e<0||!e&&(!t._start&&du(t)&&(t._initted||!pu(t))||(t._ts<0||t._dp._ts<0)&&!pu(t))?0:1,c=t._rDelay,u=0;if(c&&t._repeat&&(u=vu(0,t._tDur,e),o=iu(u,c),t._yoyo&&1&o&&(l=1-l),o!==iu(t._tTime,c)&&(a=1-l,t.vars.repeatRefresh&&t._initted&&t.invalidate())),l!==a||Sl||i||t._zTime===Vl||!e&&t._zTime){if(!t._initted&&uu(t,e,i,n,u))return;for(s=t._zTime,t._zTime=e||(n?Vl:0),n||(n=e&&!s),t.ratio=l,t._from&&(l=1-l),t._time=0,t._tTime=u,r=t._pt;r;)r.r(l,r.d),r=r._next;e<0&&tu(t,e,0,!0),t._onUpdate&&!n&&Nu(t,"onUpdate"),u&&t._repeat&&!n&&t.parent&&Nu(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===l&&(l&&Jc(t,1),n||Sl||(Nu(t,l?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,n);return this},n.targets=function(){return this._targets},n.invalidate=function(e){return(!e||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(e),t.prototype.invalidate.call(this,e)},n.resetTo=function(t,e,n,i,r){Ll||qu.wake(),this._ts||this.play();var o=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||fd(this,o),function(t,e,n,i,r,o,s,a){var l,c,u,d,p=(t._pt&&t._ptCache||(t._ptCache={}))[e];if(!p)for(p=t._ptCache[e]=[],u=t._ptLookup,d=t._targets.length;d--;){if((l=u[d][e])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==e&&l.fp!==e;)l=l._next;if(!l)return ud=1,t.vars[e]="+=0",fd(t,s),ud=0,a?gc(e+" not eligible for reset"):1;p.push(l)}for(d=p.length;d--;)(l=(c=p[d])._pt||c).s=!i&&0!==i||r?l.s+(i||0)+o*l.c:i,l.c=n-l.s,c.e&&(c.e=Uc(n)+_u(c.e)),c.b&&(c.b=l.s+_u(c.b))}(this,t,e,n,i,this._ease(o/this._dur),o,r)?this.resetTo(t,e,n,i,1):(su(this,0),this.parent||Zc(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?Du(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Sl),this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,cd&&!0!==cd.vars.overwrite)._first||Du(this),this.parent&&n!==this.timeline.totalDuration()&&hu(this,this._dur*this.timeline._tDur/n,0,1),this}var i,r,o,s,a,l,c,u=this._targets,d=t?Su(t):u,p=this._ptLookup,h=this._pt;if((!e||"all"===e)&&function(t,e){for(var n=t.length,i=n===e.length;i&&n--&&t[n]===e[n];);return n<0}(u,d))return"all"===e&&(this._pt=0),Du(this);for(i=this._op=this._op||[],"all"!==e&&(Kl(e)&&(a={},Dc(e,function(t){return a[t]=1}),e=a),e=function(t,e){var n,i,r,o,s=t[0]?Ic(t[0]).harness:0,a=s&&s.aliases;if(!a)return e;for(i in n=Xc({},e),a)if(i in n)for(r=(o=a[i].split(",")).length;r--;)n[o[r]]=n[i];return n}(u,e)),c=u.length;c--;)if(~d.indexOf(u[c]))for(a in r=p[c],"all"===e?(i[c]=e,s=r,o={}):(o=i[c]=i[c]||{},s=e),s)(l=r&&r[a])&&("kill"in l.d&&!0!==l.d.kill(a)||$c(this,l,"_pt"),delete r[a]),"all"!==o&&(o[a]=1);return this._initted&&!this._pt&&h&&Du(this),this},e.to=function(t,n){return new e(t,n,arguments[2])},e.from=function(t,e){return xu(1,arguments)},e.delayedCall=function(t,n,i,r){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:n,onReverseComplete:n,onCompleteParams:i,onReverseCompleteParams:i,callbackScope:r})},e.fromTo=function(t,e,n){return xu(2,arguments)},e.set=function(t,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(t,n)},e.killTweensOf=function(t,e,n){return El.killTweensOf(t,e,n)},e}(ad);jc(vd.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Dc("staggerTo,staggerFrom,staggerFromTo",function(t){vd[t]=function(){var e=new ld,n=zu.call(arguments,0);return n.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,n)}});var _d=function(t,e,n){return t[e]=n},zd=function(t,e,n){return t[e](n)},bd=function(t,e,n,i){return t[e](i.fp,n)},Sd=function(t,e,n){return t.setAttribute(e,n)},Md=function(t,e){return Zl(t[e])?zd:Jl(t[e])&&t.setAttribute?Sd:_d},Ed=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},wd=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},Td=function(t,e){var n=e._pt,i="";if(!t&&e.b)i=e.b;else if(1===t&&e.e)i=e.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*t):Math.round(1e4*(n.s+n.c*t))/1e4)+i,n=n._next;i+=e.c}e.set(e.t,e.p,i,e)},Ad=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},Rd=function(t,e,n,i){for(var r,o=this._pt;o;)r=o._next,o.p===i&&o.modifier(t,e,n),o=r},Cd=function(t){for(var e,n,i=this._pt;i;)n=i._next,i.p===t&&!i.op||i.op===t?$c(this,i,"_pt"):i.dep||(e=1),i=n;return!e},Pd=function(t,e,n,i){i.mSet(t,e,i.m.call(i.tween,n,i.mt),i)},Ld=function(t){for(var e,n,i,r,o=t._pt;o;){for(e=o._next,n=i;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:r)?o._prev._next=o:i=o,(o._next=n)?n._prev=o:r=o,o=e}t._pt=i},Id=function(){function t(t,e,n,i,r,o,s,a,l){this.t=e,this.s=i,this.c=r,this.p=n,this.r=o||Ed,this.d=s||this,this.set=a||_d,this.pr=l||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=Pd,this.m=t,this.mt=n,this.tween=e},t}();Dc(Pc+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return Mc[t]=1}),fc.TweenMax=fc.TweenLite=vd,fc.TimelineLite=fc.TimelineMax=ld,El=new ld({sortChildren:!1,defaults:Bl,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Fl.stringFilter=Xu;var Nd=[],Dd={},Ud=[],Od=0,kd=0,Fd=function(t){return(Dd[t]||Ud).map(function(t){return t()})},Bd=function(){var t=Date.now(),e=[];t-Od>2&&(Fd("matchMediaInit"),Nd.forEach(function(t){var n,i,r,o,s=t.queries,a=t.conditions;for(i in s)(n=wl.matchMedia(s[i]).matches)&&(r=1),n!==a[i]&&(a[i]=n,o=1);o&&(t.revert(),r&&e.push(t))}),Fd("matchMediaRevert"),e.forEach(function(t){return t.onMatch(t,function(e){return t.add(null,e)})}),Od=t,Fd("matchMedia"))},Hd=function(){function t(t,e){this.selector=e&&Mu(e),this.data=[],this._r=[],this.isReverted=!1,this.id=kd++,t&&this.add(t)}var e=t.prototype;return e.add=function(t,e,n){Zl(t)&&(n=e,e=t,t=Zl);var i=this,r=function(){var t,r=Ml,o=i.selector;return r&&r!==i&&r.data.push(i),n&&(i.selector=Mu(n)),Ml=i,t=e.apply(i,arguments),Zl(t)&&i._r.push(t),Ml=r,i.selector=o,i.isReverted=!1,t};return i.last=r,t===Zl?r(i,function(t){return i.add(null,t)}):t?i[t]=r:r},e.ignore=function(t){var e=Ml;Ml=null,t(this),Ml=e},e.getTweens=function(){var e=[];return this.data.forEach(function(n){return n instanceof t?e.push.apply(e,n.getTweens()):n instanceof vd&&!(n.parent&&"nested"===n.parent.data)&&e.push(n)}),e},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,e){var n=this;if(t?function(){for(var e,i=n.getTweens(),r=n.data.length;r--;)"isFlip"===(e=n.data[r]).data&&(e.revert(),e.getChildren(!0,!0,!1).forEach(function(t){return i.splice(i.indexOf(t),1)}));for(i.map(function(t){return{g:t._dur||t._delay||t._sat&&!t._sat.vars.immediateRender?t.globalTime(0):-1/0,t}}).sort(function(t,e){return e.g-t.g||-1/0}).forEach(function(e){return e.t.revert(t)}),r=n.data.length;r--;)(e=n.data[r])instanceof ld?"nested"!==e.data&&(e.scrollTrigger&&e.scrollTrigger.revert(),e.kill()):!(e instanceof vd)&&e.revert&&e.revert(t);n._r.forEach(function(e){return e(t,n)}),n.isReverted=!0}():this.data.forEach(function(t){return t.kill&&t.kill()}),this.clear(),e)for(var i=Nd.length;i--;)Nd[i].id===this.id&&Nd.splice(i,1)},e.revert=function(t){this.kill(t||{})},t}(),Vd=function(){function t(t){this.contexts=[],this.scope=t,Ml&&Ml.data.push(this)}var e=t.prototype;return e.add=function(t,e,n){Ql(t)||(t={matches:t});var i,r,o,s=new Hd(0,n||this.scope),a=s.conditions={};for(r in Ml&&!s.selector&&(s.selector=Ml.selector),this.contexts.push(s),e=s.add("onMatch",e),s.queries=t,t)"all"===r?o=1:(i=wl.matchMedia(t[r]))&&(Nd.indexOf(s)<0&&Nd.push(s),(a[r]=i.matches)&&(o=1),i.addListener?i.addListener(Bd):i.addEventListener("change",Bd));return o&&e(s,function(t){return s.add(null,t)}),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach(function(e){return e.kill(t,!0)})},t}(),Gd={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach(function(t){return Ou(t)})},timeline:function(t){return new ld(t)},getTweensOf:function(t,e){return El.getTweensOf(t,e)},getProperty:function(t,e,n,i){Kl(t)&&(t=Su(t)[0]);var r=Ic(t||{}).get,o=n?Wc:Gc;return"native"===n&&(n=""),t?e?o((Tc[e]&&Tc[e].get||r)(t,e,n,i)):function(e,n,i){return o((Tc[e]&&Tc[e].get||r)(t,e,n,i))}:t},quickSetter:function(t,e,n){if((t=Su(t)).length>1){var i=t.map(function(t){return Xd.quickSetter(t,e,n)}),r=i.length;return function(t){for(var e=r;e--;)i[e](t)}}t=t[0]||{};var o=Tc[e],s=Ic(t),a=s.harness&&(s.harness.aliases||{})[e]||e,l=o?function(e){var i=new o;Pl._pt=0,i.init(t,n?e+n:e,Pl,0,[t]),i.render(1,i),Pl._pt&&Ad(1,Pl)}:s.set(t,a);return o?l:function(e){return l(t,a,n?e+n:e,s,1)}},quickTo:function(t,e,n){var i,r=Xd.to(t,jc(((i={})[e]="+=0.1",i.paused=!0,i.stagger=0,i),n||{})),o=function(t,n,i){return r.resetTo(e,t,n,i)};return o.tween=r,o},isTweening:function(t){return El.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=ed(t.ease,Bl.ease)),qc(Bl,t||{})},config:function(t){return qc(Fl,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,i=t.plugins,r=t.defaults,o=t.extendTimeline;(i||"").split(",").forEach(function(t){return t&&!Tc[t]&&!fc[t]&&gc(e+" effect requires "+t+" plugin.")}),Ac[e]=function(t,e,i){return n(Su(t),jc(e||{},r),i)},o&&(ld.prototype[e]=function(t,n,i){return this.add(Ac[e](t,Ql(n)?n:(i=n)&&{},this),i)})},registerEase:function(t,e){Ku[t]=ed(e)},parseEase:function(t,e){return arguments.length?ed(t,e):Ku},getById:function(t){return El.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,i,r=new ld(t);for(r.smoothChildTiming=tc(t.smoothChildTiming),El.remove(r),r._dp=0,r._time=r._tTime=El._time,n=El._first;n;)i=n._next,!e&&!n._dur&&n instanceof vd&&n.vars.onComplete===n._targets[0]||lu(r,n,n._start-n._delay),n=i;return lu(El,r,0),r},context:function(t,e){return t?new Hd(t,e):Ml},matchMedia:function(t){return new Vd(t)},matchMediaRefresh:function(){return Nd.forEach(function(t){var e,n,i=t.conditions;for(n in i)i[n]&&(i[n]=!1,e=1);e&&t.revert()})||Bd()},addEventListener:function(t,e){var n=Dd[t]||(Dd[t]=[]);~n.indexOf(e)||n.push(e)},removeEventListener:function(t,e){var n=Dd[t],i=n&&n.indexOf(e);i>=0&&n.splice(i,1)},utils:{wrap:function t(e,n,i){var r=n-e;return rc(e)?Cu(e,t(0,e.length),n):gu(i,function(t){return(r+(t-e)%r)%r+e})},wrapYoyo:function t(e,n,i){var r=n-e,o=2*r;return rc(e)?Cu(e,t(0,e.length-1),n):gu(i,function(t){return e+((t=(o+(t-e)%o)%o||0)>r?o-t:t)})},distribute:wu,random:Ru,snap:Au,normalize:function(t,e,n){return Lu(t,e,0,1,n)},getUnit:_u,clamp:function(t,e,n){return gu(n,function(n){return vu(t,e,n)})},splitColor:Hu,toArray:Su,selector:Mu,mapRange:Lu,pipe:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce(function(t,e){return e(t)},t)}},unitize:function(t,e){return function(n){return t(parseFloat(n))+(e||_u(n))}},interpolate:function t(e,n,i,r){var o=isNaN(e+n)?0:function(t){return(1-t)*e+t*n};if(!o){var s,a,l,c,u,d=Kl(e),p={};if(!0===i&&(r=1)&&(i=null),d)e={p:e},n={p:n};else if(rc(e)&&!rc(n)){for(l=[],c=e.length,u=c-2,a=1;a<c;a++)l.push(t(e[a-1],e[a]));c--,o=function(t){t*=c;var e=Math.min(u,~~t);return l[e](t-e)},i=n}else r||(e=Xc(rc(e)?[]:{},e));if(!l){for(s in n)pd.call(p,e,s,"get",n[s]);o=function(t){return Ad(t,p)||(d?e.p:e)}}}return gu(i,o)},shuffle:Eu},install:yc,effects:Ac,ticker:qu,updateRoot:ld.updateRoot,plugins:Tc,globalTimeline:El,core:{PropTween:Id,globals:vc,Tween:vd,Timeline:ld,Animation:ad,getCache:Ic,_removeLinkedListItem:$c,reverting:function(){return Sl},context:function(t){return t&&Ml&&(Ml.data.push(t),t._ctx=Ml),Ml},suppressOverwrites:function(t){return bl=t}}};Dc("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Gd[t]=vd[t]}),qu.add(ld.updateRoot),Pl=Gd.to({},{duration:0});var Wd=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},jd=function(t,e){return{name:t,headless:1,rawVars:1,init:function(t,n,i){i._onInit=function(t){var i,r;if(Kl(n)&&(i={},Dc(n,function(t){return i[t]=1}),n=i),e){for(r in i={},n)i[r]=e(n[r]);n=i}!function(t,e){var n,i,r,o=t._targets;for(n in e)for(i=o.length;i--;)(r=t._ptLookup[i][n])&&(r=r.d)&&(r._pt&&(r=Wd(r,n)),r&&r.modifier&&r.modifier(e[n],t,o[i],n))}(t,n)}}}},Xd=Gd.registerPlugin({name:"attr",init:function(t,e,n,i,r){var o,s,a;for(o in this.tween=n,e)a=t.getAttribute(o)||"",(s=this.add(t,"setAttribute",(a||0)+"",e[o],i,r,0,0,o)).op=o,s.b=a,this._props.push(o)},render:function(t,e){for(var n=e._pt;n;)Sl?n.set(n.t,n.p,n.b,n):n.r(t,n.d),n=n._next}},{name:"endArray",headless:1,init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n],0,0,0,0,0,1)}},jd("roundProps",Tu),jd("modifiers"),jd("snap",Au))||Gd;vd.version=ld.version=Xd.version="3.14.2",Rl=1,ec()&&Yu(),Ku.Power0,Ku.Power1,Ku.Power2,Ku.Power3,Ku.Power4,Ku.Linear,Ku.Quad,Ku.Cubic,Ku.Quart,Ku.Quint,Ku.Strong,Ku.Elastic,Ku.Back,Ku.SteppedEase,Ku.Bounce,Ku.Sine,Ku.Expo,Ku.Circ;var qd,Yd,Kd,Zd,$d,Jd,Qd,tp,ep={},np=180/Math.PI,ip=Math.PI/180,rp=Math.atan2,op=/([A-Z])/g,sp=/(left|right|width|margin|padding|x)/i,ap=/[\s,\(]\S/,lp={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},cp=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},up=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},dp=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},pp=function(t,e){return e.set(e.t,e.p,1===t?e.e:t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},hp=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},fp=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},mp=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},yp=function(t,e,n){return t.style[e]=n},xp=function(t,e,n){return t.style.setProperty(e,n)},gp=function(t,e,n){return t._gsap[e]=n},vp=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},_p=function(t,e,n,i,r){var o=t._gsap;o.scaleX=o.scaleY=n,o.renderTransform(r,o)},zp=function(t,e,n,i,r){var o=t._gsap;o[e]=n,o.renderTransform(r,o)},bp="transform",Sp=bp+"Origin",Mp=function t(e,n){var i=this,r=this.target,o=r.style,s=r._gsap;if(e in ep&&o){if(this.tfm=this.tfm||{},"transform"===e)return lp.transform.split(",").forEach(function(e){return t.call(i,e,n)});if(~(e=lp[e]||e).indexOf(",")?e.split(",").forEach(function(t){return i.tfm[t]=Vp(r,t)}):this.tfm[e]=s.x?s[e]:Vp(r,e),e===Sp&&(this.tfm.zOrigin=s.zOrigin),this.props.indexOf(bp)>=0)return;s.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(Sp,n,"")),e=bp}(o||n)&&this.props.push(e,n,o[e])},Ep=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},wp=function(){var t,e,n=this.props,i=this.target,r=i.style,o=i._gsap;for(t=0;t<n.length;t+=3)n[t+1]?2===n[t+1]?i[n[t]](n[t+2]):i[n[t]]=n[t+2]:n[t+2]?r[n[t]]=n[t+2]:r.removeProperty("--"===n[t].substr(0,2)?n[t]:n[t].replace(op,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)o[e]=this.tfm[e];o.svg&&(o.renderTransform(),i.setAttribute("data-svg-origin",this.svgo||"")),(t=Qd())&&t.isStart||r[bp]||(Ep(r),o.zOrigin&&r[Sp]&&(r[Sp]+=" "+o.zOrigin+"px",o.zOrigin=0,o.renderTransform()),o.uncache=1)}},Tp=function(t,e){var n={target:t,props:[],revert:wp,save:Mp};return t._gsap||Xd.core.getCache(t),e&&t.style&&t.nodeType&&e.split(",").forEach(function(t){return n.save(t)}),n},Ap=function(t,e){var n=Yd.createElementNS?Yd.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Yd.createElement(t);return n&&n.style?n:Yd.createElement(t)},Rp=function t(e,n,i){var r=getComputedStyle(e);return r[n]||r.getPropertyValue(n.replace(op,"-$1").toLowerCase())||r.getPropertyValue(n)||!i&&t(e,Pp(n)||n,1)||""},Cp="O,Moz,ms,Ms,Webkit".split(","),Pp=function(t,e,n){var i=(e||$d).style,r=5;if(t in i&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);r--&&!(Cp[r]+t in i););return r<0?null:(3===r?"ms":r>=0?Cp[r]:"")+t},Lp=function(){"undefined"!=typeof window&&window.document&&(qd=window,Yd=qd.document,Kd=Yd.documentElement,$d=Ap("div")||{style:{}},Ap("div"),bp=Pp(bp),Sp=bp+"Origin",$d.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",tp=!!Pp("perspective"),Qd=Xd.core.reverting,Zd=1)},Ip=function(t){var e,n=t.ownerSVGElement,i=Ap("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=t.cloneNode(!0);r.style.display="block",i.appendChild(r),Kd.appendChild(i);try{e=r.getBBox()}catch(t){}return i.removeChild(r),Kd.removeChild(i),e},Np=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},Dp=function(t){var e,n;try{e=t.getBBox()}catch(i){e=Ip(t),n=1}return e&&(e.width||e.height)||n||(e=Ip(t)),!e||e.width||e.x||e.y?e:{x:+Np(t,["x","cx","x1"])||0,y:+Np(t,["y","cy","y1"])||0,width:0,height:0}},Up=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!Dp(t))},Op=function(t,e){if(e){var n,i=t.style;e in ep&&e!==Sp&&(e=bp),i.removeProperty?("ms"!==(n=e.substr(0,2))&&"webkit"!==e.substr(0,6)||(e="-"+e),i.removeProperty("--"===n?e:e.replace(op,"-$1").toLowerCase())):i.removeAttribute(e)}},kp=function(t,e,n,i,r,o){var s=new Id(t._pt,e,n,0,1,o?mp:fp);return t._pt=s,s.b=i,s.e=r,t._props.push(n),s},Fp={deg:1,rad:1,turn:1},Bp={grid:1,flex:1},Hp=function t(e,n,i,r){var o,s,a,l,c=parseFloat(i)||0,u=(i+"").trim().substr((c+"").length)||"px",d=$d.style,p=sp.test(n),h="svg"===e.tagName.toLowerCase(),f=(h?"client":"offset")+(p?"Width":"Height"),m=100,y="px"===r,x="%"===r;if(r===u||!c||Fp[r]||Fp[u])return c;if("px"!==u&&!y&&(c=t(e,n,i,"px")),l=e.getCTM&&Up(e),(x||"%"===u)&&(ep[n]||~n.indexOf("adius")))return o=l?e.getBBox()[p?"width":"height"]:e[f],Uc(x?c/o*m:c/100*o);if(d[p?"width":"height"]=m+(y?u:r),s="rem"!==r&&~n.indexOf("adius")||"em"===r&&e.appendChild&&!h?e:e.parentNode,l&&(s=(e.ownerSVGElement||{}).parentNode),s&&s!==Yd&&s.appendChild||(s=Yd.body),(a=s._gsap)&&x&&a.width&&p&&a.time===qu.time&&!a.uncache)return Uc(c/a.width*m);if(!x||"height"!==n&&"width"!==n)(x||"%"===u)&&!Bp[Rp(s,"display")]&&(d.position=Rp(e,"position")),s===e&&(d.position="static"),s.appendChild($d),o=$d[f],s.removeChild($d),d.position="absolute";else{var g=e.style[n];e.style[n]=m+r,o=e[f],g?e.style[n]=g:Op(e,n)}return p&&x&&((a=Ic(s)).time=qu.time,a.width=s[f]),Uc(y?o*c/m:o&&c?m/o*c:0)},Vp=function(t,e,n,i){var r;return Zd||Lp(),e in lp&&"transform"!==e&&~(e=lp[e]).indexOf(",")&&(e=e.split(",")[0]),ep[e]&&"transform"!==e?(r=th(t,i),r="transformOrigin"!==e?r[e]:r.svg?r.origin:eh(Rp(t,Sp))+" "+r.zOrigin+"px"):(!(r=t.style[e])||"auto"===r||i||~(r+"").indexOf("calc("))&&(r=qp[e]&&qp[e](t,e,n)||Rp(t,e)||Nc(t,e)||("opacity"===e?1:0)),n&&!~(r+"").trim().indexOf(" ")?Hp(t,e,r,n)+n:r},Gp=function(t,e,n,i){if(!n||"none"===n){var r=Pp(e,t,1),o=r&&Rp(t,r,1);o&&o!==n?(e=r,n=o):"borderColor"===e&&(n=Rp(t,"borderTopColor"))}var s,a,l,c,u,d,p,h,f,m,y,x=new Id(this._pt,t.style,e,0,1,Td),g=0,v=0;if(x.b=n,x.e=i,n+="","var(--"===(i+="").substring(0,6)&&(i=Rp(t,i.substring(4,i.indexOf(")")))),"auto"===i&&(d=t.style[e],t.style[e]=i,i=Rp(t,e)||i,d?t.style[e]=d:Op(t,e)),Xu(s=[n,i]),i=s[1],l=(n=s[0]).match(cc)||[],(i.match(cc)||[]).length){for(;a=cc.exec(i);)p=a[0],f=i.substring(g,a.index),u?u=(u+1)%5:"rgba("!==f.substr(-5)&&"hsla("!==f.substr(-5)||(u=1),p!==(d=l[v++]||"")&&(c=parseFloat(d)||0,y=d.substr((c+"").length),"="===p.charAt(1)&&(p=kc(c,p)+y),h=parseFloat(p),m=p.substr((h+"").length),g=cc.lastIndex-m.length,m||(m=m||Fl.units[e]||y,g===i.length&&(i+=m,x.e+=m)),y!==m&&(c=Hp(t,e,d,m)||0),x._pt={_next:x._pt,p:f||1===v?f:",",s:c,c:h-c,m:u&&u<4||"zIndex"===e?Math.round:0});x.c=g<i.length?i.substring(g,i.length):""}else x.r="display"===e&&"none"===i?mp:fp;return dc.test(i)&&(x.e=0),this._pt=x,x},Wp={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},jp=function(t){var e=t.split(" "),n=e[0],i=e[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==i&&"right"!==i||(t=n,n=i,i=t),e[0]=Wp[n]||n,e[1]=Wp[i]||i,e.join(" ")},Xp=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,i,r,o=e.t,s=o.style,a=e.u,l=o._gsap;if("all"===a||!0===a)s.cssText="",i=1;else for(r=(a=a.split(",")).length;--r>-1;)n=a[r],ep[n]&&(i=1,n="transformOrigin"===n?Sp:bp),Op(o,n);i&&(Op(o,bp),l&&(l.svg&&o.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",th(o,1),l.uncache=1,Ep(s)))}},qp={clearProps:function(t,e,n,i,r){if("isFromStart"!==r.data){var o=t._pt=new Id(t._pt,e,n,0,0,Xp);return o.u=i,o.pr=-10,o.tween=r,t._props.push(n),1}}},Yp=[1,0,0,1,0,0],Kp={},Zp=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},$p=function(t){var e=Rp(t,bp);return Zp(e)?Yp:e.substr(7).match(lc).map(Uc)},Jp=function(t,e){var n,i,r,o,s=t._gsap||Ic(t),a=t.style,l=$p(t);return s.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(r=t.transform.baseVal.consolidate().matrix).a,r.b,r.c,r.d,r.e,r.f]).join(",")?Yp:l:(l!==Yp||t.offsetParent||t===Kd||s.svg||(r=a.display,a.display="block",(n=t.parentNode)&&(t.offsetParent||t.getBoundingClientRect().width)||(o=1,i=t.nextElementSibling,Kd.appendChild(t)),l=$p(t),r?a.display=r:Op(t,"display"),o&&(i?n.insertBefore(t,i):n?n.appendChild(t):Kd.removeChild(t))),e&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},Qp=function(t,e,n,i,r,o){var s,a,l,c=t._gsap,u=r||Jp(t,!0),d=c.xOrigin||0,p=c.yOrigin||0,h=c.xOffset||0,f=c.yOffset||0,m=u[0],y=u[1],x=u[2],g=u[3],v=u[4],_=u[5],z=e.split(" "),b=parseFloat(z[0])||0,S=parseFloat(z[1])||0;n?u!==Yp&&(a=m*g-y*x)&&(l=b*(-y/a)+S*(m/a)-(m*_-y*v)/a,b=b*(g/a)+S*(-x/a)+(x*_-g*v)/a,S=l):(b=(s=Dp(t)).x+(~z[0].indexOf("%")?b/100*s.width:b),S=s.y+(~(z[1]||z[0]).indexOf("%")?S/100*s.height:S)),i||!1!==i&&c.smooth?(v=b-d,_=S-p,c.xOffset=h+(v*m+_*x)-v,c.yOffset=f+(v*y+_*g)-_):c.xOffset=c.yOffset=0,c.xOrigin=b,c.yOrigin=S,c.smooth=!!i,c.origin=e,c.originIsAbsolute=!!n,t.style[Sp]="0px 0px",o&&(kp(o,c,"xOrigin",d,b),kp(o,c,"yOrigin",p,S),kp(o,c,"xOffset",h,c.xOffset),kp(o,c,"yOffset",f,c.yOffset)),t.setAttribute("data-svg-origin",b+" "+S)},th=function(t,e){var n=t._gsap||new sd(t);if("x"in n&&!e&&!n.uncache)return n;var i,r,o,s,a,l,c,u,d,p,h,f,m,y,x,g,v,_,z,b,S,M,E,w,T,A,R,C,P,L,I,N,D=t.style,U=n.scaleX<0,O="px",k="deg",F=getComputedStyle(t),B=Rp(t,Sp)||"0";return i=r=o=l=c=u=d=p=h=0,s=a=1,n.svg=!(!t.getCTM||!Up(t)),F.translate&&("none"===F.translate&&"none"===F.scale&&"none"===F.rotate||(D[bp]=("none"!==F.translate?"translate3d("+(F.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==F.rotate?"rotate("+F.rotate+") ":"")+("none"!==F.scale?"scale("+F.scale.split(" ").join(",")+") ":"")+("none"!==F[bp]?F[bp]:"")),D.scale=D.rotate=D.translate="none"),y=Jp(t,n.svg),n.svg&&(n.uncache?(T=t.getBBox(),B=n.xOrigin-T.x+"px "+(n.yOrigin-T.y)+"px",w=""):w=!e&&t.getAttribute("data-svg-origin"),Qp(t,w||B,!!w||n.originIsAbsolute,!1!==n.smooth,y)),f=n.xOrigin||0,m=n.yOrigin||0,y!==Yp&&(_=y[0],z=y[1],b=y[2],S=y[3],i=M=y[4],r=E=y[5],6===y.length?(s=Math.sqrt(_*_+z*z),a=Math.sqrt(S*S+b*b),l=_||z?rp(z,_)*np:0,(d=b||S?rp(b,S)*np+l:0)&&(a*=Math.abs(Math.cos(d*ip))),n.svg&&(i-=f-(f*_+m*b),r-=m-(f*z+m*S))):(N=y[6],L=y[7],R=y[8],C=y[9],P=y[10],I=y[11],i=y[12],r=y[13],o=y[14],c=(x=rp(N,P))*np,x&&(w=M*(g=Math.cos(-x))+R*(v=Math.sin(-x)),T=E*g+C*v,A=N*g+P*v,R=M*-v+R*g,C=E*-v+C*g,P=N*-v+P*g,I=L*-v+I*g,M=w,E=T,N=A),u=(x=rp(-b,P))*np,x&&(g=Math.cos(-x),I=S*(v=Math.sin(-x))+I*g,_=w=_*g-R*v,z=T=z*g-C*v,b=A=b*g-P*v),l=(x=rp(z,_))*np,x&&(w=_*(g=Math.cos(x))+z*(v=Math.sin(x)),T=M*g+E*v,z=z*g-_*v,E=E*g-M*v,_=w,M=T),c&&Math.abs(c)+Math.abs(l)>359.9&&(c=l=0,u=180-u),s=Uc(Math.sqrt(_*_+z*z+b*b)),a=Uc(Math.sqrt(E*E+N*N)),x=rp(M,E),d=Math.abs(x)>2e-4?x*np:0,h=I?1/(I<0?-I:I):0),n.svg&&(w=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!Zp(Rp(t,bp)),w&&t.setAttribute("transform",w))),Math.abs(d)>90&&Math.abs(d)<270&&(U?(s*=-1,d+=l<=0?180:-180,l+=l<=0?180:-180):(a*=-1,d+=d<=0?180:-180)),e=e||n.uncache,n.x=i-((n.xPercent=i&&(!e&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-i)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+O,n.y=r-((n.yPercent=r&&(!e&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-r)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+O,n.z=o+O,n.scaleX=Uc(s),n.scaleY=Uc(a),n.rotation=Uc(l)+k,n.rotationX=Uc(c)+k,n.rotationY=Uc(u)+k,n.skewX=d+k,n.skewY=p+k,n.transformPerspective=h+O,(n.zOrigin=parseFloat(B.split(" ")[2])||!e&&n.zOrigin||0)&&(D[Sp]=eh(B)),n.xOffset=n.yOffset=0,n.force3D=Fl.force3D,n.renderTransform=n.svg?lh:tp?ah:ih,n.uncache=0,n},eh=function(t){return(t=t.split(" "))[0]+" "+t[1]},nh=function(t,e,n){var i=_u(e);return Uc(parseFloat(e)+parseFloat(Hp(t,"x",n+"px",i)))+i},ih=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,ah(t,e)},rh="0deg",oh="0px",sh=") ",ah=function(t,e){var n=e||this,i=n.xPercent,r=n.yPercent,o=n.x,s=n.y,a=n.z,l=n.rotation,c=n.rotationY,u=n.rotationX,d=n.skewX,p=n.skewY,h=n.scaleX,f=n.scaleY,m=n.transformPerspective,y=n.force3D,x=n.target,g=n.zOrigin,v="",_="auto"===y&&t&&1!==t||!0===y;if(g&&(u!==rh||c!==rh)){var z,b=parseFloat(c)*ip,S=Math.sin(b),M=Math.cos(b);b=parseFloat(u)*ip,z=Math.cos(b),o=nh(x,o,S*z*-g),s=nh(x,s,-Math.sin(b)*-g),a=nh(x,a,M*z*-g+g)}m!==oh&&(v+="perspective("+m+sh),(i||r)&&(v+="translate("+i+"%, "+r+"%) "),(_||o!==oh||s!==oh||a!==oh)&&(v+=a!==oh||_?"translate3d("+o+", "+s+", "+a+") ":"translate("+o+", "+s+sh),l!==rh&&(v+="rotate("+l+sh),c!==rh&&(v+="rotateY("+c+sh),u!==rh&&(v+="rotateX("+u+sh),d===rh&&p===rh||(v+="skew("+d+", "+p+sh),1===h&&1===f||(v+="scale("+h+", "+f+sh),x.style[bp]=v||"translate(0, 0)"},lh=function(t,e){var n,i,r,o,s,a=e||this,l=a.xPercent,c=a.yPercent,u=a.x,d=a.y,p=a.rotation,h=a.skewX,f=a.skewY,m=a.scaleX,y=a.scaleY,x=a.target,g=a.xOrigin,v=a.yOrigin,_=a.xOffset,z=a.yOffset,b=a.forceCSS,S=parseFloat(u),M=parseFloat(d);p=parseFloat(p),h=parseFloat(h),(f=parseFloat(f))&&(h+=f=parseFloat(f),p+=f),p||h?(p*=ip,h*=ip,n=Math.cos(p)*m,i=Math.sin(p)*m,r=Math.sin(p-h)*-y,o=Math.cos(p-h)*y,h&&(f*=ip,s=Math.tan(h-f),r*=s=Math.sqrt(1+s*s),o*=s,f&&(s=Math.tan(f),n*=s=Math.sqrt(1+s*s),i*=s)),n=Uc(n),i=Uc(i),r=Uc(r),o=Uc(o)):(n=m,o=y,i=r=0),(S&&!~(u+"").indexOf("px")||M&&!~(d+"").indexOf("px"))&&(S=Hp(x,"x",u,"px"),M=Hp(x,"y",d,"px")),(g||v||_||z)&&(S=Uc(S+g-(g*n+v*r)+_),M=Uc(M+v-(g*i+v*o)+z)),(l||c)&&(s=x.getBBox(),S=Uc(S+l/100*s.width),M=Uc(M+c/100*s.height)),s="matrix("+n+","+i+","+r+","+o+","+S+","+M+")",x.setAttribute("transform",s),b&&(x.style[bp]=s)},ch=function(t,e,n,i,r){var o,s,a=360,l=Kl(r),c=parseFloat(r)*(l&&~r.indexOf("rad")?np:1)-i,u=i+c+"deg";return l&&("short"===(o=r.split("_")[1])&&(c%=a)!==c%180&&(c+=c<0?a:-360),"cw"===o&&c<0?c=(c+36e9)%a-~~(c/a)*a:"ccw"===o&&c>0&&(c=(c-36e9)%a-~~(c/a)*a)),t._pt=s=new Id(t._pt,e,n,i,c,up),s.e=u,s.u="deg",t._props.push(n),s},uh=function(t,e){for(var n in e)t[n]=e[n];return t},dh=function(t,e,n){var i,r,o,s,a,l,c,u=uh({},n._gsap),d=n.style;for(r in u.svg?(o=n.getAttribute("transform"),n.setAttribute("transform",""),d[bp]=e,i=th(n,1),Op(n,bp),n.setAttribute("transform",o)):(o=getComputedStyle(n)[bp],d[bp]=e,i=th(n,1),d[bp]=o),ep)(o=u[r])!==(s=i[r])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(r)<0&&(a=_u(o)!==(c=_u(s))?Hp(n,r,o,c):parseFloat(o),l=parseFloat(s),t._pt=new Id(t._pt,i,r,a,l-a,cp),t._pt.u=c||0,t._props.push(r));uh(i,u)};Dc("padding,margin,Width,Radius",function(t,e){var n="Top",i="Right",r="Bottom",o="Left",s=(e<3?[n,i,r,o]:[n+o,n+i,r+i,r+o]).map(function(n){return e<2?t+n:"border"+n+t});qp[e>1?"border"+t:t]=function(t,e,n,i,r){var o,a;if(arguments.length<4)return o=s.map(function(e){return Vp(t,e,n)}),5===(a=o.join(" ")).split(o[0]).length?o[0]:a;o=(i+"").split(" "),a={},s.forEach(function(t,e){return a[t]=o[e]=o[e]||o[(e-1)/2|0]}),t.init(e,a,r)}});var ph,hh,fh={name:"css",register:Lp,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,i,r){var o,s,a,l,c,u,d,p,h,f,m,y,x,g,v,_,z,b=this._props,S=t.style,M=n.vars.startAt;for(d in Zd||Lp(),this.styles=this.styles||Tp(t),_=this.styles.props,this.tween=n,e)if("autoRound"!==d&&(s=e[d],!Tc[d]||!hd(d,e,n,i,t,r)))if(c=typeof s,u=qp[d],"function"===c&&(c=typeof(s=s.call(n,i,t,r))),"string"===c&&~s.indexOf("random(")&&(s=Pu(s)),u)u(this,t,d,s,n)&&(v=1);else if("--"===d.substr(0,2))o=(getComputedStyle(t).getPropertyValue(d)+"").trim(),s+="",Wu.lastIndex=0,Wu.test(o)||(p=_u(o),(h=_u(s))?p!==h&&(o=Hp(t,d,o,h)+h):p&&(s+=p)),this.add(S,"setProperty",o,s,i,r,0,0,d),b.push(d),_.push(d,0,S[d]);else if("undefined"!==c){if(M&&d in M?(o="function"==typeof M[d]?M[d].call(n,i,t,r):M[d],Kl(o)&&~o.indexOf("random(")&&(o=Pu(o)),_u(o+"")||"auto"===o||(o+=Fl.units[d]||_u(Vp(t,d))||""),"="===(o+"").charAt(1)&&(o=Vp(t,d))):o=Vp(t,d),l=parseFloat(o),(f="string"===c&&"="===s.charAt(1)&&s.substr(0,2))&&(s=s.substr(2)),a=parseFloat(s),d in lp&&("autoAlpha"===d&&(1===l&&"hidden"===Vp(t,"visibility")&&a&&(l=0),_.push("visibility",0,S.visibility),kp(this,S,"visibility",l?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==d&&"transform"!==d&&~(d=lp[d]).indexOf(",")&&(d=d.split(",")[0])),m=d in ep){if(this.styles.save(d),z=s,"string"===c&&"var(--"===s.substring(0,6)){if("calc("===(s=Rp(t,s.substring(4,s.indexOf(")")))).substring(0,5)){var E=t.style.perspective;t.style.perspective=s,s=Rp(t,"perspective"),E?t.style.perspective=E:Op(t,"perspective")}a=parseFloat(s)}if(y||((x=t._gsap).renderTransform&&!e.parseTransform||th(t,e.parseTransform),g=!1!==e.smoothOrigin&&x.smooth,(y=this._pt=new Id(this._pt,S,bp,0,1,x.renderTransform,x,0,-1)).dep=1),"scale"===d)this._pt=new Id(this._pt,x,"scaleY",x.scaleY,(f?kc(x.scaleY,f+a):a)-x.scaleY||0,cp),this._pt.u=0,b.push("scaleY",d),d+="X";else{if("transformOrigin"===d){_.push(Sp,0,S[Sp]),s=jp(s),x.svg?Qp(t,s,0,g,0,this):((h=parseFloat(s.split(" ")[2])||0)!==x.zOrigin&&kp(this,x,"zOrigin",x.zOrigin,h),kp(this,S,d,eh(o),eh(s)));continue}if("svgOrigin"===d){Qp(t,s,1,g,0,this);continue}if(d in Kp){ch(this,x,d,l,f?kc(l,f+s):s);continue}if("smoothOrigin"===d){kp(this,x,"smooth",x.smooth,s);continue}if("force3D"===d){x[d]=s;continue}if("transform"===d){dh(this,s,t);continue}}}else d in S||(d=Pp(d)||d);if(m||(a||0===a)&&(l||0===l)&&!ap.test(s)&&d in S)a||(a=0),(p=(o+"").substr((l+"").length))!==(h=_u(s)||(d in Fl.units?Fl.units[d]:p))&&(l=Hp(t,d,o,h)),this._pt=new Id(this._pt,m?x:S,d,l,(f?kc(l,f+a):a)-l,m||"px"!==h&&"zIndex"!==d||!1===e.autoRound?cp:hp),this._pt.u=h||0,m&&z!==s?(this._pt.b=o,this._pt.e=z,this._pt.r=pp):p!==h&&"%"!==h&&(this._pt.b=o,this._pt.r=dp);else if(d in S)Gp.call(this,t,d,o,f?f+s:s);else if(d in t)this.add(t,d,o||t[d],f?f+s:s,i,r);else if("parseTransform"!==d){xc(d,s);continue}m||(d in S?_.push(d,0,S[d]):"function"==typeof t[d]?_.push(d,2,t[d]()):_.push(d,1,o||t[d])),b.push(d)}v&&Ld(this)},render:function(t,e){if(e.tween._time||!Qd())for(var n=e._pt;n;)n.r(t,n.d),n=n._next;else e.styles.revert()},get:Vp,aliases:lp,getSetter:function(t,e,n){var i=lp[e];return i&&i.indexOf(",")<0&&(e=i),e in ep&&e!==Sp&&(t._gsap.x||Vp(t,"x"))?n&&Jd===n?"scale"===e?vp:gp:(Jd=n||{})&&("scale"===e?_p:zp):t.style&&!Jl(t.style[e])?yp:~e.indexOf("-")?xp:Md(t,e)},core:{_removeProperty:Op,_getMatrix:Jp}};Xd.utils.checkPrefix=Pp,Xd.core.getStyleSaver=Tp,hh=Dc("x,y,z,scale,scaleX,scaleY,xPercent,yPercent"+","+(ph="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(t){ep[t]=1}),Dc(ph,function(t){Fl.units[t]="deg",Kp[t]=1}),lp[hh[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+ph,Dc("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(t){var e=t.split(":");lp[e[1]]=hh[e[0]]}),Dc("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Fl.units[t]="px"}),Xd.registerPlugin(fh);var mh=Xd.registerPlugin(fh)||Xd;function yh(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}mh.core.Tween;var xh,gh,vh,_h,zh,bh,Sh,Mh,Eh,wh,Th,Ah,Rh,Ch=function(){return xh||"undefined"!=typeof window&&(xh=window.gsap)&&xh.registerPlugin&&xh},Ph=1,Lh=[],Ih=[],Nh=[],Dh=Date.now,Uh=function(t,e){return e},Oh=function(t,e){return~Nh.indexOf(t)&&Nh[Nh.indexOf(t)+1][e]},kh=function(t){return!!~wh.indexOf(t)},Fh=function(t,e,n,i,r){return t.addEventListener(e,n,{passive:!1!==i,capture:!!r})},Bh=function(t,e,n,i){return t.removeEventListener(e,n,!!i)},Hh="scrollLeft",Vh="scrollTop",Gh=function(){return Th&&Th.isPressed||Ih.cache++},Wh=function(t,e){var n=function n(i){if(i||0===i){Ph&&(vh.history.scrollRestoration="manual");var r=Th&&Th.isPressed;i=n.v=Math.round(i)||(Th&&Th.iOS?1:0),t(i),n.cacheID=Ih.cache,r&&Uh("ss",i)}else(e||Ih.cache!==n.cacheID||Uh("ref"))&&(n.cacheID=Ih.cache,n.v=t());return n.v+n.offset};return n.offset=0,t&&n},jh={s:Hh,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Wh(function(t){return arguments.length?vh.scrollTo(t,Xh.sc()):vh.pageXOffset||_h[Hh]||zh[Hh]||bh[Hh]||0})},Xh={s:Vh,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:jh,sc:Wh(function(t){return arguments.length?vh.scrollTo(jh.sc(),t):vh.pageYOffset||_h[Vh]||zh[Vh]||bh[Vh]||0})},qh=function(t,e){return(e&&e._ctx&&e._ctx.selector||xh.utils.toArray)(t)[0]||("string"==typeof t&&!1!==xh.config().nullTargetWarn?console.warn("Element not found:",t):null)},Yh=function(t,e){var n=e.s,i=e.sc;kh(t)&&(t=_h.scrollingElement||zh);var r=Ih.indexOf(t),o=i===Xh.sc?1:2;!~r&&(r=Ih.push(t)-1),Ih[r+o]||Fh(t,"scroll",Gh);var s=Ih[r+o],a=s||(Ih[r+o]=Wh(Oh(t,n),!0)||(kh(t)?i:Wh(function(e){return arguments.length?t[n]=e:t[n]})));return a.target=t,s||(a.smooth="smooth"===xh.getProperty(t,"scrollBehavior")),a},Kh=function(t,e,n){var i=t,r=t,o=Dh(),s=o,a=e||50,l=Math.max(500,3*a),c=function(t,e){var l=Dh();e||l-o>a?(r=i,i=t,s=o,o=l):n?i+=t:i=r+(t-r)/(l-s)*(o-s)};return{update:c,reset:function(){r=i=n?0:i,s=o=0},getVelocity:function(t){var e=s,a=r,u=Dh();return(t||0===t)&&t!==i&&c(t),o===s||u-s>l?0:(i+(n?a:-a))/((n?u:o)-e)*1e3}}},Zh=function(t,e){return e&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},$h=function(t){var e=Math.max.apply(Math,t),n=Math.min.apply(Math,t);return Math.abs(e)>=Math.abs(n)?e:n},Jh=function(){var t,e,n,i;(Eh=xh.core.globals().ScrollTrigger)&&Eh.core&&(t=Eh.core,e=t.bridge||{},n=t._scrollers,i=t._proxies,n.push.apply(n,Ih),i.push.apply(i,Nh),Ih=n,Nh=i,Uh=function(t,n){return e[t](n)})},Qh=function(t){return xh=t||Ch(),!gh&&xh&&"undefined"!=typeof document&&document.body&&(vh=window,_h=document,zh=_h.documentElement,bh=_h.body,wh=[vh,_h,zh,bh],xh.utils.clamp,Rh=xh.core.context||function(){},Mh="onpointerenter"in bh?"pointer":"mouse",Sh=tf.isTouch=vh.matchMedia&&vh.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in vh||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Ah=tf.eventTypes=("ontouchstart"in zh?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in zh?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return Ph=0},500),Jh(),gh=1),gh};jh.op=Xh,Ih.cache=0;var tf=function(){function t(t){this.init(t)}var e,n;return t.prototype.init=function(t){gh||Qh(xh)||console.warn("Please gsap.registerPlugin(Observer)"),Eh||Jh();var e=t.tolerance,n=t.dragMinimum,i=t.type,r=t.target,o=t.lineHeight,s=t.debounce,a=t.preventDefault,l=t.onStop,c=t.onStopDelay,u=t.ignore,d=t.wheelSpeed,p=t.event,h=t.onDragStart,f=t.onDragEnd,m=t.onDrag,y=t.onPress,x=t.onRelease,g=t.onRight,v=t.onLeft,_=t.onUp,z=t.onDown,b=t.onChangeX,S=t.onChangeY,M=t.onChange,E=t.onToggleX,w=t.onToggleY,T=t.onHover,A=t.onHoverEnd,R=t.onMove,C=t.ignoreCheck,P=t.isNormalizer,L=t.onGestureStart,I=t.onGestureEnd,N=t.onWheel,D=t.onEnable,U=t.onDisable,O=t.onClick,k=t.scrollSpeed,F=t.capture,B=t.allowClicks,H=t.lockAxis,V=t.onLockAxis;this.target=r=qh(r)||zh,this.vars=t,u&&(u=xh.utils.toArray(u)),e=e||1e-9,n=n||0,d=d||1,k=k||1,i=i||"wheel,touch,pointer",s=!1!==s,o||(o=parseFloat(vh.getComputedStyle(bh).lineHeight)||22);var G,W,j,X,q,Y,K,Z=this,$=0,J=0,Q=t.passive||!a&&!1!==t.passive,tt=Yh(r,jh),et=Yh(r,Xh),nt=tt(),it=et(),rt=~i.indexOf("touch")&&!~i.indexOf("pointer")&&"pointerdown"===Ah[0],ot=kh(r),st=r.ownerDocument||_h,at=[0,0,0],lt=[0,0,0],ct=0,ut=function(){return ct=Dh()},dt=function(t,e){return(Z.event=t)&&u&&function(t,e){for(var n=e.length;n--;)if(e[n]===t||e[n].contains(t))return!0;return!1}(t.target,u)||e&&rt&&"touch"!==t.pointerType||C&&C(t,e)},pt=function(){var t=Z.deltaX=$h(at),n=Z.deltaY=$h(lt),i=Math.abs(t)>=e,r=Math.abs(n)>=e;M&&(i||r)&&M(Z,t,n,at,lt),i&&(g&&Z.deltaX>0&&g(Z),v&&Z.deltaX<0&&v(Z),b&&b(Z),E&&Z.deltaX<0!=$<0&&E(Z),$=Z.deltaX,at[0]=at[1]=at[2]=0),r&&(z&&Z.deltaY>0&&z(Z),_&&Z.deltaY<0&&_(Z),S&&S(Z),w&&Z.deltaY<0!=J<0&&w(Z),J=Z.deltaY,lt[0]=lt[1]=lt[2]=0),(X||j)&&(R&&R(Z),j&&(h&&1===j&&h(Z),m&&m(Z),j=0),X=!1),Y&&!(Y=!1)&&V&&V(Z),q&&(N(Z),q=!1),G=0},ht=function(t,e,n){at[n]+=t,lt[n]+=e,Z._vx.update(t),Z._vy.update(e),s?G||(G=requestAnimationFrame(pt)):pt()},ft=function(t,e){H&&!K&&(Z.axis=K=Math.abs(t)>Math.abs(e)?"x":"y",Y=!0),"y"!==K&&(at[2]+=t,Z._vx.update(t,!0)),"x"!==K&&(lt[2]+=e,Z._vy.update(e,!0)),s?G||(G=requestAnimationFrame(pt)):pt()},mt=function(t){if(!dt(t,1)){var e=(t=Zh(t,a)).clientX,i=t.clientY,r=e-Z.x,o=i-Z.y,s=Z.isDragging;Z.x=e,Z.y=i,(s||(r||o)&&(Math.abs(Z.startX-e)>=n||Math.abs(Z.startY-i)>=n))&&(j||(j=s?2:1),s||(Z.isDragging=!0),ft(r,o))}},yt=Z.onPress=function(t){dt(t,1)||t&&t.button||(Z.axis=K=null,W.pause(),Z.isPressed=!0,t=Zh(t),$=J=0,Z.startX=Z.x=t.clientX,Z.startY=Z.y=t.clientY,Z._vx.reset(),Z._vy.reset(),Fh(P?r:st,Ah[1],mt,Q,!0),Z.deltaX=Z.deltaY=0,y&&y(Z))},xt=Z.onRelease=function(t){if(!dt(t,1)){Bh(P?r:st,Ah[1],mt,!0);var e=!isNaN(Z.y-Z.startY),n=Z.isDragging,i=n&&(Math.abs(Z.x-Z.startX)>3||Math.abs(Z.y-Z.startY)>3),o=Zh(t);!i&&e&&(Z._vx.reset(),Z._vy.reset(),a&&B&&xh.delayedCall(.08,function(){if(Dh()-ct>300&&!t.defaultPrevented)if(t.target.click)t.target.click();else if(st.createEvent){var e=st.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,vh,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(e)}})),Z.isDragging=Z.isGesturing=Z.isPressed=!1,l&&n&&!P&&W.restart(!0),j&&pt(),f&&n&&f(Z),x&&x(Z,i)}},gt=function(t){return t.touches&&t.touches.length>1&&(Z.isGesturing=!0)&&L(t,Z.isDragging)},vt=function(){return(Z.isGesturing=!1)||I(Z)},_t=function(t){if(!dt(t)){var e=tt(),n=et();ht((e-nt)*k,(n-it)*k,1),nt=e,it=n,l&&W.restart(!0)}},zt=function(t){if(!dt(t)){t=Zh(t,a),N&&(q=!0);var e=(1===t.deltaMode?o:2===t.deltaMode?vh.innerHeight:1)*d;ht(t.deltaX*e,t.deltaY*e,0),l&&!P&&W.restart(!0)}},bt=function(t){if(!dt(t)){var e=t.clientX,n=t.clientY,i=e-Z.x,r=n-Z.y;Z.x=e,Z.y=n,X=!0,l&&W.restart(!0),(i||r)&&ft(i,r)}},St=function(t){Z.event=t,T(Z)},Mt=function(t){Z.event=t,A(Z)},Et=function(t){return dt(t)||Zh(t,a)&&O(Z)};W=Z._dc=xh.delayedCall(c||.25,function(){Z._vx.reset(),Z._vy.reset(),W.pause(),l&&l(Z)}).pause(),Z.deltaX=Z.deltaY=0,Z._vx=Kh(0,50,!0),Z._vy=Kh(0,50,!0),Z.scrollX=tt,Z.scrollY=et,Z.isDragging=Z.isGesturing=Z.isPressed=!1,Rh(this),Z.enable=function(t){return Z.isEnabled||(Fh(ot?st:r,"scroll",Gh),i.indexOf("scroll")>=0&&Fh(ot?st:r,"scroll",_t,Q,F),i.indexOf("wheel")>=0&&Fh(r,"wheel",zt,Q,F),(i.indexOf("touch")>=0&&Sh||i.indexOf("pointer")>=0)&&(Fh(r,Ah[0],yt,Q,F),Fh(st,Ah[2],xt),Fh(st,Ah[3],xt),B&&Fh(r,"click",ut,!0,!0),O&&Fh(r,"click",Et),L&&Fh(st,"gesturestart",gt),I&&Fh(st,"gestureend",vt),T&&Fh(r,Mh+"enter",St),A&&Fh(r,Mh+"leave",Mt),R&&Fh(r,Mh+"move",bt)),Z.isEnabled=!0,Z.isDragging=Z.isGesturing=Z.isPressed=X=j=!1,Z._vx.reset(),Z._vy.reset(),nt=tt(),it=et(),t&&t.type&&yt(t),D&&D(Z)),Z},Z.disable=function(){Z.isEnabled&&(Lh.filter(function(t){return t!==Z&&kh(t.target)}).length||Bh(ot?st:r,"scroll",Gh),Z.isPressed&&(Z._vx.reset(),Z._vy.reset(),Bh(P?r:st,Ah[1],mt,!0)),Bh(ot?st:r,"scroll",_t,F),Bh(r,"wheel",zt,F),Bh(r,Ah[0],yt,F),Bh(st,Ah[2],xt),Bh(st,Ah[3],xt),Bh(r,"click",ut,!0),Bh(r,"click",Et),Bh(st,"gesturestart",gt),Bh(st,"gestureend",vt),Bh(r,Mh+"enter",St),Bh(r,Mh+"leave",Mt),Bh(r,Mh+"move",bt),Z.isEnabled=Z.isPressed=Z.isDragging=!1,U&&U(Z))},Z.kill=Z.revert=function(){Z.disable();var t=Lh.indexOf(Z);t>=0&&Lh.splice(t,1),Th===Z&&(Th=0)},Lh.push(Z),P&&kh(r)&&(Th=Z),Z.enable(p)},e=t,(n=[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}])&&yh(e.prototype,n),t}();tf.version="3.14.2",tf.create=function(t){return new tf(t)},tf.register=Qh,tf.getAll=function(){return Lh.slice()},tf.getById=function(t){return Lh.filter(function(e){return e.vars.id===t})[0]},Ch()&&xh.registerPlugin(tf);var ef,nf,rf,of,sf,af,lf,cf,uf,df,pf,hf,ff,mf,yf,xf,gf,vf,_f,zf,bf,Sf,Mf,Ef,wf,Tf,Af,Rf,Cf,Pf,Lf,If,Nf,Df,Uf,Of,kf,Ff,Bf=1,Hf=Date.now,Vf=Hf(),Gf=0,Wf=0,jf=function(t,e,n){var i=om(t)&&("clamp("===t.substr(0,6)||t.indexOf("max")>-1);return n["_"+e+"Clamp"]=i,i?t.substr(6,t.length-7):t},Xf=function(t,e){return!e||om(t)&&"clamp("===t.substr(0,6)?t:"clamp("+t+")"},qf=function t(){return Wf&&requestAnimationFrame(t)},Yf=function(){return mf=1},Kf=function(){return mf=0},Zf=function(t){return t},$f=function(t){return Math.round(1e5*t)/1e5||0},Jf=function(){return"undefined"!=typeof window},Qf=function(){return ef||Jf()&&(ef=window.gsap)&&ef.registerPlugin&&ef},tm=function(t){return!!~lf.indexOf(t)},em=function(t){return("Height"===t?Lf:rf["inner"+t])||sf["client"+t]||af["client"+t]},nm=function(t){return Oh(t,"getBoundingClientRect")||(tm(t)?function(){return yy.width=rf.innerWidth,yy.height=Lf,yy}:function(){return Am(t)})},im=function(t,e){var n=e.s,i=e.d2,r=e.d,o=e.a;return Math.max(0,(n="scroll"+i)&&(o=Oh(t,n))?o()-nm(t)()[r]:tm(t)?(sf[n]||af[n])-em(i):t[n]-t["offset"+i])},rm=function(t,e){for(var n=0;n<_f.length;n+=3)(!e||~e.indexOf(_f[n+1]))&&t(_f[n],_f[n+1],_f[n+2])},om=function(t){return"string"==typeof t},sm=function(t){return"function"==typeof t},am=function(t){return"number"==typeof t},lm=function(t){return"object"==typeof t},cm=function(t,e,n){return t&&t.progress(e?0:1)&&n&&t.pause()},um=function(t,e){if(t.enabled){var n=t._ctx?t._ctx.add(function(){return e(t)}):e(t);n&&n.totalTime&&(t.callbackAnimation=n)}},dm=Math.abs,pm="left",hm="right",fm="bottom",mm="width",ym="height",xm="Right",gm="Left",vm="Top",_m="Bottom",zm="padding",bm="margin",Sm="Width",Mm="Height",Em="px",wm=function(t){return rf.getComputedStyle(t)},Tm=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},Am=function(t,e){var n=e&&"matrix(1, 0, 0, 1, 0, 0)"!==wm(t)[yf]&&ef.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=t.getBoundingClientRect();return n&&n.progress(0).kill(),i},Rm=function(t,e){var n=e.d2;return t["offset"+n]||t["client"+n]||0},Cm=function(t){var e,n=[],i=t.labels,r=t.duration();for(e in i)n.push(i[e]/r);return n},Pm=function(t){var e=ef.utils.snap(t),n=Array.isArray(t)&&t.slice(0).sort(function(t,e){return t-e});return n?function(t,i,r){var o;if(void 0===r&&(r=.001),!i)return e(t);if(i>0){for(t-=r,o=0;o<n.length;o++)if(n[o]>=t)return n[o];return n[o-1]}for(o=n.length,t+=r;o--;)if(n[o]<=t)return n[o];return n[0]}:function(n,i,r){void 0===r&&(r=.001);var o=e(n);return!i||Math.abs(o-n)<r||o-n<0==i<0?o:e(i<0?n-t:n+t)}},Lm=function(t,e,n,i){return n.split(",").forEach(function(n){return t(e,n,i)})},Im=function(t,e,n,i,r){return t.addEventListener(e,n,{passive:!i,capture:!!r})},Nm=function(t,e,n,i){return t.removeEventListener(e,n,!!i)},Dm=function(t,e,n){(n=n&&n.wheelHandler)&&(t(e,"wheel",n),t(e,"touchmove",n))},Um={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Om={toggleActions:"play",anticipatePin:0},km={top:0,left:0,center:.5,bottom:1,right:1},Fm=function(t,e){if(om(t)){var n=t.indexOf("="),i=~n?+(t.charAt(n-1)+1)*parseFloat(t.substr(n+1)):0;~n&&(t.indexOf("%")>n&&(i*=e/100),t=t.substr(0,n-1)),t=i+(t in km?km[t]*e:~t.indexOf("%")?parseFloat(t)*e/100:parseFloat(t)||0)}return t},Bm=function(t,e,n,i,r,o,s,a){var l=r.startColor,c=r.endColor,u=r.fontSize,d=r.indent,p=r.fontWeight,h=of.createElement("div"),f=tm(n)||"fixed"===Oh(n,"pinType"),m=-1!==t.indexOf("scroller"),y=f?af:n,x=-1!==t.indexOf("start"),g=x?l:c,v="border-color:"+g+";font-size:"+u+";color:"+g+";font-weight:"+p+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return v+="position:"+((m||a)&&f?"fixed;":"absolute;"),(m||a||!f)&&(v+=(i===Xh?hm:fm)+":"+(o+parseFloat(d))+"px;"),s&&(v+="box-sizing:border-box;text-align:left;width:"+s.offsetWidth+"px;"),h._isStart=x,h.setAttribute("class","gsap-marker-"+t+(e?" marker-"+e:"")),h.style.cssText=v,h.innerText=e||0===e?t+"-"+e:t,y.children[0]?y.insertBefore(h,y.children[0]):y.appendChild(h),h._offset=h["offset"+i.op.d2],Hm(h,0,i,x),h},Hm=function(t,e,n,i){var r={display:"block"},o=n[i?"os2":"p2"],s=n[i?"p2":"os2"];t._isFlipped=i,r[n.a+"Percent"]=i?-100:0,r[n.a]=i?"1px":0,r["border"+o+Sm]=1,r["border"+s+Sm]=0,r[n.p]=e+"px",ef.set(t,r)},Vm=[],Gm={},Wm=function(){return Hf()-Gf>34&&(Uf||(Uf=requestAnimationFrame(cy)))},jm=function(){(!Mf||!Mf.isPressed||Mf.startX>af.clientWidth)&&(Ih.cache++,Mf?Uf||(Uf=requestAnimationFrame(cy)):cy(),Gf||$m("scrollStart"),Gf=Hf())},Xm=function(){Tf=rf.innerWidth,wf=rf.innerHeight},qm=function(t){Ih.cache++,(!0===t||!ff&&!Sf&&!of.fullscreenElement&&!of.webkitFullscreenElement&&(!Ef||Tf!==rf.innerWidth||Math.abs(rf.innerHeight-wf)>.25*rf.innerHeight))&&cf.restart(!0)},Ym={},Km=[],Zm=function t(){return Nm(Sy,"scrollEnd",t)||sy(!0)},$m=function(t){return Ym[t]&&Ym[t].map(function(t){return t()})||Km},Jm=[],Qm=function(t){for(var e=0;e<Jm.length;e+=5)(!t||Jm[e+4]&&Jm[e+4].query===t)&&(Jm[e].style.cssText=Jm[e+1],Jm[e].getBBox&&Jm[e].setAttribute("transform",Jm[e+2]||""),Jm[e+3].uncache=1)},ty=function(){return Ih.forEach(function(t){return sm(t)&&++t.cacheID&&(t.rec=t())})},ey=function(t,e){var n;for(xf=0;xf<Vm.length;xf++)!(n=Vm[xf])||e&&n._ctx!==e||(t?n.kill(1):n.revert(!0,!0));If=!0,e&&Qm(e),e||$m("revert")},ny=function(t,e){Ih.cache++,(e||!Of)&&Ih.forEach(function(t){return sm(t)&&t.cacheID++&&(t.rec=0)}),om(t)&&(rf.history.scrollRestoration=Cf=t)},iy=0,ry=function(){af.appendChild(Pf),Lf=!Mf&&Pf.offsetHeight||rf.innerHeight,af.removeChild(Pf)},oy=function(t){return uf(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(e){return e.style.display=t?"none":"block"})},sy=function(t,e){if(sf=of.documentElement,af=of.body,lf=[rf,of,sf,af],!Gf||t||If){ry(),Of=Sy.isRefreshing=!0,If||ty();var n=$m("refreshInit");zf&&Sy.sort(),e||ey(),Ih.forEach(function(t){sm(t)&&(t.smooth&&(t.target.style.scrollBehavior="auto"),t(0))}),Vm.slice(0).forEach(function(t){return t.refresh()}),If=!1,Vm.forEach(function(t){if(t._subPinOffset&&t.pin){var e=t.vars.horizontal?"offsetWidth":"offsetHeight",n=t.pin[e];t.revert(!0,1),t.adjustPinSpacing(t.pin[e]-n),t.refresh()}}),Nf=1,oy(!0),Vm.forEach(function(t){var e=im(t.scroller,t._dir),n="max"===t.vars.end||t._endClamp&&t.end>e,i=t._startClamp&&t.start>=e;(n||i)&&t.setPositions(i?e-1:t.start,n?Math.max(i?e:t.start+1,e):t.end,!0)}),oy(!1),Nf=0,n.forEach(function(t){return t&&t.render&&t.render(-1)}),Ih.forEach(function(t){sm(t)&&(t.smooth&&requestAnimationFrame(function(){return t.target.style.scrollBehavior="smooth"}),t.rec&&t(t.rec))}),ny(Cf,1),cf.pause(),iy++,Of=2,cy(2),Vm.forEach(function(t){return sm(t.vars.onRefresh)&&t.vars.onRefresh(t)}),Of=Sy.isRefreshing=!1,$m("refresh")}else Im(Sy,"scrollEnd",Zm)},ay=0,ly=1,cy=function(t){if(2===t||!Of&&!If){Sy.isUpdating=!0,Ff&&Ff.update(0);var e=Vm.length,n=Hf(),i=n-Vf>=50,r=e&&Vm[0].scroll();if(ly=ay>r?-1:1,Of||(ay=r),i&&(Gf&&!mf&&n-Gf>200&&(Gf=0,$m("scrollEnd")),pf=Vf,Vf=n),ly<0){for(xf=e;xf-- >0;)Vm[xf]&&Vm[xf].update(0,i);ly=1}else for(xf=0;xf<e;xf++)Vm[xf]&&Vm[xf].update(0,i);Sy.isUpdating=!1}Uf=0},uy=[pm,"top",fm,hm,bm+_m,bm+xm,bm+vm,bm+gm,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],dy=uy.concat([mm,ym,"boxSizing","max"+Sm,"max"+Mm,"position",bm,zm,zm+vm,zm+xm,zm+_m,zm+gm]),py=function(t,e,n,i){if(!t._gsap.swappedIn){for(var r,o=uy.length,s=e.style,a=t.style;o--;)s[r=uy[o]]=n[r];s.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(s.display="inline-block"),a[fm]=a[hm]="auto",s.flexBasis=n.flexBasis||"auto",s.overflow="visible",s.boxSizing="border-box",s[mm]=Rm(t,jh)+Em,s[ym]=Rm(t,Xh)+Em,s[zm]=a[bm]=a.top=a[pm]="0",fy(i),a[mm]=a["max"+Sm]=n[mm],a[ym]=a["max"+Mm]=n[ym],a[zm]=n[zm],t.parentNode!==e&&(t.parentNode.insertBefore(e,t),e.appendChild(t)),t._gsap.swappedIn=!0}},hy=/([A-Z])/g,fy=function(t){if(t){var e,n,i=t.t.style,r=t.length,o=0;for((t.t._gsap||ef.core.getCache(t.t)).uncache=1;o<r;o+=2)n=t[o+1],e=t[o],n?i[e]=n:i[e]&&i.removeProperty(e.replace(hy,"-$1").toLowerCase())}},my=function(t){for(var e=dy.length,n=t.style,i=[],r=0;r<e;r++)i.push(dy[r],n[dy[r]]);return i.t=t,i},yy={left:0,top:0},xy=function(t,e,n,i,r,o,s,a,l,c,u,d,p,h){sm(t)&&(t=t(a)),om(t)&&"max"===t.substr(0,3)&&(t=d+("="===t.charAt(4)?Fm("0"+t.substr(3),n):0));var f,m,y,x=p?p.time():0;if(p&&p.seek(0),isNaN(t)||(t=+t),am(t))p&&(t=ef.utils.mapRange(p.scrollTrigger.start,p.scrollTrigger.end,0,d,t)),s&&Hm(s,n,i,!0);else{sm(e)&&(e=e(a));var g,v,_,z,b=(t||"0").split(" ");y=qh(e,a)||af,(g=Am(y)||{})&&(g.left||g.top)||"none"!==wm(y).display||(z=y.style.display,y.style.display="block",g=Am(y),z?y.style.display=z:y.style.removeProperty("display")),v=Fm(b[0],g[i.d]),_=Fm(b[1]||"0",n),t=g[i.p]-l[i.p]-c+v+r-_,s&&Hm(s,_,i,n-_<20||s._isStart&&_>20),n-=n-_}if(h&&(a[h]=t||-.001,t<0&&(t=0)),o){var S=t+n,M=o._isStart;f="scroll"+i.d2,Hm(o,S,i,M&&S>20||!M&&(u?Math.max(af[f],sf[f]):o.parentNode[f])<=S+1),u&&(l=Am(s),u&&(o.style[i.op.p]=l[i.op.p]-i.op.m-o._offset+Em))}return p&&y&&(f=Am(y),p.seek(d),m=Am(y),p._caScrollDist=f[i.p]-m[i.p],t=t/p._caScrollDist*d),p&&p.seek(x),p?t:Math.round(t)},gy=/(webkit|moz|length|cssText|inset)/i,vy=function(t,e,n,i){if(t.parentNode!==e){var r,o,s=t.style;if(e===af){for(r in t._stOrig=s.cssText,o=wm(t))+r||gy.test(r)||!o[r]||"string"!=typeof s[r]||"0"===r||(s[r]=o[r]);s.top=n,s.left=i}else s.cssText=t._stOrig;ef.core.getCache(t).uncache=1,e.appendChild(t)}},_y=function(t,e,n){var i=e,r=i;return function(e){var o=Math.round(t());return o!==i&&o!==r&&Math.abs(o-i)>3&&Math.abs(o-r)>3&&(e=o,n&&n()),r=i,i=Math.round(e)}},zy=function(t,e,n){var i={};i[e.p]="+="+n,ef.set(t,i)},by=function(t,e){var n=Yh(t,e),i="_scroll"+e.p2,r=function e(r,o,s,a,l){var c=e.tween,u=o.onComplete,d={};s=s||n();var p=_y(n,s,function(){c.kill(),e.tween=0});return l=a&&l||0,a=a||r-s,c&&c.kill(),o[i]=r,o.inherit=!1,o.modifiers=d,d[i]=function(){return p(s+a*c.ratio+l*c.ratio*c.ratio)},o.onUpdate=function(){Ih.cache++,e.tween&&cy()},o.onComplete=function(){e.tween=0,u&&u.call(c)},c=e.tween=ef.to(t,o)};return t[i]=n,n.wheelHandler=function(){return r.tween&&r.tween.kill()&&(r.tween=0)},Im(t,"wheel",n.wheelHandler),Sy.isTouch&&Im(t,"touchmove",n.wheelHandler),r},Sy=function(){function t(e,n){nf||t.register(ef)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),Rf(this),this.init(e,n)}return t.prototype.init=function(e,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),Wf){var i,r,o,s,a,l,c,u,d,p,h,f,m,y,x,g,v,_,z,b,S,M,E,w,T,A,R,C,P,L,I,N,D,U,O,k,F,B,H,V,G,W,j=e=Tm(om(e)||am(e)||e.nodeType?{trigger:e}:e,Om),X=j.onUpdate,q=j.toggleClass,Y=j.id,K=j.onToggle,Z=j.onRefresh,$=j.scrub,J=j.trigger,Q=j.pin,tt=j.pinSpacing,et=j.invalidateOnRefresh,nt=j.anticipatePin,it=j.onScrubComplete,rt=j.onSnapComplete,ot=j.once,st=j.snap,at=j.pinReparent,lt=j.pinSpacer,ct=j.containerAnimation,ut=j.fastScrollEnd,dt=j.preventOverlaps,pt=e.horizontal||e.containerAnimation&&!1!==e.horizontal?jh:Xh,ht=!$&&0!==$,ft=qh(e.scroller||rf),mt=ef.core.getCache(ft),yt=tm(ft),xt="fixed"===("pinType"in e?e.pinType:Oh(ft,"pinType")||yt&&"fixed"),gt=[e.onEnter,e.onLeave,e.onEnterBack,e.onLeaveBack],vt=ht&&e.toggleActions.split(" "),_t="markers"in e?e.markers:Om.markers,zt=yt?0:parseFloat(wm(ft)["border"+pt.p2+Sm])||0,bt=this,St=e.onRefreshInit&&function(){return e.onRefreshInit(bt)},Mt=function(t,e,n){var i=n.d,r=n.d2,o=n.a;return(o=Oh(t,"getBoundingClientRect"))?function(){return o()[i]}:function(){return(e?em(r):t["client"+r])||0}}(ft,yt,pt),Et=function(t,e){return!e||~Nh.indexOf(t)?nm(t):function(){return yy}}(ft,yt),wt=0,Tt=0,At=0,Rt=Yh(ft,pt);if(bt._startClamp=bt._endClamp=!1,bt._dir=pt,nt*=45,bt.scroller=ft,bt.scroll=ct?ct.time.bind(ct):Rt,s=Rt(),bt.vars=e,n=n||e.animation,"refreshPriority"in e&&(zf=1,-9999===e.refreshPriority&&(Ff=bt)),mt.tweenScroll=mt.tweenScroll||{top:by(ft,Xh),left:by(ft,jh)},bt.tweenTo=i=mt.tweenScroll[pt.p],bt.scrubDuration=function(t){(D=am(t)&&t)?N?N.duration(t):N=ef.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:D,paused:!0,onComplete:function(){return it&&it(bt)}}):(N&&N.progress(1).kill(),N=0)},n&&(n.vars.lazy=!1,n._initted&&!bt.isReverted||!1!==n.vars.immediateRender&&!1!==e.immediateRender&&n.duration()&&n.render(0,!0,!0),bt.animation=n.pause(),n.scrollTrigger=bt,bt.scrubDuration($),L=0,Y||(Y=n.vars.id)),st&&(lm(st)&&!st.push||(st={snapTo:st}),"scrollBehavior"in af.style&&ef.set(yt?[af,sf]:ft,{scrollBehavior:"auto"}),Ih.forEach(function(t){return sm(t)&&t.target===(yt?of.scrollingElement||sf:ft)&&(t.smooth=!1)}),o=sm(st.snapTo)?st.snapTo:"labels"===st.snapTo?function(t){return function(e){return ef.utils.snap(Cm(t),e)}}(n):"labelsDirectional"===st.snapTo?(V=n,function(t,e){return Pm(Cm(V))(t,e.direction)}):!1!==st.directional?function(t,e){return Pm(st.snapTo)(t,Hf()-Tt<500?0:e.direction)}:ef.utils.snap(st.snapTo),U=st.duration||{min:.1,max:2},U=lm(U)?df(U.min,U.max):df(U,U),O=ef.delayedCall(st.delay||D/2||.1,function(){var t=Rt(),e=Hf()-Tt<500,r=i.tween;if(!(e||Math.abs(bt.getVelocity())<10)||r||mf||wt===t)bt.isActive&&wt!==t&&O.restart(!0);else{var s,a,u=(t-l)/y,d=n&&!ht?n.totalProgress():u,p=e?0:(d-I)/(Hf()-pf)*1e3||0,h=ef.utils.clamp(-u,1-u,dm(p/2)*p/.185),f=u+(!1===st.inertia?0:h),m=st,x=m.onStart,g=m.onInterrupt,v=m.onComplete;if(s=o(f,bt),am(s)||(s=f),a=Math.max(0,Math.round(l+s*y)),t<=c&&t>=l&&a!==t){if(r&&!r._initted&&r.data<=dm(a-t))return;!1===st.inertia&&(h=s-u),i(a,{duration:U(dm(.185*Math.max(dm(f-d),dm(s-d))/p/.05||0)),ease:st.ease||"power3",data:dm(a-t),onInterrupt:function(){return O.restart(!0)&&g&&g(bt)},onComplete:function(){bt.update(),wt=Rt(),n&&!ht&&(N?N.resetTo("totalProgress",s,n._tTime/n._tDur):n.progress(s)),L=I=n&&!ht?n.totalProgress():bt.progress,rt&&rt(bt),v&&v(bt)}},t,h*y,a-t-h*y),x&&x(bt,i.tween)}}}).pause()),Y&&(Gm[Y]=bt),(H=(J=bt.trigger=qh(J||!0!==Q&&Q))&&J._gsap&&J._gsap.stRevert)&&(H=H(bt)),Q=!0===Q?J:qh(Q),om(q)&&(q={targets:J,className:q}),Q&&(!1===tt||tt===bm||(tt=!(!tt&&Q.parentNode&&Q.parentNode.style&&"flex"===wm(Q.parentNode).display)&&zm),bt.pin=Q,(r=ef.core.getCache(Q)).spacer?x=r.pinState:(lt&&((lt=qh(lt))&&!lt.nodeType&&(lt=lt.current||lt.nativeElement),r.spacerIsNative=!!lt,lt&&(r.spacerState=my(lt))),r.spacer=_=lt||of.createElement("div"),_.classList.add("pin-spacer"),Y&&_.classList.add("pin-spacer-"+Y),r.pinState=x=my(Q)),!1!==e.force3D&&ef.set(Q,{force3D:!0}),bt.spacer=_=r.spacer,P=wm(Q),w=P[tt+pt.os2],b=ef.getProperty(Q),S=ef.quickSetter(Q,pt.a,Em),py(Q,_,P),v=my(Q)),_t){f=lm(_t)?Tm(_t,Um):Um,p=Bm("scroller-start",Y,ft,pt,f,0),h=Bm("scroller-end",Y,ft,pt,f,0,p),z=p["offset"+pt.op.d2];var Ct=qh(Oh(ft,"content")||ft);u=this.markerStart=Bm("start",Y,Ct,pt,f,z,0,ct),d=this.markerEnd=Bm("end",Y,Ct,pt,f,z,0,ct),ct&&(B=ef.quickSetter([u,d],pt.a,Em)),xt||Nh.length&&!0===Oh(ft,"fixedMarkers")||(W=wm(G=yt?af:ft).position,G.style.position="absolute"===W||"fixed"===W?W:"relative",ef.set([p,h],{force3D:!0}),A=ef.quickSetter(p,pt.a,Em),C=ef.quickSetter(h,pt.a,Em))}if(ct){var Pt=ct.vars.onUpdate,Lt=ct.vars.onUpdateParams;ct.eventCallback("onUpdate",function(){bt.update(0,0,1),Pt&&Pt.apply(ct,Lt||[])})}if(bt.previous=function(){return Vm[Vm.indexOf(bt)-1]},bt.next=function(){return Vm[Vm.indexOf(bt)+1]},bt.revert=function(t,e){if(!e)return bt.kill(!0);var i=!1!==t||!bt.enabled,r=ff;i!==bt.isReverted&&(i&&(k=Math.max(Rt(),bt.scroll.rec||0),At=bt.progress,F=n&&n.progress()),u&&[u,d,p,h].forEach(function(t){return t.style.display=i?"none":"block"}),i&&(ff=bt,bt.update(i)),!Q||at&&bt.isActive||(i?function(t,e,n){fy(n);var i=t._gsap;if(i.spacerIsNative)fy(i.spacerState);else if(t._gsap.swappedIn){var r=e.parentNode;r&&(r.insertBefore(t,e),r.removeChild(e))}t._gsap.swappedIn=!1}(Q,_,x):py(Q,_,wm(Q),T)),i||bt.update(i),ff=r,bt.isReverted=i)},bt.refresh=function(r,o,f,z){if(!ff&&bt.enabled||o)if(Q&&r&&Gf)Im(t,"scrollEnd",Zm);else{!Of&&St&&St(bt),ff=bt,i.tween&&!f&&(i.tween.kill(),i.tween=0),N&&N.pause(),et&&n&&(n.revert({kill:!1}).invalidate(),n.getChildren?n.getChildren(!0,!0,!1).forEach(function(t){return t.vars.immediateRender&&t.render(0,!0,!0)}):n.vars.immediateRender&&n.render(0,!0,!0)),bt.isReverted||bt.revert(!0,!0),bt._subPinOffset=!1;var S,w,A,C,P,L,I,D,U,B,H,V,G,W=Mt(),j=Et(),X=ct?ct.duration():im(ft,pt),q=y<=.01||!y,Y=0,K=z||0,$=lm(f)?f.end:e.end,nt=e.endTrigger||J,it=lm(f)?f.start:e.start||(0!==e.start&&J?Q?"0 0":"0 100%":0),rt=bt.pinnedContainer=e.pinnedContainer&&qh(e.pinnedContainer,bt),ot=J&&Math.max(0,Vm.indexOf(bt))||0,st=ot;for(_t&&lm(f)&&(V=ef.getProperty(p,pt.p),G=ef.getProperty(h,pt.p));st-- >0;)(L=Vm[st]).end||L.refresh(0,1)||(ff=bt),!(I=L.pin)||I!==J&&I!==Q&&I!==rt||L.isReverted||(B||(B=[]),B.unshift(L),L.revert(!0,!0)),L!==Vm[st]&&(ot--,st--);for(sm(it)&&(it=it(bt)),it=jf(it,"start",bt),l=xy(it,J,W,pt,Rt(),u,p,bt,j,zt,xt,X,ct,bt._startClamp&&"_startClamp")||(Q?-.001:0),sm($)&&($=$(bt)),om($)&&!$.indexOf("+=")&&(~$.indexOf(" ")?$=(om(it)?it.split(" ")[0]:"")+$:(Y=Fm($.substr(2),W),$=om(it)?it:(ct?ef.utils.mapRange(0,ct.duration(),ct.scrollTrigger.start,ct.scrollTrigger.end,l):l)+Y,nt=J)),$=jf($,"end",bt),c=Math.max(l,xy($||(nt?"100% 0":X),nt,W,pt,Rt()+Y,d,h,bt,j,zt,xt,X,ct,bt._endClamp&&"_endClamp"))||-.001,Y=0,st=ot;st--;)(I=(L=Vm[st]||{}).pin)&&L.start-L._pinPush<=l&&!ct&&L.end>0&&(S=L.end-(bt._startClamp?Math.max(0,L.start):L.start),(I===J&&L.start-L._pinPush<l||I===rt)&&isNaN(it)&&(Y+=S*(1-L.progress)),I===Q&&(K+=S));if(l+=Y,c+=Y,bt._startClamp&&(bt._startClamp+=Y),bt._endClamp&&!Of&&(bt._endClamp=c||-.001,c=Math.min(c,im(ft,pt))),y=c-l||(l-=.01)&&.001,q&&(At=ef.utils.clamp(0,1,ef.utils.normalize(l,c,k))),bt._pinPush=K,u&&Y&&((S={})[pt.a]="+="+Y,rt&&(S[pt.p]="-="+Rt()),ef.set([u,d],S)),!Q||Nf&&bt.end>=im(ft,pt)){if(J&&Rt()&&!ct)for(w=J.parentNode;w&&w!==af;)w._pinOffset&&(l-=w._pinOffset,c-=w._pinOffset),w=w.parentNode}else S=wm(Q),C=pt===Xh,A=Rt(),M=parseFloat(b(pt.a))+K,!X&&c>1&&(H={style:H=(yt?of.scrollingElement||sf:ft).style,value:H["overflow"+pt.a.toUpperCase()]},yt&&"scroll"!==wm(af)["overflow"+pt.a.toUpperCase()]&&(H.style["overflow"+pt.a.toUpperCase()]="scroll")),py(Q,_,S),v=my(Q),w=Am(Q,!0),D=xt&&Yh(ft,C?jh:Xh)(),tt?((T=[tt+pt.os2,y+K+Em]).t=_,(st=tt===zm?Rm(Q,pt)+y+K:0)&&(T.push(pt.d,st+Em),"auto"!==_.style.flexBasis&&(_.style.flexBasis=st+Em)),fy(T),rt&&Vm.forEach(function(t){t.pin===rt&&!1!==t.vars.pinSpacing&&(t._subPinOffset=!0)}),xt&&Rt(k)):(st=Rm(Q,pt))&&"auto"!==_.style.flexBasis&&(_.style.flexBasis=st+Em),xt&&((P={top:w.top+(C?A-l:D)+Em,left:w.left+(C?D:A-l)+Em,boxSizing:"border-box",position:"fixed"})[mm]=P["max"+Sm]=Math.ceil(w.width)+Em,P[ym]=P["max"+Mm]=Math.ceil(w.height)+Em,P[bm]=P[bm+vm]=P[bm+xm]=P[bm+_m]=P[bm+gm]="0",P[zm]=S[zm],P[zm+vm]=S[zm+vm],P[zm+xm]=S[zm+xm],P[zm+_m]=S[zm+_m],P[zm+gm]=S[zm+gm],g=function(t,e,n){for(var i,r=[],o=t.length,s=n?8:0;s<o;s+=2)i=t[s],r.push(i,i in e?e[i]:t[s+1]);return r.t=t.t,r}(x,P,at),Of&&Rt(0)),n?(U=n._initted,bf(1),n.render(n.duration(),!0,!0),E=b(pt.a)-M+y+K,R=Math.abs(y-E)>1,xt&&R&&g.splice(g.length-2,2),n.render(0,!0,!0),U||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),bf(0)):E=y,H&&(H.value?H.style["overflow"+pt.a.toUpperCase()]=H.value:H.style.removeProperty("overflow-"+pt.a));B&&B.forEach(function(t){return t.revert(!1,!0)}),bt.start=l,bt.end=c,s=a=Of?k:Rt(),ct||Of||(s<k&&Rt(k),bt.scroll.rec=0),bt.revert(!1,!0),Tt=Hf(),O&&(wt=-1,O.restart(!0)),ff=0,n&&ht&&(n._initted||F)&&n.progress()!==F&&n.progress(F||0,!0).render(n.time(),!0,!0),(q||At!==bt.progress||ct||et||n&&!n._initted)&&(n&&!ht&&(n._initted||At||!1!==n.vars.immediateRender)&&n.totalProgress(ct&&l<-.001&&!At?ef.utils.normalize(l,c,0):At,!0),bt.progress=q||(s-l)/y===At?0:At),Q&&tt&&(_._pinOffset=Math.round(bt.progress*E)),N&&N.invalidate(),isNaN(V)||(V-=ef.getProperty(p,pt.p),G-=ef.getProperty(h,pt.p),zy(p,pt,V),zy(u,pt,V-(z||0)),zy(h,pt,G),zy(d,pt,G-(z||0))),q&&!Of&&bt.update(),!Z||Of||m||(m=!0,Z(bt),m=!1)}},bt.getVelocity=function(){return(Rt()-a)/(Hf()-pf)*1e3||0},bt.endAnimation=function(){cm(bt.callbackAnimation),n&&(N?N.progress(1):n.paused()?ht||cm(n,bt.direction<0,1):cm(n,n.reversed()))},bt.labelToScroll=function(t){return n&&n.labels&&(l||bt.refresh()||l)+n.labels[t]/n.duration()*y||0},bt.getTrailing=function(t){var e=Vm.indexOf(bt),n=bt.direction>0?Vm.slice(0,e).reverse():Vm.slice(e+1);return(om(t)?n.filter(function(e){return e.vars.preventOverlaps===t}):n).filter(function(t){return bt.direction>0?t.end<=l:t.start>=c})},bt.update=function(t,e,r){if(!ct||r||t){var o,u,d,h,f,m,x,z=!0===Of?k:bt.scroll(),b=t?0:(z-l)/y,T=b<0?0:b>1?1:b||0,P=bt.progress;if(e&&(a=s,s=ct?Rt():z,st&&(I=L,L=n&&!ht?n.totalProgress():T)),nt&&Q&&!ff&&!Bf&&Gf&&(!T&&l<z+(z-a)/(Hf()-pf)*nt?T=1e-4:1===T&&c>z+(z-a)/(Hf()-pf)*nt&&(T=.9999)),T!==P&&bt.enabled){if(h=(f=(o=bt.isActive=!!T&&T<1)!=(!!P&&P<1))||!!T!=!!P,bt.direction=T>P?1:-1,bt.progress=T,h&&!ff&&(u=T&&!P?0:1===T?1:1===P?2:3,ht&&(d=!f&&"none"!==vt[u+1]&&vt[u+1]||vt[u],x=n&&("complete"===d||"reset"===d||d in n))),dt&&(f||x)&&(x||$||!n)&&(sm(dt)?dt(bt):bt.getTrailing(dt).forEach(function(t){return t.endAnimation()})),ht||(!N||ff||Bf?n&&n.totalProgress(T,!(!ff||!Tt&&!t)):(N._dp._time-N._start!==N._time&&N.render(N._dp._time-N._start),N.resetTo?N.resetTo("totalProgress",T,n._tTime/n._tDur):(N.vars.totalProgress=T,N.invalidate().restart()))),Q)if(t&&tt&&(_.style[tt+pt.os2]=w),xt){if(h){if(m=!t&&T>P&&c+1>z&&z+1>=im(ft,pt),at)if(t||!o&&!m)vy(Q,_);else{var D=Am(Q,!0),U=z-l;vy(Q,af,D.top+(pt===Xh?U:0)+Em,D.left+(pt===Xh?0:U)+Em)}fy(o||m?g:v),R&&T<1&&o||S(M+(1!==T||m?0:E))}}else S($f(M+E*T));st&&!i.tween&&!ff&&!Bf&&O.restart(!0),q&&(f||ot&&T&&(T<1||!Df))&&uf(q.targets).forEach(function(t){return t.classList[o||ot?"add":"remove"](q.className)}),X&&!ht&&!t&&X(bt),h&&!ff?(ht&&(x&&("complete"===d?n.pause().totalProgress(1):"reset"===d?n.restart(!0).pause():"restart"===d?n.restart(!0):n[d]()),X&&X(bt)),!f&&Df||(K&&f&&um(bt,K),gt[u]&&um(bt,gt[u]),ot&&(1===T?bt.kill(!1,1):gt[u]=0),f||gt[u=1===T?1:3]&&um(bt,gt[u])),ut&&!o&&Math.abs(bt.getVelocity())>(am(ut)?ut:2500)&&(cm(bt.callbackAnimation),N?N.progress(1):cm(n,"reverse"===d?1:!T,1))):ht&&X&&!ff&&X(bt)}if(C){var F=ct?z/ct.duration()*(ct._caScrollDist||0):z;A(F+(p._isFlipped?1:0)),C(F)}B&&B(-z/ct.duration()*(ct._caScrollDist||0))}},bt.enable=function(e,n){bt.enabled||(bt.enabled=!0,Im(ft,"resize",qm),yt||Im(ft,"scroll",jm),St&&Im(t,"refreshInit",St),!1!==e&&(bt.progress=At=0,s=a=wt=Rt()),!1!==n&&bt.refresh())},bt.getTween=function(t){return t&&i?i.tween:N},bt.setPositions=function(t,e,n,i){if(ct){var r=ct.scrollTrigger,o=ct.duration(),s=r.end-r.start;t=r.start+s*t/o,e=r.start+s*e/o}bt.refresh(!1,!1,{start:Xf(t,n&&!!bt._startClamp),end:Xf(e,n&&!!bt._endClamp)},i),bt.update()},bt.adjustPinSpacing=function(t){if(T&&t){var e=T.indexOf(pt.d)+1;T[e]=parseFloat(T[e])+t+Em,T[1]=parseFloat(T[1])+t+Em,fy(T)}},bt.disable=function(e,n){if(!1!==e&&bt.revert(!0,!0),bt.enabled&&(bt.enabled=bt.isActive=!1,n||N&&N.pause(),k=0,r&&(r.uncache=1),St&&Nm(t,"refreshInit",St),O&&(O.pause(),i.tween&&i.tween.kill()&&(i.tween=0)),!yt)){for(var o=Vm.length;o--;)if(Vm[o].scroller===ft&&Vm[o]!==bt)return;Nm(ft,"resize",qm),yt||Nm(ft,"scroll",jm)}},bt.kill=function(t,i){bt.disable(t,i),N&&!i&&N.kill(),Y&&delete Gm[Y];var o=Vm.indexOf(bt);o>=0&&Vm.splice(o,1),o===xf&&ly>0&&xf--,o=0,Vm.forEach(function(t){return t.scroller===bt.scroller&&(o=1)}),o||Of||(bt.scroll.rec=0),n&&(n.scrollTrigger=null,t&&n.revert({kill:!1}),i||n.kill()),u&&[u,d,p,h].forEach(function(t){return t.parentNode&&t.parentNode.removeChild(t)}),Ff===bt&&(Ff=0),Q&&(r&&(r.uncache=1),o=0,Vm.forEach(function(t){return t.pin===Q&&o++}),o||(r.spacer=0)),e.onKill&&e.onKill(bt)},Vm.push(bt),bt.enable(!1,!1),H&&H(bt),n&&n.add&&!y){var It=bt.update;bt.update=function(){bt.update=It,Ih.cache++,l||c||bt.refresh()},ef.delayedCall(.01,bt.update),y=.01,l=c=0}else bt.refresh();Q&&function(){if(kf!==iy){var t=kf=iy;requestAnimationFrame(function(){return t===iy&&sy(!0)})}}()}else this.update=this.refresh=this.kill=Zf},t.register=function(e){return nf||(ef=e||Qf(),Jf()&&window.document&&t.enable(),nf=Wf),nf},t.defaults=function(t){if(t)for(var e in t)Om[e]=t[e];return Om},t.disable=function(t,e){Wf=0,Vm.forEach(function(n){return n[e?"kill":"disable"](t)}),Nm(rf,"wheel",jm),Nm(of,"scroll",jm),clearInterval(hf),Nm(of,"touchcancel",Zf),Nm(af,"touchstart",Zf),Lm(Nm,of,"pointerdown,touchstart,mousedown",Yf),Lm(Nm,of,"pointerup,touchend,mouseup",Kf),cf.kill(),rm(Nm);for(var n=0;n<Ih.length;n+=3)Dm(Nm,Ih[n],Ih[n+1]),Dm(Nm,Ih[n],Ih[n+2])},t.enable=function(){if(rf=window,of=document,sf=of.documentElement,af=of.body,ef&&(uf=ef.utils.toArray,df=ef.utils.clamp,Rf=ef.core.context||Zf,bf=ef.core.suppressOverwrites||Zf,Cf=rf.history.scrollRestoration||"auto",ay=rf.pageYOffset||0,ef.core.globals("ScrollTrigger",t),af)){Wf=1,(Pf=document.createElement("div")).style.height="100vh",Pf.style.position="absolute",ry(),qf(),tf.register(ef),t.isTouch=tf.isTouch,Af=tf.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),Ef=1===tf.isTouch,Im(rf,"wheel",jm),lf=[rf,of,sf,af],ef.matchMedia?(t.matchMedia=function(t){var e,n=ef.matchMedia();for(e in t)n.add(e,t[e]);return n},ef.addEventListener("matchMediaInit",function(){ty(),ey()}),ef.addEventListener("matchMediaRevert",function(){return Qm()}),ef.addEventListener("matchMedia",function(){sy(0,1),$m("matchMedia")}),ef.matchMedia().add("(orientation: portrait)",function(){return Xm(),Xm})):console.warn("Requires GSAP 3.11.0 or later"),Xm(),Im(of,"scroll",jm);var e,n,i=af.hasAttribute("style"),r=af.style,o=r.borderTopStyle,s=ef.core.Animation.prototype;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",e=Am(af),Xh.m=Math.round(e.top+Xh.sc())||0,jh.m=Math.round(e.left+jh.sc())||0,o?r.borderTopStyle=o:r.removeProperty("border-top-style"),i||(af.setAttribute("style",""),af.removeAttribute("style")),hf=setInterval(Wm,250),ef.delayedCall(.5,function(){return Bf=0}),Im(of,"touchcancel",Zf),Im(af,"touchstart",Zf),Lm(Im,of,"pointerdown,touchstart,mousedown",Yf),Lm(Im,of,"pointerup,touchend,mouseup",Kf),yf=ef.utils.checkPrefix("transform"),dy.push(yf),nf=Hf(),cf=ef.delayedCall(.2,sy).pause(),_f=[of,"visibilitychange",function(){var t=rf.innerWidth,e=rf.innerHeight;of.hidden?(gf=t,vf=e):gf===t&&vf===e||qm()},of,"DOMContentLoaded",sy,rf,"load",sy,rf,"resize",qm],rm(Im),Vm.forEach(function(t){return t.enable(0,1)}),n=0;n<Ih.length;n+=3)Dm(Nm,Ih[n],Ih[n+1]),Dm(Nm,Ih[n],Ih[n+2])}},t.config=function(e){"limitCallbacks"in e&&(Df=!!e.limitCallbacks);var n=e.syncInterval;n&&clearInterval(hf)||(hf=n)&&setInterval(Wm,n),"ignoreMobileResize"in e&&(Ef=1===t.isTouch&&e.ignoreMobileResize),"autoRefreshEvents"in e&&(rm(Nm)||rm(Im,e.autoRefreshEvents||"none"),Sf=-1===(e.autoRefreshEvents+"").indexOf("resize"))},t.scrollerProxy=function(t,e){var n=qh(t),i=Ih.indexOf(n),r=tm(n);~i&&Ih.splice(i,r?6:2),e&&(r?Nh.unshift(rf,e,af,e,sf,e):Nh.unshift(n,e))},t.clearMatchMedia=function(t){Vm.forEach(function(e){return e._ctx&&e._ctx.query===t&&e._ctx.kill(!0,!0)})},t.isInViewport=function(t,e,n){var i=(om(t)?qh(t):t).getBoundingClientRect(),r=i[n?mm:ym]*e||0;return n?i.right-r>0&&i.left+r<rf.innerWidth:i.bottom-r>0&&i.top+r<rf.innerHeight},t.positionInViewport=function(t,e,n){om(t)&&(t=qh(t));var i=t.getBoundingClientRect(),r=i[n?mm:ym],o=null==e?r/2:e in km?km[e]*r:~e.indexOf("%")?parseFloat(e)*r/100:parseFloat(e)||0;return n?(i.left+o)/rf.innerWidth:(i.top+o)/rf.innerHeight},t.killAll=function(t){if(Vm.slice(0).forEach(function(t){return"ScrollSmoother"!==t.vars.id&&t.kill()}),!0!==t){var e=Ym.killAll||[];Ym={},e.forEach(function(t){return t()})}},t}();Sy.version="3.14.2",Sy.saveStyles=function(t){return t?uf(t).forEach(function(t){if(t&&t.style){var e=Jm.indexOf(t);e>=0&&Jm.splice(e,5),Jm.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),ef.core.getCache(t),Rf())}}):Jm},Sy.revert=function(t,e){return ey(!t,e)},Sy.create=function(t,e){return new Sy(t,e)},Sy.refresh=function(t){return t?qm(!0):(nf||Sy.register())&&sy(!0)},Sy.update=function(t){return++Ih.cache&&cy(!0===t?2:0)},Sy.clearScrollMemory=ny,Sy.maxScroll=function(t,e){return im(t,e?jh:Xh)},Sy.getScrollFunc=function(t,e){return Yh(qh(t),e?jh:Xh)},Sy.getById=function(t){return Gm[t]},Sy.getAll=function(){return Vm.filter(function(t){return"ScrollSmoother"!==t.vars.id})},Sy.isScrolling=function(){return!!Gf},Sy.snapDirectional=Pm,Sy.addEventListener=function(t,e){var n=Ym[t]||(Ym[t]=[]);~n.indexOf(e)||n.push(e)},Sy.removeEventListener=function(t,e){var n=Ym[t],i=n&&n.indexOf(e);i>=0&&n.splice(i,1)},Sy.batch=function(t,e){var n,i=[],r={},o=e.interval||.016,s=e.batchMax||1e9,a=function(t,e){var n=[],i=[],r=ef.delayedCall(o,function(){e(n,i),n=[],i=[]}).pause();return function(t){n.length||r.restart(!0),n.push(t.trigger),i.push(t),s<=n.length&&r.progress(1)}};for(n in e)r[n]="on"===n.substr(0,2)&&sm(e[n])&&"onRefreshInit"!==n?a(0,e[n]):e[n];return sm(s)&&(s=s(),Im(Sy,"refresh",function(){return s=e.batchMax()})),uf(t).forEach(function(t){var e={};for(n in r)e[n]=r[n];e.trigger=t,i.push(Sy.create(e))}),i};var My,Ey=function(t,e,n,i){return e>i?t(i):e<0&&t(0),n>i?(i-e)/(n-e):n<0?e/(e-n):1},wy=function t(e,n){!0===n?e.style.removeProperty("touch-action"):e.style.touchAction=!0===n?"auto":n?"pan-"+n+(tf.isTouch?" pinch-zoom":""):"none",e===sf&&t(af,n)},Ty={auto:1,scroll:1},Ay=function(t){var e,n=t.event,i=t.target,r=t.axis,o=(n.changedTouches?n.changedTouches[0]:n).target,s=o._gsap||ef.core.getCache(o),a=Hf();if(!s._isScrollT||a-s._isScrollT>2e3){for(;o&&o!==af&&(o.scrollHeight<=o.clientHeight&&o.scrollWidth<=o.clientWidth||!Ty[(e=wm(o)).overflowY]&&!Ty[e.overflowX]);)o=o.parentNode;s._isScroll=o&&o!==i&&!tm(o)&&(Ty[(e=wm(o)).overflowY]||Ty[e.overflowX]),s._isScrollT=a}(s._isScroll||"x"===r)&&(n.stopPropagation(),n._gsapAllow=!0)},Ry=function(t,e,n,i){return tf.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:e,onWheel:i=i&&Ay,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return n&&Im(of,tf.eventTypes[0],Py,!1,!0)},onDisable:function(){return Nm(of,tf.eventTypes[0],Py,!0)}})},Cy=/(input|label|select|textarea)/i,Py=function(t){var e=Cy.test(t.target.tagName);(e||My)&&(t._gsapAllow=!0,My=e)};Sy.sort=function(t){if(sm(t))return Vm.sort(t);var e=rf.pageYOffset||0;return Sy.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+rf.innerHeight}),Vm.sort(t||function(t,e){return-1e6*(t.vars.refreshPriority||0)+(t.vars.containerAnimation?1e6:t._sortY)-((e.vars.containerAnimation?1e6:e._sortY)+-1e6*(e.vars.refreshPriority||0))})},Sy.observe=function(t){return new tf(t)},Sy.normalizeScroll=function(t){if(void 0===t)return Mf;if(!0===t&&Mf)return Mf.enable();if(!1===t)return Mf&&Mf.kill(),void(Mf=t);var e=t instanceof tf?t:function(t){lm(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var e,n,i,r,o,s,a,l,c=t,u=c.normalizeScrollX,d=c.momentum,p=c.allowNestedScroll,h=c.onRelease,f=qh(t.target)||sf,m=ef.core.globals().ScrollSmoother,y=m&&m.get(),x=Af&&(t.content&&qh(t.content)||y&&!1!==t.content&&!y.smooth()&&y.content()),g=Yh(f,Xh),v=Yh(f,jh),_=1,z=(tf.isTouch&&rf.visualViewport?rf.visualViewport.scale*rf.visualViewport.width:rf.outerWidth)/rf.innerWidth,b=0,S=sm(d)?function(){return d(e)}:function(){return d||2.8},M=Ry(f,t.type,!0,p),E=function(){return r=!1},w=Zf,T=Zf,A=function(){n=im(f,Xh),T=df(Af?1:0,n),u&&(w=df(0,im(f,jh))),i=iy},R=function(){x._gsap.y=$f(parseFloat(x._gsap.y)+g.offset)+"px",x.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(x._gsap.y)+", 0, 1)",g.offset=g.cacheID=0},C=function(){A(),o.isActive()&&o.vars.scrollY>n&&(g()>n?o.progress(1)&&g(n):o.resetTo("scrollY",n))};return x&&ef.set(x,{y:"+=0"}),t.ignoreCheck=function(t){return Af&&"touchmove"===t.type&&function(){if(r){requestAnimationFrame(E);var t=$f(e.deltaY/2),n=T(g.v-t);if(x&&n!==g.v+g.offset){g.offset=n-g.v;var i=$f((parseFloat(x&&x._gsap.y)||0)-g.offset);x.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+i+", 0, 1)",x._gsap.y=i+"px",g.cacheID=Ih.cache,cy()}return!0}g.offset&&R(),r=!0}()||_>1.05&&"touchstart"!==t.type||e.isGesturing||t.touches&&t.touches.length>1},t.onPress=function(){r=!1;var t=_;_=$f((rf.visualViewport&&rf.visualViewport.scale||1)/z),o.pause(),t!==_&&wy(f,_>1.01||!u&&"x"),s=v(),a=g(),A(),i=iy},t.onRelease=t.onGestureStart=function(t,e){if(g.offset&&R(),e){Ih.cache++;var i,r,s=S();u&&(r=(i=v())+.05*s*-t.velocityX/.227,s*=Ey(v,i,r,im(f,jh)),o.vars.scrollX=w(r)),r=(i=g())+.05*s*-t.velocityY/.227,s*=Ey(g,i,r,im(f,Xh)),o.vars.scrollY=T(r),o.invalidate().duration(s).play(.01),(Af&&o.vars.scrollY>=n||i>=n-1)&&ef.to({},{onUpdate:C,duration:s})}else l.restart(!0);h&&h(t)},t.onWheel=function(){o._ts&&o.pause(),Hf()-b>1e3&&(i=0,b=Hf())},t.onChange=function(t,e,n,r,o){if(iy!==i&&A(),e&&u&&v(w(r[2]===e?s+(t.startX-t.x):v()+e-r[1])),n){g.offset&&R();var l=o[2]===n,c=l?a+t.startY-t.y:g()+n-o[1],d=T(c);l&&c!==d&&(a+=d-c),g(d)}(n||e)&&cy()},t.onEnable=function(){wy(f,!u&&"x"),Sy.addEventListener("refresh",C),Im(rf,"resize",C),g.smooth&&(g.target.style.scrollBehavior="auto",g.smooth=v.smooth=!1),M.enable()},t.onDisable=function(){wy(f,!0),Nm(rf,"resize",C),Sy.removeEventListener("refresh",C),M.kill()},t.lockAxis=!1!==t.lockAxis,(e=new tf(t)).iOS=Af,Af&&!g()&&g(1),Af&&ef.ticker.add(Zf),l=e._dc,o=ef.to(e,{ease:"power4",paused:!0,inherit:!1,scrollX:u?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:_y(g,g(),function(){return o.pause()})},onUpdate:cy,onComplete:l.vars.onComplete}),e}(t);return Mf&&Mf.target===e.target&&Mf.kill(),tm(e.target)&&(Mf=e),e},Sy.core={_getVelocityProp:Kh,_inputObserver:Ry,_scrollers:Ih,_proxies:Nh,bridge:{ss:function(){Gf||$m("scrollStart"),Gf=Hf()},ref:function(){return ff}}},Qf()&&ef.registerPlugin(Sy);var Ly=n(848);function Iy({onEnter:t}){const e=(0,r.useRef)(null),n=(0,r.useRef)(null),i=(0,r.useRef)(null);return(0,r.useEffect)(()=>{const t=mh.timeline({defaults:{ease:"power3.out"}});t.fromTo(e.current,{opacity:0},{opacity:1,duration:1.2});const r=n.current?.querySelectorAll(".title-char");r&&r.length?t.fromTo(r,{opacity:0,scale:.85,y:20},{opacity:1,scale:1,y:0,duration:.5,stagger:.06},"-=0.6"):t.fromTo(n.current,{y:40,opacity:0},{y:0,opacity:1,duration:1},"<"),t.fromTo(i.current,{y:20,opacity:0},{y:0,opacity:1,duration:.8},"-=0.2")},[]),(0,Ly.jsxs)("div",{ref:e,className:"title-intro",children:[(0,Ly.jsx)("div",{className:"title-glow"}),(0,Ly.jsx)("h1",{ref:n,className:"title-text",children:"Ancient Fantasy".split("").map((t,e)=>" "===t?(0,Ly.jsx)("span",{className:"title-space",children:" "},e):(0,Ly.jsx)("span",{className:"title-char",children:t},e))}),(0,Ly.jsx)("button",{ref:i,className:"enter-btn",onClick:t,"aria-label":"Enter",children:(0,Ly.jsx)("img",{src:"/assets/images/door.png",alt:"Enter Room",className:"enter-icon enter-icon-border"})})]})}function Ny(t,e){if(0===e)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(2===e||1===e){let n=t.getIndex();if(null===n){const e=[],i=t.getAttribute("position");if(void 0===i)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t;for(let t=0;t<i.count;t++)e.push(t);t.setIndex(e),n=t.getIndex()}const i=n.count-2,r=[];if(2===e)for(let t=1;t<=i;t++)r.push(n.getX(0)),r.push(n.getX(t)),r.push(n.getX(t+1));else for(let t=0;t<i;t++)t%2==0?(r.push(n.getX(t)),r.push(n.getX(t+1)),r.push(n.getX(t+2))):(r.push(n.getX(t+2)),r.push(n.getX(t+1)),r.push(n.getX(t)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=t.clone();return o.setIndex(r),o.clearGroups(),o}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}class Dy extends Ha{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Hy(t)}),this.register(function(t){return new Vy(t)}),this.register(function(t){return new $y(t)}),this.register(function(t){return new Jy(t)}),this.register(function(t){return new Qy(t)}),this.register(function(t){return new Wy(t)}),this.register(function(t){return new jy(t)}),this.register(function(t){return new Xy(t)}),this.register(function(t){return new qy(t)}),this.register(function(t){return new By(t)}),this.register(function(t){return new Yy(t)}),this.register(function(t){return new Gy(t)}),this.register(function(t){return new Zy(t)}),this.register(function(t){return new Ky(t)}),this.register(function(t){return new ky(t)}),this.register(function(t){return new tx(t)}),this.register(function(t){return new ex(t)})}load(t,e,n,i){const r=this;let o;if(""!==this.resourcePath)o=this.resourcePath;else if(""!==this.path){const e=cl.extractUrlBase(t);o=cl.resolveURL(e,this.path)}else o=cl.extractUrlBase(t);this.manager.itemStart(t);const s=function(e){i?i(e):console.error(e),r.manager.itemError(t),r.manager.itemEnd(t)},a=new Wa(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,function(n){try{r.parse(n,o,function(n){e(n),r.manager.itemEnd(t)},s)}catch(t){s(t)}},n,s)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return-1===this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.push(t),this}unregister(t){return-1!==this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,e,n,i){let r;const o={},s={},a=new TextDecoder;if("string"==typeof t)r=JSON.parse(t);else if(t instanceof ArrayBuffer)if(a.decode(new Uint8Array(t,0,4))===nx){try{o[Oy.KHR_BINARY_GLTF]=new ix(t)}catch(t){return void(i&&i(t))}r=JSON.parse(o[Oy.KHR_BINARY_GLTF].content)}else r=JSON.parse(a.decode(t));else r=t;if(void 0===r.asset||r.asset.version[0]<2)return void(i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const l=new wx(r,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let t=0;t<this.pluginCallbacks.length;t++){const e=this.pluginCallbacks[t](l);e.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),s[e.name]=e,o[e.name]=!0}if(r.extensionsUsed)for(let t=0;t<r.extensionsUsed.length;++t){const e=r.extensionsUsed[t],n=r.extensionsRequired||[];switch(e){case Oy.KHR_MATERIALS_UNLIT:o[e]=new Fy;break;case Oy.KHR_DRACO_MESH_COMPRESSION:o[e]=new rx(r,this.dracoLoader);break;case Oy.KHR_TEXTURE_TRANSFORM:o[e]=new ox;break;case Oy.KHR_MESH_QUANTIZATION:o[e]=new sx;break;default:n.indexOf(e)>=0&&void 0===s[e]&&console.warn('THREE.GLTFLoader: Unknown extension "'+e+'".')}}l.setExtensions(o),l.setPlugins(s),l.parse(n,i)}parseAsync(t,e){const n=this;return new Promise(function(i,r){n.parse(t,e,i,r)})}}function Uy(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const Oy={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class ky{constructor(t){this.parser=t,this.name=Oy.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,e=this.parser.json.nodes||[];for(let n=0,i=e.length;n<i;n++){const i=e[n];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&t._addNodeRef(this.cache,i.extensions[this.name].light)}}_loadLight(t){const e=this.parser,n="light:"+t;let i=e.cache.get(n);if(i)return i;const r=e.json,o=((r.extensions&&r.extensions[this.name]||{}).lights||[])[t];let s;const a=new Cn(16777215);void 0!==o.color&&a.setRGB(o.color[0],o.color[1],o.color[2],ot);const l=void 0!==o.range?o.range:0;switch(o.type){case"directional":s=new al(a),s.target.position.set(0,0,-1),s.add(s.target);break;case"point":s=new ol(a),s.distance=l;break;case"spot":s=new tl(a),s.distance=l,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,s.angle=o.spot.outerConeAngle,s.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,s.target.position.set(0,0,-1),s.add(s.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return s.position.set(0,0,0),s.decay=2,_x(s,o),void 0!==o.intensity&&(s.intensity=o.intensity),s.name=e.createUniqueName(o.name||"light_"+t),i=Promise.resolve(s),e.cache.add(n,i),i}getDependency(t,e){if("light"===t)return this._loadLight(e)}createNodeAttachment(t){const e=this,n=this.parser,i=n.json.nodes[t],r=(i.extensions&&i.extensions[this.name]||{}).light;return void 0===r?null:this._loadLight(r).then(function(t){return n._getNodeRef(e.cache,r,t)})}}class Fy{constructor(){this.name=Oy.KHR_MATERIALS_UNLIT}getMaterialType(){return Nn}extendParams(t,e,n){const i=[];t.color=new Cn(1,1,1),t.opacity=1;const r=e.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const e=r.baseColorFactor;t.color.setRGB(e[0],e[1],e[2],ot),t.opacity=e[3]}void 0!==r.baseColorTexture&&i.push(n.assignTexture(t,"map",r.baseColorTexture,rt))}return Promise.all(i)}}class By{constructor(t){this.parser=t,this.name=Oy.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,e){const n=this.parser.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=n.extensions[this.name].emissiveStrength;return void 0!==i&&(e.emissiveIntensity=i),Promise.resolve()}}class Hy{constructor(t){this.parser=t,this.name=Oy.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?va:null}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];if(void 0!==o.clearcoatFactor&&(e.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&r.push(n.assignTexture(e,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(e.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&r.push(n.assignTexture(e,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(r.push(n.assignTexture(e,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){const t=o.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new Ut(t,t)}return Promise.all(r)}}class Vy{constructor(t){this.parser=t,this.name=Oy.KHR_MATERIALS_DISPERSION}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?va:null}extendMaterialParams(t,e){const n=this.parser.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=n.extensions[this.name];return e.dispersion=void 0!==i.dispersion?i.dispersion:0,Promise.resolve()}}class Gy{constructor(t){this.parser=t,this.name=Oy.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?va:null}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];return void 0!==o.iridescenceFactor&&(e.iridescence=o.iridescenceFactor),void 0!==o.iridescenceTexture&&r.push(n.assignTexture(e,"iridescenceMap",o.iridescenceTexture)),void 0!==o.iridescenceIor&&(e.iridescenceIOR=o.iridescenceIor),void 0===e.iridescenceThicknessRange&&(e.iridescenceThicknessRange=[100,400]),void 0!==o.iridescenceThicknessMinimum&&(e.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),void 0!==o.iridescenceThicknessMaximum&&(e.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),void 0!==o.iridescenceThicknessTexture&&r.push(n.assignTexture(e,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(r)}}class Wy{constructor(t){this.parser=t,this.name=Oy.KHR_MATERIALS_SHEEN}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?va:null}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[];e.sheenColor=new Cn(0,0,0),e.sheenRoughness=0,e.sheen=1;const o=i.extensions[this.name];if(void 0!==o.sheenColorFactor){const t=o.sheenColorFactor;e.sheenColor.setRGB(t[0],t[1],t[2],ot)}return void 0!==o.sheenRoughnessFactor&&(e.sheenRoughness=o.sheenRoughnessFactor),void 0!==o.sheenColorTexture&&r.push(n.assignTexture(e,"sheenColorMap",o.sheenColorTexture,rt)),void 0!==o.sheenRoughnessTexture&&r.push(n.assignTexture(e,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(r)}}class jy{constructor(t){this.parser=t,this.name=Oy.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?va:null}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];return void 0!==o.transmissionFactor&&(e.transmission=o.transmissionFactor),void 0!==o.transmissionTexture&&r.push(n.assignTexture(e,"transmissionMap",o.transmissionTexture)),Promise.all(r)}}class Xy{constructor(t){this.parser=t,this.name=Oy.KHR_MATERIALS_VOLUME}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?va:null}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];e.thickness=void 0!==o.thicknessFactor?o.thicknessFactor:0,void 0!==o.thicknessTexture&&r.push(n.assignTexture(e,"thicknessMap",o.thicknessTexture)),e.attenuationDistance=o.attenuationDistance||1/0;const s=o.attenuationColor||[1,1,1];return e.attenuationColor=(new Cn).setRGB(s[0],s[1],s[2],ot),Promise.all(r)}}class qy{constructor(t){this.parser=t,this.name=Oy.KHR_MATERIALS_IOR}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?va:null}extendMaterialParams(t,e){const n=this.parser.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=n.extensions[this.name];return e.ior=void 0!==i.ior?i.ior:1.5,Promise.resolve()}}class Yy{constructor(t){this.parser=t,this.name=Oy.KHR_MATERIALS_SPECULAR}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?va:null}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];e.specularIntensity=void 0!==o.specularFactor?o.specularFactor:1,void 0!==o.specularTexture&&r.push(n.assignTexture(e,"specularIntensityMap",o.specularTexture));const s=o.specularColorFactor||[1,1,1];return e.specularColor=(new Cn).setRGB(s[0],s[1],s[2],ot),void 0!==o.specularColorTexture&&r.push(n.assignTexture(e,"specularColorMap",o.specularColorTexture,rt)),Promise.all(r)}}class Ky{constructor(t){this.parser=t,this.name=Oy.EXT_MATERIALS_BUMP}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?va:null}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];return e.bumpScale=void 0!==o.bumpFactor?o.bumpFactor:1,void 0!==o.bumpTexture&&r.push(n.assignTexture(e,"bumpMap",o.bumpTexture)),Promise.all(r)}}class Zy{constructor(t){this.parser=t,this.name=Oy.KHR_MATERIALS_ANISOTROPY}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?va:null}extendMaterialParams(t,e){const n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];return void 0!==o.anisotropyStrength&&(e.anisotropy=o.anisotropyStrength),void 0!==o.anisotropyRotation&&(e.anisotropyRotation=o.anisotropyRotation),void 0!==o.anisotropyTexture&&r.push(n.assignTexture(e,"anisotropyMap",o.anisotropyTexture)),Promise.all(r)}}class $y{constructor(t){this.parser=t,this.name=Oy.KHR_TEXTURE_BASISU}loadTexture(t){const e=this.parser,n=e.json,i=n.textures[t];if(!i.extensions||!i.extensions[this.name])return null;const r=i.extensions[this.name],o=e.options.ktx2Loader;if(!o){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,r.source,o)}}class Jy{constructor(t){this.parser=t,this.name=Oy.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const e=this.name,n=this.parser,i=n.json,r=i.textures[t];if(!r.extensions||!r.extensions[e])return null;const o=r.extensions[e],s=i.images[o.source];let a=n.textureLoader;if(s.uri){const t=n.options.manager.getHandler(s.uri);null!==t&&(a=t)}return this.detectSupport().then(function(r){if(r)return n.loadTextureImage(t,o.source,a);if(i.extensionsRequired&&i.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const e=new Image;e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.onload=e.onerror=function(){t(1===e.height)}})),this.isSupported}}class Qy{constructor(t){this.parser=t,this.name=Oy.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(t){const e=this.name,n=this.parser,i=n.json,r=i.textures[t];if(!r.extensions||!r.extensions[e])return null;const o=r.extensions[e],s=i.images[o.source];let a=n.textureLoader;if(s.uri){const t=n.options.manager.getHandler(s.uri);null!==t&&(a=t)}return this.detectSupport().then(function(r){if(r)return n.loadTextureImage(t,o.source,a);if(i.extensionsRequired&&i.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const e=new Image;e.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",e.onload=e.onerror=function(){t(1===e.height)}})),this.isSupported}}class tx{constructor(t){this.name=Oy.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const e=this.parser.json,n=e.bufferViews[t];if(n.extensions&&n.extensions[this.name]){const t=n.extensions[this.name],i=this.parser.getDependency("buffer",t.buffer),r=this.parser.options.meshoptDecoder;if(!r||!r.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then(function(e){const n=t.byteOffset||0,i=t.byteLength||0,o=t.count,s=t.byteStride,a=new Uint8Array(e,n,i);return r.decodeGltfBufferAsync?r.decodeGltfBufferAsync(o,s,a,t.mode,t.filter).then(function(t){return t.buffer}):r.ready.then(function(){const e=new ArrayBuffer(o*s);return r.decodeGltfBuffer(new Uint8Array(e),o,s,a,t.mode,t.filter),e})})}return null}}class ex{constructor(t){this.name=Oy.EXT_MESH_GPU_INSTANCING,this.parser=t}createNodeMesh(t){const e=this.parser.json,n=e.nodes[t];if(!n.extensions||!n.extensions[this.name]||void 0===n.mesh)return null;const i=e.meshes[n.mesh];for(const t of i.primitives)if(t.mode!==ux.TRIANGLES&&t.mode!==ux.TRIANGLE_STRIP&&t.mode!==ux.TRIANGLE_FAN&&void 0!==t.mode)return null;const r=n.extensions[this.name].attributes,o=[],s={};for(const t in r)o.push(this.parser.getDependency("accessor",r[t]).then(e=>(s[t]=e,s[t])));return o.length<1?null:(o.push(this.parser.createNodeMesh(t)),Promise.all(o).then(t=>{const e=t.pop(),n=e.isGroup?e.children:[e],i=t[0].count,r=[];for(const t of n){const e=new Be,n=new ue,o=new ce,a=new ue(1,1,1),l=new Zs(t.geometry,t.material,i);for(let t=0;t<i;t++)s.TRANSLATION&&n.fromBufferAttribute(s.TRANSLATION,t),s.ROTATION&&o.fromBufferAttribute(s.ROTATION,t),s.SCALE&&a.fromBufferAttribute(s.SCALE,t),l.setMatrixAt(t,e.compose(n,o,a));for(const e in s)if("_COLOR_0"===e){const t=s[e];l.instanceColor=new Vs(t.array,t.itemSize,t.normalized)}else"TRANSLATION"!==e&&"ROTATION"!==e&&"SCALE"!==e&&t.geometry.setAttribute(e,s[e]);fn.prototype.copy.call(l,t),this.parser.assignFinalMaterial(l),r.push(l)}return e.isGroup?(e.clear(),e.add(...r),e):r[0]}))}}const nx="glTF";class ix{constructor(t){this.name=Oy.KHR_BINARY_GLTF,this.content=null,this.body=null;const e=new DataView(t,0,12),n=new TextDecoder;if(this.header={magic:n.decode(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==nx)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-12,r=new DataView(t,12);let o=0;for(;o<i;){const e=r.getUint32(o,!0);o+=4;const i=r.getUint32(o,!0);if(o+=4,1313821514===i){const i=new Uint8Array(t,12+o,e);this.content=n.decode(i)}else if(5130562===i){const n=12+o;this.body=t.slice(n,n+e)}o+=e}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class rx{constructor(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Oy.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}decodePrimitive(t,e){const n=this.json,i=this.dracoLoader,r=t.extensions[this.name].bufferView,o=t.extensions[this.name].attributes,s={},a={},l={};for(const t in o){const e=mx[t]||t.toLowerCase();s[e]=o[t]}for(const e in t.attributes){const i=mx[e]||e.toLowerCase();if(void 0!==o[e]){const r=n.accessors[t.attributes[e]],o=dx[r.componentType];l[i]=o.name,a[i]=!0===r.normalized}}return e.getDependency("bufferView",r).then(function(t){return new Promise(function(e,n){i.decodeDracoFile(t,function(t){for(const e in t.attributes){const n=t.attributes[e],i=a[e];void 0!==i&&(n.normalized=i)}e(t)},s,l,ot,n)})})}}class ox{constructor(){this.name=Oy.KHR_TEXTURE_TRANSFORM}extendTexture(t,e){return void 0!==e.texCoord&&e.texCoord!==t.channel||void 0!==e.offset||void 0!==e.rotation||void 0!==e.scale?(t=t.clone(),void 0!==e.texCoord&&(t.channel=e.texCoord),void 0!==e.offset&&t.offset.fromArray(e.offset),void 0!==e.rotation&&(t.rotation=e.rotation),void 0!==e.scale&&t.repeat.fromArray(e.scale),t.needsUpdate=!0,t):t}}class sx{constructor(){this.name=Oy.KHR_MESH_QUANTIZATION}}class ax extends Ma{constructor(t,e,n,i){super(t,e,n,i)}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i*3+i;for(let t=0;t!==i;t++)e[t]=n[r+t];return e}interpolate_(t,e,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=2*s,l=3*s,c=i-e,u=(n-e)/c,d=u*u,p=d*u,h=t*l,f=h-l,m=-2*p+3*d,y=p-d,x=1-m,g=y-d+u;for(let t=0;t!==s;t++){const e=o[f+t+s],n=o[f+t+a]*c,i=o[h+t+s],l=o[h+t]*c;r[t]=x*e+g*n+m*i+y*l}return r}}const lx=new ce;class cx extends ax{interpolate_(t,e,n,i){const r=super.interpolate_(t,e,n,i);return lx.fromArray(r).normalize().toArray(r),r}}const ux={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},dx={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},px={9728:N,9729:O,9984:1004,9985:k,9986:U,9987:F},hx={33071:L,33648:I,10497:P},fx={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},mx={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},yx={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},xx={CUBICSPLINE:void 0,LINEAR:et,STEP:tt};function gx(t){return void 0===t.DefaultMaterial&&(t.DefaultMaterial=new ga({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),t.DefaultMaterial}function vx(t,e,n){for(const i in n.extensions)void 0===t[i]&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=n.extensions[i])}function _x(t,e){void 0!==e.extras&&("object"==typeof e.extras?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function zx(t,e){if(t.updateMorphTargets(),void 0!==e.weights)for(let n=0,i=e.weights.length;n<i;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let e=0,i=n.length;e<i;e++)t.morphTargetDictionary[n[e]]=e}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function bx(t){let e;const n=t.extensions&&t.extensions[Oy.KHR_DRACO_MESH_COMPRESSION];if(e=n?"draco:"+n.bufferView+":"+n.indices+":"+Sx(n.attributes):t.indices+":"+Sx(t.attributes)+":"+t.mode,void 0!==t.targets)for(let n=0,i=t.targets.length;n<i;n++)e+=":"+Sx(t.targets[n]);return e}function Sx(t){let e="";const n=Object.keys(t).sort();for(let i=0,r=n.length;i<r;i++)e+=n[i]+":"+t[n[i]]+";";return e}function Mx(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const Ex=new Be;class wx{constructor(t={},e={}){this.json=t,this.extensions={},this.plugins={},this.options=e,this.cache=new Uy,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,i=!1,r=-1;"undefined"!=typeof navigator&&(n=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),i=navigator.userAgent.indexOf("Firefox")>-1,r=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"==typeof createImageBitmap||n||i&&r<98?this.textureLoader=new Xa(this.options.manager):this.textureLoader=new ul(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Wa(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,e){const n=this,i=this.json,r=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(t){return t._markDefs&&t._markDefs()}),Promise.all(this._invokeAll(function(t){return t.beforeRoot&&t.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(e){const o={scene:e[0][i.scene||0],scenes:e[0],animations:e[1],cameras:e[2],asset:i.asset,parser:n,userData:{}};return vx(r,o,i),_x(o,i),Promise.all(n._invokeAll(function(t){return t.afterRoot&&t.afterRoot(o)})).then(function(){for(const t of o.scenes)t.updateMatrixWorld();t(o)})}).catch(e)}_markDefs(){const t=this.json.nodes||[],e=this.json.skins||[],n=this.json.meshes||[];for(let n=0,i=e.length;n<i;n++){const i=e[n].joints;for(let e=0,n=i.length;e<n;e++)t[i[e]].isBone=!0}for(let e=0,i=t.length;e<i;e++){const i=t[e];void 0!==i.mesh&&(this._addNodeRef(this.meshCache,i.mesh),void 0!==i.skin&&(n[i.mesh].isSkinnedMesh=!0)),void 0!==i.camera&&this._addNodeRef(this.cameraCache,i.camera)}}_addNodeRef(t,e){void 0!==e&&(void 0===t.refs[e]&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)}_getNodeRef(t,e,n){if(t.refs[e]<=1)return n;const i=n.clone(),r=(t,e)=>{const n=this.associations.get(t);null!=n&&this.associations.set(e,n);for(const[n,i]of t.children.entries())r(i,e.children[n])};return r(n,i),i.name+="_instance_"+t.uses[e]++,i}_invokeOne(t){const e=Object.values(this.plugins);e.push(this);for(let n=0;n<e.length;n++){const i=t(e[n]);if(i)return i}return null}_invokeAll(t){const e=Object.values(this.plugins);e.unshift(this);const n=[];for(let i=0;i<e.length;i++){const r=t(e[i]);r&&n.push(r)}return n}getDependency(t,e){const n=t+":"+e;let i=this.cache.get(n);if(!i){switch(t){case"scene":i=this.loadScene(e);break;case"node":i=this._invokeOne(function(t){return t.loadNode&&t.loadNode(e)});break;case"mesh":i=this._invokeOne(function(t){return t.loadMesh&&t.loadMesh(e)});break;case"accessor":i=this.loadAccessor(e);break;case"bufferView":i=this._invokeOne(function(t){return t.loadBufferView&&t.loadBufferView(e)});break;case"buffer":i=this.loadBuffer(e);break;case"material":i=this._invokeOne(function(t){return t.loadMaterial&&t.loadMaterial(e)});break;case"texture":i=this._invokeOne(function(t){return t.loadTexture&&t.loadTexture(e)});break;case"skin":i=this.loadSkin(e);break;case"animation":i=this._invokeOne(function(t){return t.loadAnimation&&t.loadAnimation(e)});break;case"camera":i=this.loadCamera(e);break;default:if(i=this._invokeOne(function(n){return n!=this&&n.getDependency&&n.getDependency(t,e)}),!i)throw new Error("Unknown type: "+t)}this.cache.add(n,i)}return i}getDependencies(t){let e=this.cache.get(t);if(!e){const n=this,i=this.json[t+("mesh"===t?"es":"s")]||[];e=Promise.all(i.map(function(e,i){return n.getDependency(t,i)})),this.cache.add(t,e)}return e}loadBuffer(t){const e=this.json.buffers[t],n=this.fileLoader;if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(void 0===e.uri&&0===t)return Promise.resolve(this.extensions[Oy.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(t,r){n.load(cl.resolveURL(e.uri,i.path),t,void 0,function(){r(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))})})}loadBufferView(t){const e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then(function(t){const n=e.byteLength||0,i=e.byteOffset||0;return t.slice(i,i+n)})}loadAccessor(t){const e=this,n=this.json,i=this.json.accessors[t];if(void 0===i.bufferView&&void 0===i.sparse){const t=fx[i.type],e=dx[i.componentType],n=!0===i.normalized,r=new e(i.count*t);return Promise.resolve(new On(r,t,n))}const r=[];return void 0!==i.bufferView?r.push(this.getDependency("bufferView",i.bufferView)):r.push(null),void 0!==i.sparse&&(r.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(r).then(function(t){const r=t[0],o=fx[i.type],s=dx[i.componentType],a=s.BYTES_PER_ELEMENT,l=a*o,c=i.byteOffset||0,u=void 0!==i.bufferView?n.bufferViews[i.bufferView].byteStride:void 0,d=!0===i.normalized;let p,h;if(u&&u!==l){const t=Math.floor(c/u),n="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+t+":"+i.count;let l=e.cache.get(n);l||(p=new s(r,t*u,i.count*u/a),l=new Ms(p,u/a),e.cache.add(n,l)),h=new ws(l,o,c%u/a,d)}else p=null===r?new s(i.count*o):new s(r,c,i.count*o),h=new On(p,o,d);if(void 0!==i.sparse){const e=fx.SCALAR,n=dx[i.sparse.indices.componentType],a=i.sparse.indices.byteOffset||0,l=i.sparse.values.byteOffset||0,c=new n(t[1],a,i.sparse.count*e),u=new s(t[2],l,i.sparse.count*o);null!==r&&(h=new On(h.array.slice(),h.itemSize,h.normalized));for(let t=0,e=c.length;t<e;t++){const e=c[t];if(h.setX(e,u[t*o]),o>=2&&h.setY(e,u[t*o+1]),o>=3&&h.setZ(e,u[t*o+2]),o>=4&&h.setW(e,u[t*o+3]),o>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return h})}loadTexture(t){const e=this.json,n=this.options,i=e.textures[t].source,r=e.images[i];let o=this.textureLoader;if(r.uri){const t=n.manager.getHandler(r.uri);null!==t&&(o=t)}return this.loadTextureImage(t,i,o)}loadTextureImage(t,e,n){const i=this,r=this.json,o=r.textures[t],s=r.images[e],a=(s.uri||s.bufferView)+":"+o.sampler;if(this.textureCache[a])return this.textureCache[a];const l=this.loadImageSource(e,n).then(function(e){e.flipY=!1,e.name=o.name||s.name||"",""===e.name&&"string"==typeof s.uri&&!1===s.uri.startsWith("data:image/")&&(e.name=s.uri);const n=(r.samplers||{})[o.sampler]||{};return e.magFilter=px[n.magFilter]||O,e.minFilter=px[n.minFilter]||F,e.wrapS=hx[n.wrapS]||P,e.wrapT=hx[n.wrapT]||P,i.associations.set(e,{textures:t}),e}).catch(function(){return null});return this.textureCache[a]=l,l}loadImageSource(t,e){const n=this.json,i=this.options;if(void 0!==this.sourceCache[t])return this.sourceCache[t].then(t=>t.clone());const r=n.images[t],o=self.URL||self.webkitURL;let s=r.uri||"",a=!1;if(void 0!==r.bufferView)s=this.getDependency("bufferView",r.bufferView).then(function(t){a=!0;const e=new Blob([t],{type:r.mimeType});return s=o.createObjectURL(e),s});else if(void 0===r.uri)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const l=Promise.resolve(s).then(function(t){return new Promise(function(n,r){let o=n;!0===e.isImageBitmapLoader&&(o=function(t){const e=new ie(t);e.needsUpdate=!0,n(e)}),e.load(cl.resolveURL(t,i.path),o,void 0,r)})}).then(function(t){var e;return!0===a&&o.revokeObjectURL(s),_x(t,r),t.userData.mimeType=r.mimeType||((e=r.uri).search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/)?"image/jpeg":e.search(/\.webp($|\?)/i)>0||0===e.search(/^data\:image\/webp/)?"image/webp":"image/png"),t}).catch(function(t){throw console.error("THREE.GLTFLoader: Couldn't load texture",s),t});return this.sourceCache[t]=l,l}assignTexture(t,e,n,i){const r=this;return this.getDependency("texture",n.index).then(function(o){if(!o)return null;if(void 0!==n.texCoord&&n.texCoord>0&&((o=o.clone()).channel=n.texCoord),r.extensions[Oy.KHR_TEXTURE_TRANSFORM]){const t=void 0!==n.extensions?n.extensions[Oy.KHR_TEXTURE_TRANSFORM]:void 0;if(t){const e=r.associations.get(o);o=r.extensions[Oy.KHR_TEXTURE_TRANSFORM].extendTexture(o,t),r.associations.set(o,e)}}return void 0!==i&&(o.colorSpace=i),t[e]=o,o})}assignFinalMaterial(t){const e=t.geometry;let n=t.material;const i=void 0===e.attributes.tangent,r=void 0!==e.attributes.color,o=void 0===e.attributes.normal;if(t.isPoints){const t="PointsMaterial:"+n.uuid;let e=this.cache.get(t);e||(e=new da,In.prototype.copy.call(e,n),e.color.copy(n.color),e.map=n.map,e.sizeAttenuation=!1,this.cache.add(t,e)),n=e}else if(t.isLine){const t="LineBasicMaterial:"+n.uuid;let e=this.cache.get(t);e||(e=new $s,In.prototype.copy.call(e,n),e.color.copy(n.color),e.map=n.map,this.cache.add(t,e)),n=e}if(i||r||o){let t="ClonedMaterial:"+n.uuid+":";i&&(t+="derivative-tangents:"),r&&(t+="vertex-colors:"),o&&(t+="flat-shading:");let e=this.cache.get(t);e||(e=n.clone(),r&&(e.vertexColors=!0),o&&(e.flatShading=!0),i&&(e.normalScale&&(e.normalScale.y*=-1),e.clearcoatNormalScale&&(e.clearcoatNormalScale.y*=-1)),this.cache.add(t,e),this.associations.set(e,this.associations.get(n))),n=e}t.material=n}getMaterialType(){return ga}loadMaterial(t){const e=this,n=this.json,i=this.extensions,r=n.materials[t];let o;const s={},a=[];if((r.extensions||{})[Oy.KHR_MATERIALS_UNLIT]){const t=i[Oy.KHR_MATERIALS_UNLIT];o=t.getMaterialType(),a.push(t.extendParams(s,r,e))}else{const n=r.pbrMetallicRoughness||{};if(s.color=new Cn(1,1,1),s.opacity=1,Array.isArray(n.baseColorFactor)){const t=n.baseColorFactor;s.color.setRGB(t[0],t[1],t[2],ot),s.opacity=t[3]}void 0!==n.baseColorTexture&&a.push(e.assignTexture(s,"map",n.baseColorTexture,rt)),s.metalness=void 0!==n.metallicFactor?n.metallicFactor:1,s.roughness=void 0!==n.roughnessFactor?n.roughnessFactor:1,void 0!==n.metallicRoughnessTexture&&(a.push(e.assignTexture(s,"metalnessMap",n.metallicRoughnessTexture)),a.push(e.assignTexture(s,"roughnessMap",n.metallicRoughnessTexture))),o=this._invokeOne(function(e){return e.getMaterialType&&e.getMaterialType(t)}),a.push(Promise.all(this._invokeAll(function(e){return e.extendMaterialParams&&e.extendMaterialParams(t,s)})))}!0===r.doubleSided&&(s.side=2);const l=r.alphaMode||"OPAQUE";if("BLEND"===l?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,"MASK"===l&&(s.alphaTest=void 0!==r.alphaCutoff?r.alphaCutoff:.5)),void 0!==r.normalTexture&&o!==Nn&&(a.push(e.assignTexture(s,"normalMap",r.normalTexture)),s.normalScale=new Ut(1,1),void 0!==r.normalTexture.scale)){const t=r.normalTexture.scale;s.normalScale.set(t,t)}if(void 0!==r.occlusionTexture&&o!==Nn&&(a.push(e.assignTexture(s,"aoMap",r.occlusionTexture)),void 0!==r.occlusionTexture.strength&&(s.aoMapIntensity=r.occlusionTexture.strength)),void 0!==r.emissiveFactor&&o!==Nn){const t=r.emissiveFactor;s.emissive=(new Cn).setRGB(t[0],t[1],t[2],ot)}return void 0!==r.emissiveTexture&&o!==Nn&&a.push(e.assignTexture(s,"emissiveMap",r.emissiveTexture,rt)),Promise.all(a).then(function(){const n=new o(s);return r.name&&(n.name=r.name),_x(n,r),e.associations.set(n,{materials:t}),r.extensions&&vx(i,n,r),n})}createUniqueName(t){const e=vl.sanitizeNodeName(t||"");return e in this.nodeNamesUsed?e+"_"+ ++this.nodeNamesUsed[e]:(this.nodeNamesUsed[e]=0,e)}loadGeometries(t){const e=this,n=this.extensions,i=this.primitiveCache;function r(t){return n[Oy.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(t,e).then(function(n){return Tx(n,t,e)})}const o=[];for(let n=0,s=t.length;n<s;n++){const s=t[n],a=bx(s),l=i[a];if(l)o.push(l.promise);else{let t;t=s.extensions&&s.extensions[Oy.KHR_DRACO_MESH_COMPRESSION]?r(s):Tx(new Yn,s,e),i[a]={primitive:s,promise:t},o.push(t)}}return Promise.all(o)}loadMesh(t){const e=this,n=this.json,i=this.extensions,r=n.meshes[t],o=r.primitives,s=[];for(let t=0,e=o.length;t<e;t++){const e=void 0===o[t].material?gx(this.cache):this.getDependency("material",o[t].material);s.push(e)}return s.push(e.loadGeometries(o)),Promise.all(s).then(function(n){const s=n.slice(0,n.length-1),a=n[n.length-1],l=[];for(let n=0,c=a.length;n<c;n++){const c=a[n],u=o[n];let d;const p=s[n];if(u.mode===ux.TRIANGLES||u.mode===ux.TRIANGLE_STRIP||u.mode===ux.TRIANGLE_FAN||void 0===u.mode)d=!0===r.isSkinnedMesh?new Us(c,p):new pi(c,p),!0===d.isSkinnedMesh&&d.normalizeSkinWeights(),u.mode===ux.TRIANGLE_STRIP?d.geometry=Ny(d.geometry,1):u.mode===ux.TRIANGLE_FAN&&(d.geometry=Ny(d.geometry,2));else if(u.mode===ux.LINES)d=new ca(c,p);else if(u.mode===ux.LINE_STRIP)d=new oa(c,p);else if(u.mode===ux.LINE_LOOP)d=new ua(c,p);else{if(u.mode!==ux.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+u.mode);d=new ya(c,p)}Object.keys(d.geometry.morphAttributes).length>0&&zx(d,r),d.name=e.createUniqueName(r.name||"mesh_"+t),_x(d,r),u.extensions&&vx(i,d,u),e.assignFinalMaterial(d),l.push(d)}for(let n=0,i=l.length;n<i;n++)e.associations.set(l[n],{meshes:t,primitives:n});if(1===l.length)return r.extensions&&vx(i,l[0],r),l[0];const c=new ps;r.extensions&&vx(i,c,r),e.associations.set(c,{meshes:t});for(let t=0,e=l.length;t<e;t++)c.add(l[t]);return c})}loadCamera(t){let e;const n=this.json.cameras[t],i=n[n.type];if(i)return"perspective"===n.type?e=new Mi(Dt(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):"orthographic"===n.type&&(e=new $i(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(e.name=this.createUniqueName(n.name)),_x(e,n),Promise.resolve(e);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(t){const e=this.json.skins[t],n=[];for(let t=0,i=e.joints.length;t<i;t++)n.push(this._loadNodeShallow(e.joints[t]));return void 0!==e.inverseBindMatrices?n.push(this.getDependency("accessor",e.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(t){const n=t.pop(),i=t,r=[],o=[];for(let t=0,s=i.length;t<s;t++){const s=i[t];if(s){r.push(s);const e=new Be;null!==n&&e.fromArray(n.array,16*t),o.push(e)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',e.joints[t])}return new Hs(r,o)})}loadAnimation(t){const e=this.json,n=this,i=e.animations[t],r=i.name?i.name:"animation_"+t,o=[],s=[],a=[],l=[],c=[];for(let t=0,e=i.channels.length;t<e;t++){const e=i.channels[t],n=i.samplers[e.sampler],r=e.target,u=r.node,d=void 0!==i.parameters?i.parameters[n.input]:n.input,p=void 0!==i.parameters?i.parameters[n.output]:n.output;void 0!==r.node&&(o.push(this.getDependency("node",u)),s.push(this.getDependency("accessor",d)),a.push(this.getDependency("accessor",p)),l.push(n),c.push(r))}return Promise.all([Promise.all(o),Promise.all(s),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(t){const e=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=[];for(let t=0,r=e.length;t<r;t++){const r=e[t],c=i[t],u=o[t],d=s[t],p=a[t];if(void 0===r)continue;r.updateMatrix&&r.updateMatrix();const h=n._createAnimationTracks(r,c,u,d,p);if(h)for(let t=0;t<h.length;t++)l.push(h[t])}return new Ua(r,void 0,l)})}createNodeMesh(t){const e=this.json,n=this,i=e.nodes[t];return void 0===i.mesh?null:n.getDependency("mesh",i.mesh).then(function(t){const e=n._getNodeRef(n.meshCache,i.mesh,t);return void 0!==i.weights&&e.traverse(function(t){if(t.isMesh)for(let e=0,n=i.weights.length;e<n;e++)t.morphTargetInfluences[e]=i.weights[e]}),e})}loadNode(t){const e=this,n=this.json.nodes[t],i=e._loadNodeShallow(t),r=[],o=n.children||[];for(let t=0,n=o.length;t<n;t++)r.push(e.getDependency("node",o[t]));const s=void 0===n.skin?Promise.resolve(null):e.getDependency("skin",n.skin);return Promise.all([i,Promise.all(r),s]).then(function(t){const e=t[0],n=t[1],i=t[2];null!==i&&e.traverse(function(t){t.isSkinnedMesh&&t.bind(i,Ex)});for(let t=0,i=n.length;t<i;t++)e.add(n[t]);return e})}_loadNodeShallow(t){const e=this.json,n=this.extensions,i=this;if(void 0!==this.nodeCache[t])return this.nodeCache[t];const r=e.nodes[t],o=r.name?i.createUniqueName(r.name):"",s=[],a=i._invokeOne(function(e){return e.createNodeMesh&&e.createNodeMesh(t)});return a&&s.push(a),void 0!==r.camera&&s.push(i.getDependency("camera",r.camera).then(function(t){return i._getNodeRef(i.cameraCache,r.camera,t)})),i._invokeAll(function(e){return e.createNodeAttachment&&e.createNodeAttachment(t)}).forEach(function(t){s.push(t)}),this.nodeCache[t]=Promise.all(s).then(function(e){let s;if(s=!0===r.isBone?new Os:e.length>1?new ps:1===e.length?e[0]:new fn,s!==e[0])for(let t=0,n=e.length;t<n;t++)s.add(e[t]);if(r.name&&(s.userData.name=r.name,s.name=o),_x(s,r),r.extensions&&vx(n,s,r),void 0!==r.matrix){const t=new Be;t.fromArray(r.matrix),s.applyMatrix4(t)}else void 0!==r.translation&&s.position.fromArray(r.translation),void 0!==r.rotation&&s.quaternion.fromArray(r.rotation),void 0!==r.scale&&s.scale.fromArray(r.scale);return i.associations.has(s)||i.associations.set(s,{}),i.associations.get(s).nodes=t,s}),this.nodeCache[t]}loadScene(t){const e=this.extensions,n=this.json.scenes[t],i=this,r=new ps;n.name&&(r.name=i.createUniqueName(n.name)),_x(r,n),n.extensions&&vx(e,r,n);const o=n.nodes||[],s=[];for(let t=0,e=o.length;t<e;t++)s.push(i.getDependency("node",o[t]));return Promise.all(s).then(function(t){for(let e=0,n=t.length;e<n;e++)r.add(t[e]);return i.associations=(t=>{const e=new Map;for(const[t,n]of i.associations)(t instanceof In||t instanceof ie)&&e.set(t,n);return t.traverse(t=>{const n=i.associations.get(t);null!=n&&e.set(t,n)}),e})(r),r})}_createAnimationTracks(t,e,n,i,r){const o=[],s=t.name?t.name:t.uuid,a=[];let l;switch(yx[r.path]===yx.weights?t.traverse(function(t){t.morphTargetInfluences&&a.push(t.name?t.name:t.uuid)}):a.push(s),yx[r.path]){case yx.weights:l=Pa;break;case yx.rotation:l=Ia;break;case yx.position:case yx.scale:l=Da;break;default:l=1===n.itemSize?Pa:Da}const c=void 0!==i.interpolation?xx[i.interpolation]:et,u=this._getArrayFromAccessor(n);for(let t=0,n=a.length;t<n;t++){const n=new l(a[t]+"."+yx[r.path],e.array,u,c);"CUBICSPLINE"===i.interpolation&&this._createCubicSplineTrackInterpolant(n),o.push(n)}return o}_getArrayFromAccessor(t){let e=t.array;if(t.normalized){const t=Mx(e.constructor),n=new Float32Array(e.length);for(let i=0,r=e.length;i<r;i++)n[i]=e[i]*t;e=n}return e}_createCubicSplineTrackInterpolant(t){t.createInterpolant=function(t){return new(this instanceof Ia?cx:ax)(this.times,this.values,this.getValueSize()/3,t)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Tx(t,e,n){const i=e.attributes,r=[];function o(e,i){return n.getDependency("accessor",e).then(function(e){t.setAttribute(i,e)})}for(const e in i){const n=mx[e]||e.toLowerCase();n in t.attributes||r.push(o(i[e],n))}if(void 0!==e.indices&&!t.index){const i=n.getDependency("accessor",e.indices).then(function(e){t.setIndex(e)});r.push(i)}return Yt.workingColorSpace!==ot&&"COLOR_0"in i&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${Yt.workingColorSpace}" not supported.`),_x(t,e),function(t,e,n){const i=e.attributes,r=new he;if(void 0===i.POSITION)return;{const t=n.json.accessors[i.POSITION],e=t.min,o=t.max;if(void 0===e||void 0===o)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(r.set(new ue(e[0],e[1],e[2]),new ue(o[0],o[1],o[2])),t.normalized){const e=Mx(dx[t.componentType]);r.min.multiplyScalar(e),r.max.multiplyScalar(e)}}const o=e.targets;if(void 0!==o){const t=new ue,e=new ue;for(let i=0,r=o.length;i<r;i++){const r=o[i];if(void 0!==r.POSITION){const i=n.json.accessors[r.POSITION],o=i.min,s=i.max;if(void 0!==o&&void 0!==s){if(e.setX(Math.max(Math.abs(o[0]),Math.abs(s[0]))),e.setY(Math.max(Math.abs(o[1]),Math.abs(s[1]))),e.setZ(Math.max(Math.abs(o[2]),Math.abs(s[2]))),i.normalized){const t=Mx(dx[i.componentType]);e.multiplyScalar(t)}t.max(e)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(t)}t.boundingBox=r;const s=new Pe;r.getCenter(s.center),s.radius=r.min.distanceTo(r.max)/2,t.boundingSphere=s}(t,e,n),Promise.all(r).then(function(){return void 0!==e.targets?function(t,e,n){let i=!1,r=!1,o=!1;for(let t=0,n=e.length;t<n;t++){const n=e[t];if(void 0!==n.POSITION&&(i=!0),void 0!==n.NORMAL&&(r=!0),void 0!==n.COLOR_0&&(o=!0),i&&r&&o)break}if(!i&&!r&&!o)return Promise.resolve(t);const s=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const u=e[c];if(i){const e=void 0!==u.POSITION?n.getDependency("accessor",u.POSITION):t.attributes.position;s.push(e)}if(r){const e=void 0!==u.NORMAL?n.getDependency("accessor",u.NORMAL):t.attributes.normal;a.push(e)}if(o){const e=void 0!==u.COLOR_0?n.getDependency("accessor",u.COLOR_0):t.attributes.color;l.push(e)}}return Promise.all([Promise.all(s),Promise.all(a),Promise.all(l)]).then(function(e){const n=e[0],s=e[1],a=e[2];return i&&(t.morphAttributes.position=n),r&&(t.morphAttributes.normal=s),o&&(t.morphAttributes.color=a),t.morphTargetsRelative=!0,t})}(t,e.targets,n):t})}function Ax({onLoadComplete:t,onProgress:e,setGetCameraInfo:n,setCameraMove:i,onCheckpointSaved:o,allChapters:s,onNearbyCheckpoint:a,destinationCheckpoint:l,onCameraInfo:c}){const u=(0,r.useRef)(null),d=(0,r.useRef)(),p=(0,r.useRef)(!1),h=(0,r.useRef)([]),f=(0,r.useRef)(0),m=(0,r.useRef)(1),y=(0,r.useRef)(null),x=(0,r.useRef)(1),g=(0,r.useRef)(0),v=(0,r.useRef)(null),_=(0,r.useRef)(0);return(0,r.useEffect)(()=>{const r=new Ss;r.fog=new bs(724756,800,4e3);const l=new Mi(60,window.innerWidth/window.innerHeight,.1,4e4);d.current=l,i&&i((t,e,n)=>{if("forward"===t||"backward"===t){const e=20,n=new ue;l.getWorldDirection(n),"backward"===t&&n.negate(),l.position.addScaledVector(n,e)}else"set"===t&&e&&n&&(l.position.set(e.x,e.y,e.z),l.lookAt(e.x+n.x,e.y+n.y,e.z+n.z),T=l.rotation.x,A=l.rotation.y,g.current=performance.now()+200)}),n&&n(()=>()=>{const t=d.current.position,e=new ue;return d.current.getWorldDirection(e),{position:{x:t.x,y:t.y,z:t.z},direction:{x:e.x,y:e.y,z:e.z}}}),l.position.set(25,140,1600),new ue;let z=!1,b=!1,S=!1,M=!1,E=!1,w=!1,T=0,A=0,R=!1;const C=new zs({antialias:!1,powerPreference:"low-power"});C.setSize(window.innerWidth,window.innerHeight),C.setPixelRatio(1),C.shadowMap.enabled=!1,C.sortObjects=!1,u.current.appendChild(C.domElement);const P=new ll(16777215,.6),L=new Ya(16777215,4473958,.6),I=new al(16777215,1);I.position.set(5,10,5),r.add(P,L,I),(new Dy).load("https://github.com/TitanSolve/3d_frontend/releases/download/v1.0.0/hintze_hall.glb",e=>{const n=e.scene;n.scale.set(100,100,100),n.rotation.set(-4.7,3.15,0),r.add(n);const i=new ue(25,140,1600);mh.to(l.position,{x:i.x,y:i.y,z:i.z,duration:1.4,ease:"power3.inOut",onUpdate:()=>{l.lookAt(0,2,0)},onComplete:()=>{t&&t()}})},t=>{if(t.lengthComputable&&e){const n=t.loaded/t.total*100;e(Math.max(0,Math.min(100,n)))}else e&&e(50)},n=>{console.error("Failed to load hall GLB:",n),t&&t(),e&&e(100)});const N=new dl;let D;const U=1e3/30;let O=performance.now();const k={current:!1};function F(){k.current=document.hidden}document.addEventListener("visibilitychange",F);const B=new ue,H=new ue,V=new Ze;function G(){R||C.domElement.requestPointerLock()}function W(){R=document.pointerLockElement===C.domElement}function j(t){if(!R)return;const e=t.movementX||0,n=t.movementY||0;A-=.002*e,T-=.002*n,T=Math.max(-Math.PI/2,Math.min(Math.PI/2,T))}function X(t){switch(t.code){case"ArrowUp":z=!0;break;case"ArrowDown":b=!0;break;case"ArrowLeft":S=!0;break;case"ArrowRight":M=!0;break;case"PageUp":E=!0;break;case"PageDown":w=!0}}function q(t){switch(t.code){case"ArrowUp":z=!1;break;case"ArrowDown":b=!1;break;case"ArrowLeft":S=!1;break;case"ArrowRight":M=!1;break;case"PageUp":E=!1;break;case"PageDown":w=!1}}function Y(){l.aspect=window.innerWidth/window.innerHeight,l.updateProjectionMatrix(),C.setSize(window.innerWidth,window.innerHeight)}return function t(){if(D=requestAnimationFrame(t),k.current)return;const e=performance.now();if(e-O<U)return;O=e;const n=Math.min(N.getDelta(),.1);let i=!1;if(B.set(0,0,0),z&&(B.z-=1),b&&(B.z+=1),S&&(B.x-=1),M&&(B.x+=1),E&&(B.y+=1),w&&(B.y-=1),B.lengthSq()>0){B.normalize(),V.set(T,A,0,"YXZ"),B.applyEuler(V);const t=250*n;l.position.addScaledVector(B,t),i=!0}const o=performance.now();if(o-_.current>=200&&(_.current=o,a&&s&&s.length>0)){const t=l.position;let e=null,n=40;for(let i=0;i<s.length;i++){const r=s[i];if(!r.position)continue;const o=t.x-r.position.x,a=t.y-r.position.y,l=t.z-r.position.z,c=Math.sqrt(o*o+a*a+l*l);c<n&&(n=c,e=r)}const i=e?e.id:null;i!==v.current&&(v.current=i,a(e,!!e))}if(p.current){const t=performance.now();if(t-f.current>100){f.current=t;const e=l.position;l.getWorldDirection(H),h.current.push({position:{x:e.x,y:e.y,z:e.z},direction:{x:H.x,y:H.y,z:H.z}})}}const u=performance.now();if((R||u>g.current)&&(V.set(T,A,0,"YXZ"),l.rotation.copy(V)),c){const t=l.position;l.getWorldDirection(H),c({position:{x:t.x,y:t.y,z:t.z},direction:{x:H.x,y:H.y,z:H.z}})}C.render(r,l)}(),o&&o(t=>{if(p.current&&h.current.length>1){y.current=t;let e=[];try{e=JSON.parse(localStorage.getItem("animations.txt")||"[]")}catch{e=[]}const n=e.reduce((t,e)=>Math.max(t,e.animationId||0),0);x.current=n+1,e.push({animationId:x.current,prevCheckpointId:m.current,nextCheckpointId:y.current,points:h.current}),localStorage.setItem("animations.txt",JSON.stringify(e)),m.current=t,h.current=[]}p.current=!0,f.current=performance.now()}),C.domElement.addEventListener("click",G),document.addEventListener("pointerlockchange",W),document.addEventListener("mousemove",j),document.addEventListener("keydown",X),document.addEventListener("keyup",q),window.addEventListener("resize",Y),()=>{cancelAnimationFrame(D),document.removeEventListener("visibilitychange",F),window.removeEventListener("resize",Y),document.removeEventListener("pointerlockchange",W),document.removeEventListener("mousemove",j),document.removeEventListener("keydown",X),document.removeEventListener("keyup",q),C.domElement.removeEventListener("click",G),C.dispose(),u.current?.removeChild(C.domElement)}},[]),(0,Ly.jsx)("div",{className:"exhibition-canvas",ref:u})}function Rx({open:t,onSubmit:e,onCancel:n,onMoveForward:i,onMoveBackward:o}){const s=(0,r.useRef)(),a=(0,r.useRef)();function l(t){"Enter"===t.key?(t.preventDefault(),e({title:s.current.value,comment:a.current.value})):"Escape"===t.key&&n()}return t?(0,Ly.jsx)("div",{className:"checkpoint-modal-overlay",children:(0,Ly.jsxs)("div",{className:"checkpoint-modal",children:[(0,Ly.jsx)("h2",{children:"Add Checkpoint"}),(0,Ly.jsx)("input",{ref:s,className:"checkpoint-title",placeholder:"Checkpoint Title",autoFocus:!0,onKeyDown:l}),(0,Ly.jsx)("textarea",{ref:a,className:"checkpoint-comment",placeholder:"Comment (optional)",onKeyDown:l}),(0,Ly.jsxs)("div",{style:{display:"flex",gap:8,margin:"8px 0"},children:[(0,Ly.jsx)("button",{type:"button",onClick:i,title:"Move Forward",children:""}),(0,Ly.jsx)("button",{type:"button",onClick:o,title:"Move Backward",children:""})]}),(0,Ly.jsxs)("div",{className:"checkpoint-modal-actions",children:[(0,Ly.jsx)("button",{onClick:()=>e({title:s.current.value,comment:a.current.value}),children:"Save"}),(0,Ly.jsx)("button",{onClick:n,children:"Cancel"})]})]})}):null}function Cx({chapters:t=[],cameraInfo:e,onSelectChapter:n,onClose:i}){const o=(0,r.useMemo)(()=>{if(!t.length)return null;let e=1/0,n=-1/0,i=1/0,r=-1/0;for(const o of t){if(!o?.position)continue;const{x:t,z:s}=o.position;t<e&&(e=t),t>n&&(n=t),s<i&&(i=s),s>r&&(r=s)}if(!(isFinite(e)&&isFinite(n)&&isFinite(i)&&isFinite(r)))return null;const o=.1*(n-e)||5,s=.1*(r-i)||5;return e===n&&(e-=1,n+=1),i===r&&(i-=1,r+=1),{minX:e-o,maxX:n+o,minZ:i-s,maxZ:r+s}},[t]),s=t=>{if(!o||!t)return{left:0,top:0};const{minX:e,maxX:n,minZ:i,maxZ:r}=o,s=n-e,a=r-i,l=Math.min(740/s,440/a),c=(600-l*a)/2;return{left:(900-l*s)/2+(t.x-e)*l,top:c+(t.z-i)*l}};return(0,Ly.jsx)("div",{style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",zIndex:2500,pointerEvents:"none"},children:(0,Ly.jsxs)("div",{style:{position:"relative",width:900,height:600,pointerEvents:"auto",background:"rgba(15,23,42,0.14)",color:"#e4e5e7",borderRadius:"12px",border:"none",boxShadow:"0 16px 42px rgba(15,23,42,0.35)",backdropFilter:"blur(8px) saturate(140%)",overflow:"hidden"},children:[(0,Ly.jsx)("div",{style:{position:"absolute",top:20,left:0,right:0,textAlign:"center",fontWeight:600,fontSize:14,opacity:.95},children:"Mini-map"}),(0,Ly.jsx)("button",{onClick:i,style:{position:"absolute",top:10,right:10,fontSize:16,background:"transparent",color:"#e4e5e7",border:"none",cursor:"pointer",zIndex:10},children:""}),(0,Ly.jsxs)("div",{style:{position:"absolute",inset:80},children:[t&&t.map(t=>{if(!t?.position)return null;const e=s(t.position);return(0,Ly.jsxs)("div",{style:{position:"absolute",transform:"translate(-50%, -50%)",left:e.left,top:e.top},children:[(0,Ly.jsx)("button",{title:`#${t.id} ${t.title}`,onClick:e=>{e.stopPropagation(),n&&n(t)},style:{width:18,height:18,borderRadius:999,border:"2px solid rgba(255,255,255,0.9)",background:"linear-gradient(180deg, #a78bfa 0%, #7c3aed 100%)",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.35), 0 0 0 2px rgba(0,0,0,0.25)"}}),(0,Ly.jsx)("div",{style:{whiteSpace:"nowrap",transform:"translateY(6px) translateX(-50%)",fontSize:12,opacity:.95,position:"absolute",left:"50%",textAlign:"center"},children:t.title})]},`${t.source||"base"}-${t.id}`)}),e?.position&&o&&(()=>{const t=s(e.position);return(0,Ly.jsxs)("div",{style:{position:"absolute",transform:"translate(-50%, -50%)",left:t.left,top:t.top},children:[(0,Ly.jsx)("div",{style:{width:16,height:16,borderRadius:999,border:"2px solid #38bdf8",background:"rgba(56,189,248,0.25)",boxShadow:"0 2px 8px rgba(0,0,0,0.35), 0 0 0 2px rgba(0,0,0,0.25)"}}),(0,Ly.jsx)("div",{style:{fontSize:11,color:"#93c5fd",transform:"translateY(6px) translateX(-50%)",position:"absolute",left:"50%",textAlign:"center"},children:"You"})]})})()]})]})})}function Px({onLoadComplete:t}){const e=(0,r.useRef)(null),[n,i]=(0,r.useState)(0),[o,s]=(0,r.useState)(!1),[a,l]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{const n=new Ss;n.fog=new bs(724756,800,4e3);const r=new Mi(75,window.innerWidth/window.innerHeight,.1,4e4);r.position.set(25,140,1600);let a={x:0,y:0},c={x:0,y:0};const u=new ue(25,140,1600),d=new zs({antialias:!0,alpha:!0});d.setSize(window.innerWidth,window.innerHeight),d.setPixelRatio(Math.min(window.devicePixelRatio,2)),d.domElement.className="background-hall-canvas",e.current.appendChild(d.domElement);const p=new ll(16777215,.25),h=new Ya(8952234,1053984,.35),f=new al(16777215,.35);f.position.set(8,15,10),n.add(p,h,f);let m=0;const y=setInterval(()=>{!o&&m<90&&(m+=15*Math.random(),m>90&&(m=90),i(m))},200);let x;(new Dy).load("https://github.com/TitanSolve/3d_frontend/releases/download/v1.0.0/hintze_hall.glb",e=>{clearInterval(y),i(100);const r=e.scene;r.scale.set(100,100,100),r.rotation.set(-4.7,3.15,0),r.position.set(0,0,0),n.add(r),setTimeout(()=>{l(!0),setTimeout(()=>{s(!0),t?.()},2e3)},300)},t=>{if(t.lengthComputable){clearInterval(y);const e=t.loaded/t.total*100;i(e)}},t=>{clearInterval(y),console.error("Failed to load hall model:",t)}),new dl;const g=new ue(0,0,-1),v=new ue(1,0,0),_=new ue(0,1,0);function z(){r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),d.setSize(window.innerWidth,window.innerHeight)}return function t(){x=requestAnimationFrame(t);let e=0-a.x;c.x+=.18*e,c.x*=.88,a.x+=c.x;let i=0-a.y;c.y+=.18*i,c.y*=.88,a.y+=c.y;const o=Math.PI/9;a.x=Math.max(-o,Math.min(o,a.x)),a.y=Math.max(-o,Math.min(o,a.y)),r.position.copy(u),g.set(0,0,-1),g.applyAxisAngle(v,a.y),g.applyAxisAngle(_,a.x);const s=u.clone().add(g);r.lookAt(s),d.render(n,r)}(),window.addEventListener("resize",z),()=>{cancelAnimationFrame(x),window.removeEventListener("resize",z),d.dispose(),e.current&&e.current.removeChild(d.domElement)}},[]),(0,Ly.jsxs)(Ly.Fragment,{children:[(0,Ly.jsx)("div",{ref:e,className:"background-hall"}),!o&&(0,Ly.jsx)("div",{className:"loading-overlay "+(a?"fade-out":""),children:(0,Ly.jsxs)("div",{className:"loading-container",children:[(0,Ly.jsx)("img",{src:"/assets/images/loading-logo.jfif",alt:"Loading",className:"loading-logo"}),(0,Ly.jsx)("div",{className:"loading-text",children:"Loading.."}),(0,Ly.jsxs)("div",{className:"progress-bar-wrapper",children:[(0,Ly.jsx)("div",{className:"progress-bar-fill",style:{width:`${n}%`}}),(0,Ly.jsxs)("div",{className:"loading-percent",style:{right:100-n+"%"},children:[Math.round(n),"%"]})]})]})})]})}const Lx=JSON.parse('[{"id":11,"title":"Start","comment":"Hello, Welcome to our Hall! Please enjoy your visit!","position":{"x":25,"y":140,"z":1525},"direction":{"x":0,"y":0,"z":-1}},{"id":12,"title":"Giraffee","comment":"Giraffee can be imagined as an ancient, slightly mythical cousin of the modern giraffe, walking the edges of primeval forests and open savannas. Its form blends the familiar long-legged grace of todays giraffe with rougher, more robust features suited to a wilder, less stable world.","position":{"x":-400.7944,"y":173.7062,"z":1023.0624},"direction":{"x":-0.9862,"y":0.1494,"z":-0.0719}},{"id":13,"title":"Dinosaurs","comment":"Dinosaurs dominated Earth for over 165 million years, evolving into a vast array of forms from tiny feathered predators to colossal plant-eaters during the Mesozoic Era.","position":{"x":451.0153,"y":204.4508,"z":559.3418},"direction":{"x":0.9966,"y":0.0819,"z":0.0032}},{"id":14,"title":"Leonardo da Vinci","comment":"Leonardo da Vinci, often called Leo by admirers, stands as the ultimate Renaissance genius, blending art, science, and invention in ways that reshaped human understanding. Born in 1452 near the Tuscan town of Vinci, he apprenticed under Andrea del Verrocchio, mastering painting, sculpture, and engineering before dazzling courts in Milan, Florence, and France.","position":{"x":-42.6689,"y":430.8543,"z":-1463.5591},"direction":{"x":0.1711,"y":0.032,"z":-0.9847}},{"id":15,"title":"Ostrich","comment":"Ostriches represent the largest living birds on Earth, thriving as flightless giants across African savannas with remarkable speed and strength. Native to open grasslands and arid regions, they evolved powerful legs for sprinting up to 70 km/h, outpacing most land predators.","position":{"x":-775.093,"y":648.9442,"z":-1918.2842},"direction":{"x":-0.8994,"y":0.3108,"z":0.3073}},{"id":16,"title":"Socratess","comment":"Socratess emerges as a visionary thinker in ancient Athens, blending sharp intellect with unyielding pursuit of truth through relentless questioning. Living from around 470 to 399 BCE, she roamed the agora, challenging citizens on virtue, justice, and the good life, earning both admiration and enmity.","position":{"x":-141.8851,"y":625.5851,"z":1853.09},"direction":{"x":0.4457,"y":0.2416,"z":-0.862}},{"id":17,"title":"Lu vuru musuem","comment":"Lu vuru musuem, known today as the Louvre, captivates as a grand palace-turned-treasure trove in the heart of Paris, housing humanity\'s artistic legacy from antiquity to the Renaissance. Originally a 12th-century fortress built by King Philip II to defend against invaders, it evolved into a royal residence under monarchs like Francis I, who transformed it into a Renaissance jewel.","position":{"x":39.4663,"y":916.3467,"z":883.1625},"direction":{"x":-0.0295,"y":-0.2898,"z":-0.9566}},{"id":18,"title":"Giant Fish","comment":"Giant Fish roam the deepest oceans and vast rivers as nature\'s colossal swimmers, embodying power and mystery in aquatic realms. From the gentle behemoths of the sea to prehistoric monsters, they captivate with sizes defying imagination, often filter-feeding on plankton despite their immense bulk.","position":{"x":388.0885,"y":754.6459,"z":663.3262},"direction":{"x":-0.5523,"y":-0.04,"z":-0.8327}},{"id":19,"title":"oldman","comment":"This is a random old man","position":{"x":-821.6882,"y":1156.646,"z":1785.5485},"direction":{"x":-0.9981,"y":-0.028,"z":0.0548}},{"id":20,"title":"The Hall","comment":"This is the Hall","position":{"x":55.9575,"y":446.8395,"z":-1357.1849},"direction":{"x":-0.0151,"y":0.002,"z":0.9999}},{"id":21,"title":"Elephant","comment":"Elephants command awe as Earth\'s largest land animals, embodying ancient strength and profound intelligence across vast savannas and forests. African and Asian species thrive in matriarchal herds, roaming territories with trunks that serve as versatile tools for foraging, bathing, and social bonds.","position":{"x":253.9131,"y":276.3398,"z":990.8954},"direction":{"x":0.9952,"y":0.0779,"z":0.0597}},{"id":22,"title":"The end","comment":"Thanks for your view! Good bye","position":{"x":-55.4865,"y":305.6646,"z":1369.7676},"direction":{"x":0.1791,"y":0.0839,"z":-0.9802}}]'),Ix=JSON.parse('[{"animationId":1,"prevCheckpointId":1,"nextCheckpointId":12,"points":[{"position":{"x":25,"y":140,"z":1525},"direction":{"x":0,"y":0,"z":-1}},{"position":{"x":25,"y":140,"z":1525},"direction":{"x":0,"y":0,"z":-1}},{"position":{"x":25,"y":140,"z":1525},"direction":{"x":0,"y":0,"z":-1}},{"position":{"x":25,"y":140,"z":1525},"direction":{"x":0,"y":0,"z":-1}},{"position":{"x":25,"y":140,"z":1525},"direction":{"x":0,"y":0,"z":-1}},{"position":{"x":25,"y":140,"z":1525},"direction":{"x":0,"y":0,"z":-1}},{"position":{"x":25,"y":140,"z":1525},"direction":{"x":0,"y":0,"z":-1}},{"position":{"x":25,"y":140,"z":1525},"direction":{"x":0,"y":0,"z":-1}},{"position":{"x":25,"y":140,"z":1525},"direction":{"x":0,"y":0,"z":-1}},{"position":{"x":25,"y":140,"z":1525},"direction":{"x":0,"y":0,"z":-1}},{"position":{"x":25,"y":140,"z":1525},"direction":{"x":0,"y":0,"z":-1}},{"position":{"x":42.57128595178372,"y":140,"z":1507.2165832866501},"direction":{"x":0,"y":0,"z":-1}},{"position":{"x":57.64915671592743,"y":140.10606538078304,"z":1487.2755059999342},"direction":{"x":-0.005999964000064801,"y":0,"z":-0.999982000054}},{"position":{"x":70.91606153128751,"y":140.10606538078304,"z":1466.086139878689},"direction":{"x":-0.13755992877010315,"y":0.005999964000064801,"z":-0.9904752730021896}},{"position":{"x":82.31741143450569,"y":139.46980673036617,"z":1443.8464367486074},"direction":{"x":-0.22408104452317695,"y":0,"z":-0.974570513346983}},{"position":{"x":92.23047040120838,"y":138.62160439021298,"z":1420.9114892947143},"direction":{"x":-0.3067638018533734,"y":-0.035992224503869255,"z":-0.9511048993921374}},{"position":{"x":101.03165692689106,"y":137.7734020500598,"z":1397.5273136938877},"direction":{"x":-0.36863732127951687,"y":-0.04798157012324993,"z":-0.9283341501250344}},{"position":{"x":109.22052858964601,"y":136.99583554222812,"z":1373.9193114231146},"direction":{"x":-0.41275566273785025,"y":-0.04798157012324993,"z":-0.909577117019962}},{"position":{"x":116.88808447074993,"y":136.21826903439646,"z":1350.13688141405},"direction":{"x":-0.4363428363307734,"y":-0.04398580404090519,"z":-0.8987047224899238}},{"position":{"x":123.50291755165513,"y":135.40538298463247,"z":1326.0415872763588},"direction":{"x":-0.45600715465537,"y":-0.043985804040905206,"z":-0.8888884766639674}},{"position":{"x":128.2701058793316,"y":134.55718064447927,"z":1301.5149799235546},"direction":{"x":-0.494619737419036,"y":-0.04598377904960501,"z":-0.8678921634741502}},{"position":{"x":131.75604153340294,"y":133.70897830432608,"z":1276.7737429818446},"direction":{"x":-0.5590356979309841,"y":-0.04798157012324993,"z":-0.8277541044098333}},{"position":{"x":134.5479466719954,"y":132.8607759641729,"z":1251.9446105264556},"direction":{"x":-0.601303869872882,"y":-0.047981570123249946,"z":-0.7975784757654912}},{"position":{"x":136.39455631862262,"y":132.0125736240197,"z":1227.0273356834246},"direction":{"x":-0.623397453517319,"y":-0.047981570123249925,"z":-0.780431536956721}},{"position":{"x":136.68664572620685,"y":131.41164865383857,"z":1202.0362658192073},"direction":{"x":-0.652596676327561,"y":-0.04798157012324994,"z":-0.7561847307204296}},{"position":{"x":135.37538590721695,"y":131.02277129539763,"z":1177.0737064134253},"direction":{"x":-0.6985973207389249,"y":-0.033993449711951444,"z":-0.7147070930339763}},{"position":{"x":130.7376287395198,"y":130.9167059146146,"z":1152.5078773293403},"direction":{"x":-0.7431268329556022,"y":-0.02199822537627977,"z":-0.6687888966046542}},{"position":{"x":123.24092310598782,"y":131.1288328578384,"z":1128.6593049023768},"direction":{"x":-0.8259997936568527,"y":-0.005999964000064794,"z":-0.5636384845899317}},{"position":{"x":115.03224087792248,"y":131.3409598010622,"z":1105.0463309634888},"direction":{"x":-0.8865630780776893,"y":0.011999712002073601,"z":-0.46245206832847063}},{"position":{"x":105.70093636337442,"y":131.62379044573558,"z":1081.8548074498597},"direction":{"x":-0.9000356357223516,"y":0.0119997120020736,"z":-0.4356510775170076}},{"position":{"x":93.57561307553371,"y":132.0480137862699,"z":1059.9962491780364},"direction":{"x":-0.9198506999372121,"y":0.01599931734207142,"z":-0.3919422300156091}},{"position":{"x":78.17395356493688,"y":132.82558029410157,"z":1040.3192505592037},"direction":{"x":-0.9611105176405996,"y":0.023997696066354303,"z":-0.2751193985601991}},{"position":{"x":45.566316668666275,"y":134.746980506565,"z":1004.6800343938585},"direction":{"x":-0.9954920893985828,"y":0.049979169270678345,"z":-0.08060758391030498}},{"position":{"x":20.65532062788971,"y":136.4955516900033,"z":1005.8567990571892},"direction":{"x":-0.9980400025021275,"y":0.06196028630040828,"z":-0.008779312451724032}},{"position":{"x":-4.241922634105492,"y":138.2939968930614,"z":1007.2326161978848},"direction":{"x":-0.9964398416310625,"y":0.06994284733753281,"z":0.04707058653322682}},{"position":{"x":-29.1363644691838,"y":140.0924420961195,"z":1008.6582250402747},"direction":{"x":-0.9958897304798081,"y":0.07193780812232359,"z":0.05503268562782626}},{"position":{"x":-53.911885858508185,"y":142.04046539752704,"z":1011.3746096051519},"direction":{"x":-0.9957776734031323,"y":0.07193780812232359,"z":0.05702435369559855}},{"position":{"x":-78.61117433169133,"y":144.03833274675637,"z":1014.6842432666567},"direction":{"x":-0.9910208555729756,"y":0.07792093205630149,"z":0.10865538259508756}},{"position":{"x":-127.51576550859394,"y":147.99411009823044,"z":1021.2373179164363},"direction":{"x":-0.9879715389273258,"y":0.07991469396917274,"z":0.13238534646019232}},{"position":{"x":-152.3152655152479,"y":150.14146084478082,"z":1023.5554387483301},"direction":{"x":-0.9879715389273258,"y":0.07991469396917274,"z":0.13238534646019232}},{"position":{"x":-177.13237689491257,"y":152.33862247735297,"z":1025.625091745736},"direction":{"x":-0.9919800002661584,"y":0.08589402986201557,"z":0.09272483327575066}},{"position":{"x":-201.96810383808955,"y":154.58558620730324,"z":1027.3964813697999},"direction":{"x":-0.9926844551865868,"y":0.08788646530288535,"z":0.08278611989623696}},{"position":{"x":-226.8172070080774,"y":156.8325499372535,"z":1028.9691306134614},"direction":{"x":-0.9934290777270789,"y":0.08987854919801111,"z":0.07085558496255873}},{"position":{"x":-251.69235370758366,"y":159.12930677673,"z":1029.9448276455155},"direction":{"x":-0.9939641267995131,"y":0.08987854919801111,"z":0.06290596974645912}},{"position":{"x":-276.58141018710734,"y":161.47584753870842,"z":1029.7756708796023},"direction":{"x":-0.9950058679802518,"y":0.09187027357905991,"z":0.039027881282164285}},{"position":{"x":-301.45419348938947,"y":163.82238830068684,"z":1028.8600305298535},"direction":{"x":-0.9955622591809472,"y":0.0938616304791369,"z":-0.00676627063652302}},{"position":{"x":-326.3069840125353,"y":166.21870359900726,"z":1027.5965131363566},"direction":{"x":-0.9949113320912861,"y":0.0938616304791369,"z":-0.036625613989950796}},{"position":{"x":-351.1361307054758,"y":168.71453901517796,"z":1026.0851296390836},"direction":{"x":-0.9941116209258328,"y":0.09585261193281713,"z":-0.0505406957398722}},{"position":{"x":-375.96527739841633,"y":171.21037443134867,"z":1024.5737461418105},"direction":{"x":-0.9931658677176205,"y":0.09983341664682821,"z":-0.060455339890920654}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9931658677176205,"y":0.09983341664682821,"z":-0.060455339890920654}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9931658677176205,"y":0.09983341664682821,"z":-0.060455339890920654}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9931658677176205,"y":0.09983341664682821,"z":-0.060455339890920654}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9931658677176205,"y":0.09983341664682821,"z":-0.060455339890920654}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9931658677176205,"y":0.09983341664682821,"z":-0.060455339890920654}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9931658677176205,"y":0.09983341664682821,"z":-0.060455339890920654}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9931658677176205,"y":0.09983341664682821,"z":-0.060455339890920654}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9931658677176205,"y":0.09983341664682821,"z":-0.060455339890920654}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9931658677176205,"y":0.09983341664682821,"z":-0.060455339890920654}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9904842764239163,"y":0.1216975838125478,"z":-0.06426971488328481}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9890899971475025,"y":0.13161700581684344,"z":-0.0661660133494746}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}}]},{"animationId":2,"prevCheckpointId":12,"nextCheckpointId":13,"points":[{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9861523348475312,"y":0.1494381324735993,"z":-0.0719153463286233}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9860065319467488,"y":0.14943813247359933,"z":-0.07388750585280403}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":-0.9858567850211533,"y":0.1494381324735993,"z":-0.07585936982706022}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":0.4661953363255327,"y":-0.06196028630040817,"z":-0.8825093944598523}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":0.5154779804417843,"y":-0.03799085532693696,"z":-0.856060247056939}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":0.5171890688388676,"y":-0.03799085532693696,"z":-0.8550275796634357}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":0.5017156211112783,"y":-0.03799085532693696,"z":-0.864197969474849}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":0.5017156211112783,"y":-0.03799085532693696,"z":-0.864197969474849}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":0.5017156211112783,"y":-0.03799085532693696,"z":-0.864197969474849}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":0.5017156211112783,"y":-0.03799085532693696,"z":-0.864197969474849}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":0.5017156211112783,"y":-0.03799085532693696,"z":-0.864197969474849}},{"position":{"x":-400.79442409135686,"y":173.70620984751937,"z":1023.0623626445374},"direction":{"x":0.5000232401499005,"y":-0.03599222450386917,"z":-0.8652637280536253}},{"position":{"x":-380.2923881081839,"y":171.47588941881534,"z":983.4885984019235},"direction":{"x":0.4594293777741841,"y":-0.049979169270678254,"z":-0.8868070418512919}},{"position":{"x":-368.8066536638293,"y":170.22641018704837,"z":961.3184223556411},"direction":{"x":0.4594293777741841,"y":-0.049979169270678254,"z":-0.8868070418512919}},{"position":{"x":-357.3209192194747,"y":168.9769309552814,"z":939.1482463093588},"direction":{"x":0.4594293777741841,"y":-0.049979169270678254,"z":-0.8868070418512919}},{"position":{"x":-345.9239571285766,"y":167.72745172351443,"z":916.9323048089854},"direction":{"x":0.4594293777741841,"y":-0.049979169270678254,"z":-0.8868070418512919}},{"position":{"x":-334.0874496196375,"y":166.3781077278617,"z":894.9533066340861},"direction":{"x":0.45587848363592487,"y":-0.049979169270678254,"z":-0.8886376600149372}},{"position":{"x":-320.74564803158313,"y":164.92892055779834,"z":873.8607442735971},"direction":{"x":0.4734603003575642,"y":-0.05397375982610949,"z":-0.8791599269959698}},{"position":{"x":-306.04179567602836,"y":163.47973338773497,"z":853.694024598544},"direction":{"x":0.5336720635221741,"y":-0.05796748680253492,"z":-0.8437024944195569}},{"position":{"x":-289.9234502540072,"y":162.0804650063411,"z":834.6351424473464},"direction":{"x":0.588154094222191,"y":-0.057967486802534926,"z":-0.8066687870021202}},{"position":{"x":-272.68577635603083,"y":160.83098577457412,"z":816.5713277827633},"direction":{"x":0.6447338168808459,"y":-0.05597073525575539,"z":-0.7623552860479069}},{"position":{"x":-253.73084669219963,"y":159.58150654280715,"z":800.3186528309717},"direction":{"x":0.6895069559190549,"y":-0.04997916927067825,"z":-0.7225525865833238}},{"position":{"x":-234.170229435358,"y":158.3819672897259,"z":784.7963025543007},"direction":{"x":0.7581971865532481,"y":-0.04997916927067826,"z":-0.6501069980716652}},{"position":{"x":-214.29943938761332,"y":157.2823221887033,"z":769.6654571208741},"direction":{"x":0.7824246902736656,"y":-0.047981570123249835,"z":-0.6208940110668375}},{"position":{"x":-193.55531490055904,"y":156.2326308614771,"z":755.7521739934759},"direction":{"x":0.794831601909788,"y":-0.043985804040905095,"z":-0.6052338173370647}},{"position":{"x":-172.50677345246808,"y":155.2828594783037,"z":742.2964377732723},"direction":{"x":0.8297649794821711,"y":-0.04198765308904777,"z":-0.5565313250959247}},{"position":{"x":-151.0036565270496,"y":154.68291707664483,"z":729.5584618113514},"direction":{"x":0.8419416579236381,"y":-0.03799085532693694,"z":-0.5382294488081486}},{"position":{"x":-128.8381609909589,"y":154.5829173433113,"z":717.9964201364189},"direction":{"x":0.8601246770167389,"y":-0.023997696066354206,"z":-0.5095190384768343}},{"position":{"x":-86.71009656796777,"y":155.25348219092606,"z":698.7627042842051},"direction":{"x":0.9009411754014282,"y":0.007999914666939823,"z":-0.43386749109793277}},{"position":{"x":-63.73714863609543,"y":155.85342459258493,"z":688.9197508435872},"direction":{"x":0.9166197542619517,"y":0.019998666693333174,"z":-0.39925966416262026}},{"position":{"x":-40.656055413904,"y":156.75323020518167,"z":679.3566192682061},"direction":{"x":0.9189179172748936,"y":0.023997696066354386,"z":-0.39371813762472085}},{"position":{"x":-17.317422234097204,"y":158.1025742008344,"z":670.4973037145182},"direction":{"x":0.9232437288876572,"y":0.03599222450386936,"z":-0.3825252630152388}},{"position":{"x":6.176775413060305,"y":159.75137656170998,"z":662.1125480418066},"direction":{"x":0.933545327192272,"y":0.05397375982610968,"z":-0.3543726221475179}},{"position":{"x":29.85627811315674,"y":161.94853819428212,"z":654.4019298670764},"direction":{"x":0.9397679058863005,"y":0.06595209443502263,"z":-0.3353902269084647}},{"position":{"x":53.60906300121404,"y":164.34485349260254,"z":646.9814930165459},"direction":{"x":0.9471801080038577,"y":0.08788646530288545,"z":-0.3084247269892049}},{"position":{"x":77.38671169765664,"y":166.79093374200698,"z":639.6575518724599},"direction":{"x":0.9501113955222921,"y":0.0958526119328172,"z":-0.29681747402122377}},{"position":{"x":101.15963744569633,"y":169.2867691581777,"z":632.3350654809683},"direction":{"x":0.9511059478577039,"y":0.09784320997617749,"z":-0.29295764576343897}},{"position":{"x":124.93256319373603,"y":171.7826045743484,"z":625.0125790894767},"direction":{"x":0.9509170299215877,"y":0.09983341664682832,"z":-0.2928994556596638}},{"position":{"x":148.7054889417757,"y":174.2784399905191,"z":617.6900926979852},"direction":{"x":0.9509170299215877,"y":0.09983341664682832,"z":-0.2928994556596638}},{"position":{"x":172.5026904364383,"y":176.82402059011775,"z":610.46422109427},"direction":{"x":0.9509170299215877,"y":0.09983341664682832,"z":-0.2928994556596638}},{"position":{"x":196.29989193110086,"y":179.3696011897164,"z":603.2383494905548},"direction":{"x":0.9518880597865028,"y":0.10182322398394567,"z":-0.2890348641486053}},{"position":{"x":238.92067980839613,"y":183.92873604363552,"z":590.2968134481932},"direction":{"x":0.9518880597865028,"y":0.10182322398394567,"z":-0.2890348641486053}},{"position":{"x":278.418050521619,"y":188.22460253924487,"z":578.9353001923648},"direction":{"x":0.9530365810657364,"y":0.10182322398394568,"z":-0.28522500978709336}},{"position":{"x":302.6462255176658,"y":190.81991813995245,"z":573.3442472241255},"direction":{"x":0.9581499822585673,"y":0.10580160882230236,"z":-0.2659974268080801}},{"position":{"x":327.1255105589022,"y":193.21623343827287,"z":568.8696213335134},"direction":{"x":0.9691269998418713,"y":0.10381262402830285,"z":-0.22364211872957152}},{"position":{"x":351.64831715922503,"y":195.61254873659328,"z":564.6400079428832},"direction":{"x":0.9791714016494549,"y":0.09585261193281719,"z":-0.17898503562448675}},{"position":{"x":376.38607407816903,"y":198.0088640349137,"z":561.9379613832779},"direction":{"x":0.9809122640129139,"y":0.09585261193281719,"z":-0.16918453562520552}},{"position":{"x":401.186275573477,"y":200.35540479689212,"z":559.8299404525237},"direction":{"x":0.9895102767577589,"y":0.09585261193281719,"z":-0.10808186238421391}},{"position":{"x":426.0995452630494,"y":202.4031082024765,"z":559.4612886691383},"direction":{"x":0.9920080598123191,"y":0.09386163047913697,"z":-0.08432083723016726}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9965307875828945,"y":0.08190813622337473,"z":-0.014746071335415833}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966284197144232,"y":0.08190813622337474,"z":-0.0047801922497984215}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966284197144232,"y":0.08190813622337474,"z":-0.0047801922497984215}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}}]},{"animationId":3,"prevCheckpointId":13,"nextCheckpointId":14,"points":[{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9966347689051731,"y":0.08190813622337473,"z":0.0031929030279003187}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.9319085959442188,"y":0.06994284733753289,"z":-0.3558853283174137}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":0.5260931364330534,"y":1.249000902703301e-16,"z":-0.8504269585320262}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":-0.45275586038945903,"y":-0.023997696066354168,"z":-0.891311528853132}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":-0.5104395963670689,"y":-0.031994538946279995,"z":-0.8593181994687642}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":-0.5104395963670689,"y":-0.031994538946279995,"z":-0.8593181994687642}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":-0.5104395963670689,"y":-0.031994538946279995,"z":-0.8593181994687642}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":-0.5137648301334674,"y":-0.037990855326936905,"z":-0.8570894902105948}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":-0.6377096263616695,"y":-0.03399344971195132,"z":-0.7695263983921156}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":-0.6827059792953842,"y":-0.033993449711951326,"z":-0.7299020422022476}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":-0.6827059792953842,"y":-0.033993449711951326,"z":-0.7299020422022476}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":-0.6827059792953842,"y":-0.033993449711951326,"z":-0.7299020422022476}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":-0.6827059792953842,"y":-0.033993449711951326,"z":-0.7299020422022476}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":-0.6827059792953842,"y":-0.033993449711951326,"z":-0.7299020422022476}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":-0.6827059792953842,"y":-0.033993449711951326,"z":-0.7299020422022476}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":-0.6827059792953842,"y":-0.033993449711951326,"z":-0.7299020422022476}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":-0.6827059792953842,"y":-0.033993449711951326,"z":-0.7299020422022476}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":-0.6827059792953842,"y":-0.033993449711951326,"z":-0.7299020422022476}},{"position":{"x":451.01525575590995,"y":204.45081160806086,"z":559.3417838628933},"direction":{"x":-0.6827059792953842,"y":-0.033993449711951326,"z":-0.7299020422022476}},{"position":{"x":433.94760627352537,"y":203.6009753652621,"z":541.0942328078371},"direction":{"x":-0.6827059792953842,"y":-0.033993449711951326,"z":-0.7299020422022476}},{"position":{"x":409.2848527714796,"y":202.37296199441784,"z":514.7265215332809},"direction":{"x":-0.6827059792953842,"y":-0.033993449711951326,"z":-0.7299020422022476}},{"position":{"x":392.21720328909504,"y":201.52312575161906,"z":496.4789704782247},"direction":{"x":-0.6827059792953842,"y":-0.033993449711951326,"z":-0.7299020422022476}},{"position":{"x":375.14955380671046,"y":200.6732895088203,"z":478.2314194231685},"direction":{"x":-0.6827059792953842,"y":-0.033993449711951326,"z":-0.7299020422022476}},{"position":{"x":358.0819043243259,"y":199.82345326602152,"z":459.9838683681123},"direction":{"x":-0.6827059792953842,"y":-0.033993449711951326,"z":-0.7299020422022476}},{"position":{"x":341.0142548419413,"y":198.97361702322274,"z":441.73631731305613},"direction":{"x":-0.6827059792953842,"y":-0.033993449711951326,"z":-0.7299020422022476}},{"position":{"x":323.9466053595567,"y":198.12378078042397,"z":423.48876625799994},"direction":{"x":-0.6827059792953842,"y":-0.033993449711951326,"z":-0.7299020422022476}},{"position":{"x":306.87895587717213,"y":197.2739445376252,"z":405.24121520294375},"direction":{"x":-0.6827059792953842,"y":-0.033993449711951326,"z":-0.7299020422022476}},{"position":{"x":289.81130639478755,"y":196.42410829482642,"z":386.99366414788756},"direction":{"x":-0.6827059792953842,"y":-0.033993449711951326,"z":-0.7299020422022476}},{"position":{"x":272.7425300008749,"y":195.6242448211694,"z":368.7449082769214},"direction":{"x":-0.6827059792953842,"y":-0.033993449711951326,"z":-0.7299020422022476}},{"position":{"x":242.15528270374656,"y":194.19088947641183,"z":336.0431377569659},"direction":{"x":-0.6827510557565044,"y":-0.031994538946279995,"z":-0.7299502348386454}},{"position":{"x":225.08650630983396,"y":193.3910260027548,"z":317.79438188599977},"direction":{"x":-0.6827510557565044,"y":-0.031994538946279995,"z":-0.7299502348386454}},{"position":{"x":208.01772991592136,"y":192.5911625290978,"z":299.54562601503363},"direction":{"x":-0.6827510557565044,"y":-0.031994538946279995,"z":-0.7299502348386454}},{"position":{"x":190.94895352200876,"y":191.7912990554408,"z":281.2968701440675},"direction":{"x":-0.6827510557565044,"y":-0.031994538946279995,"z":-0.7299502348386454}},{"position":{"x":173.88017712809616,"y":190.99143558178378,"z":263.04811427310136},"direction":{"x":-0.6827510557565044,"y":-0.031994538946279995,"z":-0.7299502348386454}},{"position":{"x":156.81140073418356,"y":190.19157210812676,"z":244.79935840213523},"direction":{"x":-0.6827510557565044,"y":-0.031994538946279995,"z":-0.7299502348386454}},{"position":{"x":139.74262434027096,"y":189.39170863446975,"z":226.5506025311691},"direction":{"x":-0.6827510557565044,"y":-0.031994538946279995,"z":-0.7299502348386454}},{"position":{"x":123.03770152010995,"y":188.84175300006277,"z":207.9591232362704},"direction":{"x":-0.6827510557565044,"y":-0.031994538946279995,"z":-0.7299502348386454}},{"position":{"x":107.39776086857086,"y":188.441770066511,"z":188.45957785518004},"direction":{"x":-0.668196912806441,"y":-0.021998225376279656,"z":-0.7436591717959485}},{"position":{"x":92.54894610701083,"y":188.19177423315682,"z":168.34863053139185},"direction":{"x":-0.625597626061564,"y":-0.015999317342071287,"z":-0.779981815243614}},{"position":{"x":78.30945267775685,"y":188.0917744998233,"z":147.80047180776003},"direction":{"x":-0.5939525904624007,"y":-0.00999983333416654,"z":-0.8044378929515272}},{"position":{"x":64.60888165914773,"y":188.14177446648998,"z":126.88894738299891},"direction":{"x":-0.5695797371701591,"y":-0.003999989333341742,"z":-0.8219263489452724}},{"position":{"x":51.458683867996285,"y":188.59175016688363,"z":105.63171755588712},"direction":{"x":-0.5480228407443654,"y":0.0019999986666670586,"z":-0.836460976990445}},{"position":{"x":38.695472723945,"y":189.24167693602556,"z":84.14502315011316},"direction":{"x":-0.5260079116460576,"y":0.017999028015746408,"z":-0.8502891930844715}},{"position":{"x":26.897162421814553,"y":190.3413220370482,"z":62.131603273446125},"direction":{"x":-0.5105284457620511,"y":0.025997070765676672,"z":-0.8594677762309584}},{"position":{"x":16.4133497224121,"y":192.18963406594764,"z":39.51140402746968},"direction":{"x":-0.47193241208521797,"y":0.043985804040905324,"z":-0.8805367950666815}},{"position":{"x":6.067001098350115,"y":194.08780552744278,"z":16.832117988175234},"direction":{"x":-0.41935250797609813,"y":0.0739324811559779,"z":-0.9048079698390581}},{"position":{"x":-4.27934752571187,"y":195.98597698893792,"z":-5.847168051119212},"direction":{"x":-0.4138539449624794,"y":0.07592685845980604,"z":-0.9071714415717779}},{"position":{"x":-14.206020236380597,"y":198.18313862151007,"z":-28.68646860204716},"direction":{"x":-0.4138539449624794,"y":0.07592685845980604,"z":-0.9071714415717779}},{"position":{"x":-22.882367936770727,"y":200.47989546098657,"z":-52.01983309588415},"direction":{"x":-0.3970669084267491,"y":0.08788646530288545,"z":-0.913572022037118}},{"position":{"x":-31.037038882795684,"y":202.97573087715728,"z":-75.52030431110545},"direction":{"x":-0.34705390801560526,"y":0.09187027357906,"z":-0.9333345797534797}},{"position":{"x":-39.00183257072641,"y":205.52131147675593,"z":-99.0804842959792},"direction":{"x":-0.3261868378409984,"y":0.09983341664682834,"z":-0.9400188486088515}},{"position":{"x":-46.30085738994099,"y":208.16635169731347,"z":-122.84449066948707},"direction":{"x":-0.3185917475172289,"y":0.10182322398394568,"z":-0.9424071993949502}},{"position":{"x":-53.55078203013317,"y":210.86110595756367,"z":-146.61793998144847},"direction":{"x":-0.29196099276858306,"y":0.10580160882230236,"z":-0.9505602549403146}},{"position":{"x":-60.274506797172165,"y":213.60556347849305,"z":-170.53988551631082},"direction":{"x":-0.2899969856076873,"y":0.10779017041000764,"z":-0.9509379724784558}},{"position":{"x":-64.18431845769317,"y":216.35002099942244,"z":-195.07926867267943},"direction":{"x":-0.2689489906815599,"y":0.10977830083717498,"z":-0.9568778213944938}},{"position":{"x":-67.30630619567567,"y":219.1441708032046,"z":-219.7256866565957},"direction":{"x":-0.15639246642084023,"y":0.10977830083717499,"z":-0.981575326254745}},{"position":{"x":-70.27899835321969,"y":222.0376714441814,"z":-244.37909930833914},"direction":{"x":-0.12487950951930034,"y":0.11176599215128535,"z":-0.9858567193566506}},{"position":{"x":-72.80565822747765,"y":225.0801110394951,"z":-269.0643084666323},"direction":{"x":-0.1189076863017608,"y":0.11574002563907301,"z":-0.9861365060697374}},{"position":{"x":-73.8441818033481,"y":228.71715761962693,"z":-293.7765192328975},"direction":{"x":-0.10106639497031819,"y":0.12169758381254793,"z":-0.9874083663317278}},{"position":{"x":-74.68447530120936,"y":232.4531109314669,"z":-318.48150981555517},"direction":{"x":-0.041540943034818534,"y":0.14548186320527257,"z":-0.9884884306506072}},{"position":{"x":-74.58575283613219,"y":236.43606609682305,"z":-343.1619944547524},"direction":{"x":-0.0336117399144504,"y":0.14943813247359944,"z":-0.9881996233063066}},{"position":{"x":-73.59976220622192,"y":240.5670327732047,"z":-367.798612258265},"direction":{"x":0.003948898603087054,"y":0.15931820661424617,"z":-0.9872193855678904}},{"position":{"x":-72.46597050418532,"y":244.69799944958635,"z":-392.4288706957036},"direction":{"x":0.039439625196410456,"y":0.16523866705526585,"z":-0.9854647121405038}},{"position":{"x":-71.33294770027966,"y":248.92755817626124,"z":-417.04242574781745},"direction":{"x":0.0453516680814639,"y":0.16523866705526585,"z":-0.9852103374975456}},{"position":{"x":-70.00638102843267,"y":253.50164581296062,"z":-441.5845923831604},"direction":{"x":0.045320912156226155,"y":0.16918234906699625,"z":-0.9845422020845531}},{"position":{"x":-68.58272855275756,"y":258.17400856540917,"z":-466.1027945998409},"direction":{"x":0.05306266687387966,"y":0.18296350546797482,"z":-0.9816866654137166}},{"position":{"x":-67.11060584482219,"y":262.8954809398217,"z":-490.60872354265877},"direction":{"x":0.056946099027004475,"y":0.186894510097941,"z":-0.9807280886672194}},{"position":{"x":-65.63848313688682,"y":267.61695331423425,"z":-515.1146524854767},"direction":{"x":0.05888490831741454,"y":0.18885889497650085,"z":-0.9802371577127164}},{"position":{"x":-64.16636042895145,"y":272.3384256886468,"z":-539.6205814282946},"direction":{"x":0.05888490831741454,"y":0.18885889497650085,"z":-0.9802371577127164}},{"position":{"x":-62.79227295235695,"y":277.05989806305934,"z":-564.1322027990715},"direction":{"x":0.05888490831741454,"y":0.18885889497650085,"z":-0.9802371577127164}},{"position":{"x":-61.56480955883831,"y":281.73226081550786,"z":-588.6610095357862},"direction":{"x":0.05496349906377989,"y":0.1888588949765009,"z":-0.9804648548310751}},{"position":{"x":-60.533223504274034,"y":286.3554952565476,"z":-613.2081383600542},"direction":{"x":0.049098535740745734,"y":0.18689451009794097,"z":-0.9811522694685904}},{"position":{"x":-59.84437367341215,"y":290.7820334888729,"z":-637.8034884325432},"direction":{"x":0.041263442182571136,"y":0.18492937764158987,"z":-0.9818851529707229}},{"position":{"x":-59.3027222840339,"y":295.1101165929917,"z":-662.4200338931928},"direction":{"x":0.02755399323447546,"y":0.177061529293012,"z":-0.9838140028995594}},{"position":{"x":-58.809962752747616,"y":299.3396753196666,"z":-687.0547253063592},"direction":{"x":0.02166605557513015,"y":0.17312332416475082,"z":-0.9846618184259822}},{"position":{"x":-58.36647355696015,"y":303.5692340463415,"z":-711.6903529685648},"direction":{"x":0.019710381251451147,"y":0.16918234906699622,"z":-0.9853876565266563}},{"position":{"x":-57.92298436117269,"y":307.7987927730164,"z":-736.3259806307703},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-57.479495165385224,"y":312.02835149969127,"z":-760.9616082929759},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-57.03600596959776,"y":316.25791022636616,"z":-785.5972359551815},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-56.592516773810296,"y":320.48746895304106,"z":-810.2328636173871},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-56.14902757802283,"y":324.71702767971595,"z":-834.8684912795927},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-55.70553838223537,"y":328.94658640639085,"z":-859.5041189417983},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-55.2620491864479,"y":333.17614513306575,"z":-884.1397466040039},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-54.81855999066044,"y":337.40570385974064,"z":-908.7753742662095},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-54.375070794872975,"y":341.63526258641554,"z":-933.4110019284151},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-53.93158159908551,"y":345.86482131309043,"z":-958.0466295906207},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-53.48809240329805,"y":350.0943800397653,"z":-982.6822572528263},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-53.04460320751058,"y":354.3239387664402,"z":-1007.3178849150319},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-52.60111401172312,"y":358.5534974931151,"z":-1031.9535125772375},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-52.157624815935655,"y":362.78305621979,"z":-1056.589140239443},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-51.71413562014819,"y":367.0126149464649,"z":-1081.2247679016484},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-51.27064642436073,"y":371.2421736731398,"z":-1105.860395563854},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-50.82715722857326,"y":375.4717323998147,"z":-1130.4960232260594},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-50.3836680327858,"y":379.7012911264896,"z":-1155.1316508882649},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-49.940178836998335,"y":383.9308498531645,"z":-1179.7672785504703},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-49.49668964121087,"y":388.1604085798394,"z":-1204.4029062126758},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-49.05320044542341,"y":392.3899673065143,"z":-1229.0385338748813},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-48.60971124963594,"y":396.6195260331892,"z":-1253.6741615370868},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-48.16622205384848,"y":400.84908475986407,"z":-1278.3097891992923},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-47.722732858061015,"y":405.07864348653897,"z":-1302.9454168614977},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-47.27924366227355,"y":409.30820221321386,"z":-1327.5810445237032},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-46.73721576652592,"y":413.53776093988876,"z":-1352.2147011490977},"direction":{"x":0.017739567831498423,"y":0.1691823490669962,"z":-0.9854251064882226}},{"position":{"x":-46.195002869385554,"y":417.7180320019564,"z":-1376.8567655719867},"direction":{"x":0.021681115829905163,"y":0.16918234906699625,"z":-0.9853462650157777}},{"position":{"x":-45.00963423101773,"y":423.91101108864285,"z":-1414.9876145201365},"direction":{"x":0.023659836348185248,"y":0.16721084248270457,"z":-0.9856372285482127}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.03952826613422407,"y":0.15141537443494502,"z":-0.9876795535805869}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.05548382581906789,"y":0.13161700581684357,"z":-0.9897466892353258}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.15870172450877781,"y":0.08788646530288552,"z":-0.9834072055128052}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.15870172450877781,"y":0.08788646530288552,"z":-0.9834072055128052}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.160696249677519,"y":0.08589402986201573,"z":-0.9832593406490701}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.16670244493585754,"y":0.07792093205630167,"z":-0.9829235083158224}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.16670244493585754,"y":0.07792093205630167,"z":-0.9829235083158224}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.16670244493585754,"y":0.07792093205630167,"z":-0.9829235083158224}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.16670244493585754,"y":0.07792093205630167,"z":-0.9829235083158224}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.16682439995850495,"y":0.06794760678144611,"z":-0.9836425887034166}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.17092183196144545,"y":0.05197656850149649,"z":-0.9839126809253719}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.17105426191425652,"y":0.033993449711951645,"z":-0.9846750148438064}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}}]},{"animationId":4,"prevCheckpointId":14,"nextCheckpointId":15,"points":[{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":0.1710655559720507,"y":0.03199453894628031,"z":-0.9847400291638337}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":-0.06582537510974476,"y":0.06196028630040843,"z":-0.9959055893573612}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":-0.37588205992627344,"y":0.11375323640157617,"z":-0.9196591097976187}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":-0.7791763526339632,"y":0.12963414261969508,"z":-0.61325296620831}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":-0.8061235813385114,"y":0.13359934254614425,"z":-0.5764685483885574}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":-0.8676109277128631,"y":0.1474602927599232,"z":-0.47487549965478637}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":-0.9202462439920002,"y":0.16326583067337921,"z":-0.3556558996461998}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":-0.9778442442993993,"y":0.17509277691431852,"z":-0.11473078646540227}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":-0.9778442442993993,"y":0.17509277691431852,"z":-0.11473078646540227}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":-0.9778442442993993,"y":0.17509277691431852,"z":-0.11473078646540227}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":-0.9778442442993993,"y":0.17509277691431852,"z":-0.11473078646540227}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":-0.9778442442993993,"y":0.17509277691431852,"z":-0.11473078646540227}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":-0.9778442442993993,"y":0.17509277691431852,"z":-0.11473078646540227}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":-0.9778442442993993,"y":0.17509277691431852,"z":-0.11473078646540227}},{"position":{"x":-42.66891916505288,"y":430.854332142307,"z":-1463.5590509811514},"direction":{"x":-0.9778442442993993,"y":0.17509277691431852,"z":-0.11473078646540227}},{"position":{"x":-67.11502527253785,"y":435.23165156516495,"z":-1466.4273206427865},"direction":{"x":-0.9778442442993993,"y":0.17509277691431852,"z":-0.11473078646540227}},{"position":{"x":-112.47337226409888,"y":443.7409594944211,"z":-1472.1188941363162},"direction":{"x":-0.9766744149811624,"y":0.17902957342582437,"z":-0.11855588960558583}},{"position":{"x":-136.72952369650466,"y":448.75668612705755,"z":-1475.5073457052279},"direction":{"x":-0.9742431439762657,"y":0.18689451009794095,"z":-0.1261774088753288}},{"position":{"x":-160.85009203758466,"y":454.2124267040793,"z":-1479.1724620280106},"direction":{"x":-0.9702460572962313,"y":0.2006290653054596,"z":-0.13553806275646674}},{"position":{"x":-184.5828503369419,"y":461.1693568402847,"z":-1482.827226943056},"direction":{"x":-0.9648227336432,"y":0.21822962308086963,"z":-0.14660465291130634}},{"position":{"x":-208.14376871701086,"y":468.70052863669173,"z":-1486.4555290887893},"direction":{"x":-0.9493103319742896,"y":0.2782772054482156,"z":-0.14619059660181888}},{"position":{"x":-231.5448318691026,"y":476.6595530275454,"z":-1490.203084838556},"direction":{"x":-0.9424367352027584,"y":0.30124687185627996,"z":-0.1451320858293296}},{"position":{"x":-254.85101175911862,"y":484.85516791097297,"z":-1494.031122928329},"direction":{"x":-0.9360425260836704,"y":0.3183609756341486,"z":-0.14990222999066485}},{"position":{"x":-277.7298196185862,"y":494.12817964629755,"z":-1497.977184798865},"direction":{"x":-0.9322471956006408,"y":0.32782459533710123,"z":-0.1531215235909256}},{"position":{"x":-300.1406020453292,"y":504.4589700004017,"z":-1501.981133060361},"direction":{"x":-0.9151523143787037,"y":0.37092046941298296,"z":-0.15784247482143332}},{"position":{"x":-322.22028614928746,"y":515.4679788742312,"z":-1506.0171302711324},"direction":{"x":-0.8964312970697206,"y":0.41323161416416565,"z":-0.16015793045983262}},{"position":{"x":-344.14619743822846,"y":526.7901360087079,"z":-1510.0250189886128},"direction":{"x":-0.8831873641583299,"y":0.4403603549531835,"z":-0.16143988843085913}},{"position":{"x":-366.07210872716945,"y":538.1122931431846,"z":-1514.0329077060933},"direction":{"x":-0.8770364515576399,"y":0.4528862853790686,"z":-0.16031554869922174}},{"position":{"x":-387.99802001611044,"y":549.4344502776613,"z":-1518.0407964235737},"direction":{"x":-0.8770364515576399,"y":0.4528862853790686,"z":-0.16031554869922174}},{"position":{"x":-410.1682001106592,"y":560.4434591514909,"z":-1521.545769774573},"direction":{"x":-0.8770364515576399,"y":0.4528862853790686,"z":-0.16031554869922174}},{"position":{"x":-432.3955680984055,"y":571.3625980811049,"z":-1524.9687096474163},"direction":{"x":-0.8868072037819498,"y":0.4403603549531834,"z":-0.14019893403997674}},{"position":{"x":-454.6444754644369,"y":582.2367364338857,"z":-1528.3949665120333},"direction":{"x":-0.8890947195098506,"y":0.4367655571845619,"z":-0.1369175949137276}},{"position":{"x":-476.8933828304683,"y":593.1108747866664,"z":-1531.8212233766503},"direction":{"x":-0.889956294641257,"y":0.4349655341112305,"z":-0.13705027458467933}},{"position":{"x":-495.55497800723475,"y":600.4801790685757,"z":-1516.906860505273},"direction":{"x":-0.889956294641257,"y":0.4349655341112305,"z":-0.13705027458467933}},{"position":{"x":-515.25904740299,"y":606.8726971716789,"z":-1502.9109553345181},"direction":{"x":-0.8975294473195589,"y":0.41687080242921104,"z":-0.14373456534972018}},{"position":{"x":-535.731227533834,"y":612.634458909909,"z":-1489.7697247086544},"direction":{"x":-0.9132213500221877,"y":0.36161543196496243,"z":-0.18777924600031476}},{"position":{"x":-579.9334074279913,"y":625.0439911600599,"z":-1506.4967980501585},"direction":{"x":-0.9123624029258719,"y":0.27058437614543207,"z":-0.3072115575842101}},{"position":{"x":-601.5518419503562,"y":630.4509259856675,"z":-1517.828538631104},"direction":{"x":-0.8958687386235357,"y":0.237702626427135,"z":-0.3753886846279695}},{"position":{"x":-627.1056879824631,"y":635.4699818709128,"z":-1534.04668064706},"direction":{"x":-0.851151186055212,"y":0.19278539057312133,"z":-0.4882370855008613}},{"position":{"x":-627.1056879824631,"y":635.4699818709128,"z":-1534.04668064706},"direction":{"x":-0.8233682761400622,"y":0.14943813247359963,"z":-0.547478699502497}},{"position":{"x":-627.1056879824631,"y":635.4699818709128,"z":-1534.04668064706},"direction":{"x":-0.7401969235164754,"y":0.033993449711951854,"z":-0.6715303118947248}},{"position":{"x":-627.1056879824631,"y":635.4699818709128,"z":-1534.04668064706},"direction":{"x":-0.6989887225878724,"y":0.005999964000065205,"z":-0.7151075206757179}},{"position":{"x":-627.1056879824631,"y":635.4699818709128,"z":-1534.04668064706},"direction":{"x":-0.6593833532025681,"y":0.0019999986666673374,"z":-0.7518042255299385}},{"position":{"x":-666.3482144843048,"y":635.4699818709128,"z":-1506.7227870789002},"direction":{"x":-0.5859067715606979,"y":0.001999998666667338,"z":-0.8103759960935748}},{"position":{"x":-687.6088884476054,"y":635.4699818709128,"z":-1493.5704586680738},"direction":{"x":-0.5580206743981788,"y":0.0019999986666673374,"z":-0.8298246362633102}},{"position":{"x":-730.4166075523638,"y":634.9696583047266,"z":-1505.3329434592958},"direction":{"x":-0.5037704434995326,"y":-0.011999712002073186,"z":-0.8637542168743094}},{"position":{"x":-754.4316029047184,"y":634.616128483888,"z":-1512.2723249081112},"direction":{"x":-0.48458543950544597,"y":-0.019998666693332678,"z":-0.8745152972646063}},{"position":{"x":-778.446598257073,"y":634.2625986630494,"z":-1519.2117063569265},"direction":{"x":-0.48283544090638086,"y":-0.01999866669333267,"z":-0.8754827184674919}},{"position":{"x":-797.7524303025318,"y":633.461152095329,"z":-1554.3207742806885},"direction":{"x":-0.48283544090638086,"y":-0.01999866669333267,"z":-0.8754827184674919}},{"position":{"x":-808.9845315089916,"y":633.1611592952771,"z":-1576.6534836283643},"direction":{"x":-0.48108351096619606,"y":-0.019998666693332674,"z":-0.876446637740671}},{"position":{"x":-802.5734046097479,"y":632.7691391337223,"z":-1619.175161280545},"direction":{"x":-0.2705708470393664,"y":-0.009999833334166259,"z":-0.9626481288953346}},{"position":{"x":-790.2511356348965,"y":632.5923653846892,"z":-1640.9267230256949},"direction":{"x":-0.2705708470393664,"y":-0.009999833334166259,"z":-0.9626481288953346}},{"position":{"x":-770.1256258307152,"y":632.5975979713832,"z":-1674.449210425423},"direction":{"x":-0.24546514996411178,"y":-0.0019999986666665273,"z":-0.9694033526651481}},{"position":{"x":-757.1994006449444,"y":632.6683084609401,"z":-1695.8479884857097},"direction":{"x":-0.23964434638713453,"y":0.0019999986666673396,"z":-0.970858685520203}},{"position":{"x":-711.9216687458219,"y":632.6683084609401,"z":-1707.9510437038307},"direction":{"x":-0.23964051208270473,"y":0.0059999640000652065,"z":-0.9708431518019464}},{"position":{"x":-676.444182205078,"y":632.6683084609401,"z":-1721.795102855166},"direction":{"x":-0.33310298876701144,"y":0.04798157012325033,"z":-0.9416688206598922}},{"position":{"x":-658.8223511517797,"y":634.8587048708004,"z":-1757.2655383982435},"direction":{"x":-0.5123231861803432,"y":0.08390125084514122,"z":-0.8546844640033198}},{"position":{"x":-680.0331160230675,"y":638.644089231674,"z":-1769.9452197355404},"direction":{"x":-0.7212757592757372,"y":0.12566686854972967,"z":-0.6811527855262092}},{"position":{"x":-708.8800790844324,"y":644.0572553516091,"z":-1782.2651121756114},"direction":{"x":-0.8919797865523725,"y":0.16523866705526605,"z":-0.4207947757420274}},{"position":{"x":-731.3409204049983,"y":648.9441563481998,"z":-1785.5861708629243},"direction":{"x":-0.9670975810947751,"y":0.21041554345184663,"z":-0.14299499192104292}},{"position":{"x":-731.3409204049983,"y":648.9441563481998,"z":-1785.5861708629243},"direction":{"x":-0.9403490210437205,"y":0.2782772054482158,"z":0.19571794897261752}},{"position":{"x":-731.3409204049983,"y":648.9441563481998,"z":-1785.5861708629243},"direction":{"x":-0.9148918026750213,"y":0.27635564856411415,"z":0.29427970522065866}},{"position":{"x":-731.3409204049983,"y":648.9441563481998,"z":-1785.5861708629243},"direction":{"x":-0.9118169300496367,"y":0.2744329862577867,"z":0.30541188930441016}},{"position":{"x":-731.3409204049983,"y":648.9441563481998,"z":-1785.5861708629243},"direction":{"x":-0.9118169300496367,"y":0.2744329862577867,"z":0.30541188930441016}},{"position":{"x":-731.3409204049983,"y":648.9441563481998,"z":-1785.5861708629243},"direction":{"x":-0.9118169300496367,"y":0.2744329862577867,"z":0.30541188930441016}},{"position":{"x":-731.3409204049983,"y":648.9441563481998,"z":-1785.5861708629243},"direction":{"x":-0.9118169300496367,"y":0.2744329862577867,"z":0.30541188930441016}},{"position":{"x":-745.4734424716943,"y":648.9441563481998,"z":-1828.2040052060545},"direction":{"x":-0.9124259297877776,"y":0.2744329862577868,"z":0.30358764583649145}},{"position":{"x":-753.3187064556663,"y":648.9441563481998,"z":-1851.9411455776703},"direction":{"x":-0.9130312798234159,"y":0.27443298625778684,"z":0.30176218801839433}},{"position":{"x":-767.3427137933819,"y":648.9441563481998,"z":-1894.5158544317842},"direction":{"x":-0.9130312798234159,"y":0.27443298625778684,"z":0.30176218801839433}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.9136329777351522,"y":0.2744329862577868,"z":0.2999355231519474}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.9142310211161959,"y":0.2744329862577868,"z":0.2981076585438079}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.9142310211161959,"y":0.2744329862577868,"z":0.2981076585438079}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.9142310211161959,"y":0.2744329862577868,"z":0.2981076585438079}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.9142310211161959,"y":0.2744329862577868,"z":0.2981076585438079}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.9142310211161959,"y":0.2744329862577868,"z":0.2981076585438079}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.9131800597924653,"y":0.2782772054482158,"z":0.29776496658499124}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.912649098997452,"y":0.28019764922386675,"z":0.2975918336724952}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.9093867470847824,"y":0.2916965067365843,"z":0.296528063063569}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.9077064347351729,"y":0.2974302873255932,"z":0.29598015562158286}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.9059750379776791,"y":0.3012468718562802,"z":0.2974215068856803}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.9006445908152103,"y":0.30886552009893264,"z":0.3056818796221301}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}}]},{"animationId":5,"prevCheckpointId":15,"nextCheckpointId":16,"points":[{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8994450675649078,"y":0.3107671125398287,"z":0.3072822354071517}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.8687526726371466,"y":0.3088655200989326,"z":0.387131611057313}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.0724160085238461,"y":0.173123324164751,"z":0.9822343082684604}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":-0.07045139638498611,"y":0.173123324164751,"z":0.9823771757209916}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":0.03176860881547096,"y":0.1967088016076053,"z":0.9799471428929367}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":0.1540800877762631,"y":0.21432429785845497,"z":0.9645332663513164}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":0.16771374505125858,"y":0.2104155434518466,"z":0.9631185798201307}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":0.2915931647603853,"y":0.12765076088614916,"z":0.9479866610402332}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":0.40655309376243187,"y":0.08788646530288573,"z":0.9093902084192242}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":0.3675952925760599,"y":0.09983341664682856,"z":0.9246118049195251}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":0.3675952925760599,"y":0.09983341664682856,"z":0.9246118049195251}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":0.3416333153513524,"y":0.09784320997617774,"z":0.9347263685718945}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":0.33245914604309657,"y":0.09187027357906026,"z":0.9386323929232379}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":0.27606935451043146,"y":0.06994284733753317,"z":0.9585894374582438}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":0.29700411713250197,"y":0.07393248115597821,"z":0.9520097387298432}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":0.29700411713250197,"y":0.07393248115597821,"z":0.9520097387298432}},{"position":{"x":-775.0929667070352,"y":648.9441563481998,"z":-1918.2841858787833},"direction":{"x":0.29700411713250197,"y":0.07393248115597821,"z":0.9520097387298432}},{"position":{"x":-768.0974478618865,"y":650.7924683770993,"z":-1894.3541533102514},"direction":{"x":0.2798207538059469,"y":0.07393248115597818,"z":0.9572013027412742}},{"position":{"x":-761.1019290167378,"y":652.6407804059988,"z":-1870.4241207417194},"direction":{"x":0.2798207538059469,"y":0.07393248115597818,"z":0.9572013027412742}},{"position":{"x":-754.1064101715891,"y":654.4890924348983,"z":-1846.4940881731875},"direction":{"x":0.2798207538059469,"y":0.07393248115597818,"z":0.9572013027412742}},{"position":{"x":-747.1108913264404,"y":656.3374044637978,"z":-1822.5640556046556},"direction":{"x":0.2798207538059469,"y":0.07393248115597818,"z":0.9572013027412742}},{"position":{"x":-740.1153724812917,"y":658.1857164926973,"z":-1798.6340230361236},"direction":{"x":0.2798207538059469,"y":0.07393248115597818,"z":0.9572013027412742}},{"position":{"x":-733.360514955876,"y":660.0838879541925,"z":-1774.6388392503281},"direction":{"x":0.2798207538059469,"y":0.07393248115597818,"z":0.9572013027412742}},{"position":{"x":-726.7016919484432,"y":661.9820594156877,"z":-1750.616828067697},"direction":{"x":0.27019430101662917,"y":0.07592685845980635,"z":0.9598073514318173}},{"position":{"x":-720.1400225773897,"y":663.9300827170953,"z":-1726.5720843534848},"direction":{"x":0.2663529202973132,"y":0.07592685845980635,"z":0.9608804473052399}},{"position":{"x":-713.5783532063361,"y":665.8781060185029,"z":-1702.5273406392726},"direction":{"x":0.2624667748421413,"y":0.07792093205630189,"z":0.9617897485684914}},{"position":{"x":-708.4703104651499,"y":667.8261293199105,"z":-1678.1324004964604},"direction":{"x":0.2624667748421413,"y":0.07792093205630189,"z":0.9617897485684914}},{"position":{"x":-703.4598880886098,"y":669.7741526213181,"z":-1653.7172233964302},"direction":{"x":0.20432170964745308,"y":0.07792093205630188,"z":0.9757976057124853}},{"position":{"x":-717.3163976094714,"y":671.1163625335961,"z":-1632.9519731824391},"direction":{"x":0.2004168950616049,"y":0.07792093205630189,"z":0.9766070840012082}},{"position":{"x":-731.1729071303331,"y":672.4585724458741,"z":-1612.186722968448},"direction":{"x":0.19653919847671858,"y":0.07592685845980635,"z":0.9775517662132036}},{"position":{"x":-726.2594271684152,"y":674.3567439073693,"z":-1587.747928813118},"direction":{"x":0.19653919847671858,"y":0.07592685845980635,"z":0.9775517662132036}},{"position":{"x":-721.3459472064973,"y":676.2549153688644,"z":-1563.309134657788},"direction":{"x":0.19653919847671858,"y":0.07592685845980635,"z":0.9775517662132036}},{"position":{"x":-735.2024567273589,"y":677.5971252811424,"z":-1542.543884443797},"direction":{"x":0.19653919847671858,"y":0.07592685845980635,"z":0.9775517662132036}},{"position":{"x":-759.7700481074337,"y":679.9768634555713,"z":-1505.7270958150098},"direction":{"x":0.19653919847671858,"y":0.07592685845980635,"z":0.9775517662132036}},{"position":{"x":-754.8077004167468,"y":681.8750349170665,"z":-1481.2981774906243},"direction":{"x":0.19653919847671858,"y":0.07592685845980635,"z":0.9775517662132036}},{"position":{"x":-749.597611624474,"y":683.5238372779421,"z":-1456.9027593644391},"direction":{"x":0.19849390762747676,"y":0.07592685845980635,"z":0.9771567329754216}},{"position":{"x":-744.2879737721586,"y":685.0229374399282,"z":-1432.5191492014303},"direction":{"x":0.20840355169091143,"y":0.06595209443502294,"z":0.9758167250474075}},{"position":{"x":-734.0494129380426,"y":687.4353108143775,"z":-1385.9698761829002},"direction":{"x":0.2123855140926178,"y":0.05996400647944504,"z":0.9753444065203571}},{"position":{"x":-728.636045685582,"y":688.3351164269743,"z":-1361.5795952322935},"direction":{"x":0.21648400105761742,"y":0.04198765308904828,"z":0.9753828552287349}},{"position":{"x":-723.2704071090325,"y":689.0850039320367,"z":-1337.1737026775108},"direction":{"x":0.21653469009842283,"y":0.035992224503869685,"z":0.9756112380242672}},{"position":{"x":-717.41741675497,"y":688.3850953951179,"z":-1312.8785872845929},"direction":{"x":0.21462554306197834,"y":0.029995500202496094,"z":0.9762357021913064}},{"position":{"x":-711.5790332055986,"y":686.4869239336227,"z":-1288.6441031218715},"direction":{"x":0.2341196141624995,"y":-0.027996341476749943,"z":0.9718046157167188}},{"position":{"x":-702.2711454420438,"y":682.9266163957462,"z":-1248.4099355866285},"direction":{"x":0.2255897124406311,"y":-0.08589402986201508,"z":0.9704285121919165}},{"position":{"x":-696.9734641457977,"y":680.679652665796,"z":-1224.0812338769258},"direction":{"x":0.2236484055308774,"y":-0.08589402986201505,"z":0.9708777504596342}},{"position":{"x":-691.8227896470133,"y":678.3828958263194,"z":-1199.7256295890438},"direction":{"x":0.21190725184984496,"y":-0.08987854919801062,"z":0.9731480683881089}},{"position":{"x":-686.7208366256762,"y":676.0861389868429,"z":-1175.3597726702242},"direction":{"x":0.20602697995137692,"y":-0.09187027357905941,"z":0.9742241715152749}},{"position":{"x":-700.4156459756384,"y":674.4620866509125,"z":-1154.5075629341231},"direction":{"x":0.2040781208534894,"y":-0.09187027357905943,"z":0.9746342767527816}},{"position":{"x":-695.3136929543012,"y":672.165329811436,"z":-1130.1417060153035},"direction":{"x":0.2040781208534894,"y":-0.09187027357905943,"z":0.9746342767527816}},{"position":{"x":-687.337118841155,"y":669.0449471582981,"z":-1090.586871574347},"direction":{"x":0.2040781208534894,"y":-0.09187027357905943,"z":0.9746342767527816}},{"position":{"x":-701.4378596427913,"y":668.0202170831377,"z":-1069.9684565742039},"direction":{"x":0.1927386077205843,"y":-0.06794760678144544,"z":0.9788947603428086}},{"position":{"x":-715.5794397205765,"y":667.0307849219541,"z":-1049.3763042607131},"direction":{"x":0.18501804556142135,"y":-0.05796748680253456,"z":0.9810240024028107}},{"position":{"x":-729.7210197983617,"y":666.0413527607706,"z":-1028.7841519472224},"direction":{"x":0.18307652099929977,"y":-0.05597073525575504,"z":0.9815040826475065}},{"position":{"x":-743.8609474613501,"y":665.2284667110066,"z":-1008.183140759527},"direction":{"x":0.18307652099929977,"y":-0.05597073525575504,"z":0.9815040826475065}},{"position":{"x":-734.6029451122956,"y":663.749258339416,"z":-961.1844475156088},"direction":{"x":0.19111185393227348,"y":-0.03399344971195101,"z":0.9809794618967569}},{"position":{"x":-729.7252454015204,"y":663.2492916720827,"z":-936.670001185678},"direction":{"x":0.19507052390058754,"y":-0.02799634147674995,"z":0.9803895631681661}},{"position":{"x":-743.6967711388007,"y":662.9664610274093,"z":-915.9403973448192},"direction":{"x":0.1951079884310101,"y":-0.019998666693332643,"z":0.9805778531972329}},{"position":{"x":-757.6682968760811,"y":662.6836303827359,"z":-895.2107935039604},"direction":{"x":0.19119789387387162,"y":-0.015999317342070975,"z":0.9814211059595077}},{"position":{"x":-752.8883495292342,"y":662.2836474491842,"z":-870.6752658549727},"direction":{"x":0.19119789387387162,"y":-0.015999317342070975,"z":0.9814211059595077}},{"position":{"x":-748.1084021823874,"y":661.8836645156324,"z":-846.139738205985},"direction":{"x":0.19119789387387162,"y":-0.015999317342070975,"z":0.9814211059595077}},{"position":{"x":-743.3284548355406,"y":661.4836815820806,"z":-821.6042105569974},"direction":{"x":0.19119789387387162,"y":-0.015999317342070975,"z":0.9814211059595077}},{"position":{"x":-738.5485074886938,"y":661.0836986485289,"z":-797.0686829080097},"direction":{"x":0.19119789387387162,"y":-0.015999317342070975,"z":0.9814211059595077}},{"position":{"x":-733.9649952268466,"y":660.6837157149771,"z":-772.4957012208322},"direction":{"x":0.19119789387387162,"y":-0.015999317342070975,"z":0.9814211059595077}},{"position":{"x":-748.1019089394941,"y":660.4008850703037,"z":-751.8785317374237},"direction":{"x":0.183340490473889,"y":-0.01599931734207097,"z":0.9829192674871021}},{"position":{"x":-762.362377120138,"y":660.0827042011862,"z":-731.3471458075024},"direction":{"x":0.183340490473889,"y":-0.01599931734207097,"z":0.9829192674871021}},{"position":{"x":-757.8283464535824,"y":659.5827375338529,"z":-706.7668162888347},"direction":{"x":0.17743367670424953,"y":-0.01799902801574585,"z":0.9839681526155715}},{"position":{"x":-753.2943157870268,"y":659.0827708665196,"z":-682.1864867701669},"direction":{"x":0.18136122666222707,"y":-0.019998666693332643,"z":0.9832131807467093}},{"position":{"x":-744.9616927556555,"y":658.0378482314527,"z":-633.155367048446},"direction":{"x":0.18136122666222707,"y":-0.019998666693332643,"z":0.9832131807467093}},{"position":{"x":-742.8055940700655,"y":657.1380426188559,"z":-608.264774682704},"direction":{"x":0.15375730685924643,"y":-0.02199822537627935,"z":0.9878637399295949}},{"position":{"x":-740.6494953844755,"y":656.2382370062592,"z":-583.374182316962},"direction":{"x":0.08624394742359875,"y":-0.03599222450386883,"z":0.9956236946296824}},{"position":{"x":-738.4933966988855,"y":655.3384313936624,"z":-558.48358995122},"direction":{"x":0.08624394742359875,"y":-0.03599222450386883,"z":0.9956236946296824}},{"position":{"x":-736.3372980132955,"y":654.4386257810656,"z":-533.592997585478},"direction":{"x":0.08624394742359875,"y":-0.03599222450386883,"z":0.9956236946296824}},{"position":{"x":-732.9263498926279,"y":653.0151333019107,"z":-494.2160804621322},"direction":{"x":0.08624394742359875,"y":-0.03599222450386883,"z":0.9956236946296824}},{"position":{"x":-731.3183218224859,"y":652.115327689314,"z":-469.2840810319787},"direction":{"x":0.08624394742359875,"y":-0.03599222450386883,"z":0.9956236946296824}},{"position":{"x":-729.9099033513332,"y":651.1655563061405,"z":-444.34186197011854},"direction":{"x":0.06432112280567914,"y":-0.03599222450386881,"z":0.9972799772061405}},{"position":{"x":-728.5014848801806,"y":650.215784922967,"z":-419.3996429082584},"direction":{"x":0.05633673884610964,"y":-0.037990855326936614,"z":0.9976887624744069}},{"position":{"x":-727.0930664090279,"y":649.2660135397936,"z":-394.4574238463982},"direction":{"x":0.05633673884610964,"y":-0.037990855326936614,"z":0.9976887624744069}},{"position":{"x":-724.7353738883393,"y":647.6760962443753,"z":-352.704149137216},"direction":{"x":0.05633673884610964,"y":-0.037990855326936614,"z":0.9976887624744069}},{"position":{"x":-723.4267352947165,"y":646.7263248612019,"z":-327.7564959539808},"direction":{"x":0.05633673884610964,"y":-0.037990855326936614,"z":0.9976887624744069}},{"position":{"x":-722.2678052775034,"y":645.7765534780284,"z":-302.8014400427049},"direction":{"x":0.05234554374490707,"y":-0.0379908553269366,"z":0.9979061273294085}},{"position":{"x":-720.202591986795,"y":644.084060873185,"z":-258.33153040806747},"direction":{"x":0.04635720068852603,"y":-0.03799085532693661,"z":0.9982022364510368}},{"position":{"x":-718.4481434342053,"y":642.6361378720044,"z":-209.9111931208772},"direction":{"x":0.0423701350381625,"y":-0.03399344971195102,"z":0.998523518517981}},{"position":{"x":-717.8881421974331,"y":642.0861822375974,"z":-184.9235172102408},"direction":{"x":0.03039238530023005,"y":-0.025997070765676117,"z":0.9991999075397109}},{"position":{"x":-717.7279609146668,"y":641.9861825042639,"z":-159.92423038021334},"direction":{"x":0.022400049470891064,"y":-0.021998225376279344,"z":0.9995070364254552}},{"position":{"x":-717.7677771579463,"y":642.0361824709305,"z":-134.92431208694478},"direction":{"x":0.006407251310652542,"y":-0.00399998933334144,"z":0.9999714732010987}},{"position":{"x":-718.0575817897885,"y":642.1861815709321,"z":-109.9264419067602},"direction":{"x":-0.0015926497311802806,"y":0.0019999986666673617,"z":0.9999967317307428}},{"position":{"x":-718.3473864216307,"y":642.3361806709338,"z":-84.92857172657563},"direction":{"x":-0.011592185273691194,"y":0.00599996400006523,"z":0.9999148072073833}},{"position":{"x":-718.7871484096637,"y":642.6361734709857,"z":-59.934240094907636},"direction":{"x":-0.011592185273691194,"y":0.00599996400006523,"z":0.9999148072073833}},{"position":{"x":-719.2768540691794,"y":643.0861491713794,"z":-34.94308745570163},"direction":{"x":-0.01759047952131726,"y":0.011999712002074017,"z":0.9997732652667191}},{"position":{"x":-719.7665597286951,"y":643.536124871773,"z":-9.951934816495626},"direction":{"x":-0.019588226380628227,"y":0.01799902801574671,"z":0.9996461055682404}},{"position":{"x":-720.2562653882109,"y":643.9861005721667,"z":15.039217822710377},"direction":{"x":-0.019588226380628227,"y":0.01799902801574671,"z":0.9996461055682404}},{"position":{"x":-720.7459710477266,"y":644.4360762725604,"z":40.03037046191638},"direction":{"x":-0.019588226380628227,"y":0.01799902801574671,"z":0.9996461055682404}},{"position":{"x":-721.3850369333946,"y":645.0232945615742,"z":72.64382465608021},"direction":{"x":-0.019588226380628227,"y":0.01799902801574671,"z":0.9996461055682404}},{"position":{"x":-722.0657278001215,"y":645.6487607851213,"z":107.38152682457655},"direction":{"x":-0.019588226380628227,"y":0.01799902801574671,"z":0.9996461055682404}},{"position":{"x":-722.5554334596372,"y":646.098736485515,"z":132.37267946378256},"direction":{"x":-0.019588226380628227,"y":0.01799902801574671,"z":0.9996461055682404}},{"position":{"x":-723.045139119153,"y":646.5487121859087,"z":157.36383210298857},"direction":{"x":-0.019588226380628227,"y":0.01799902801574671,"z":0.9996461055682404}},{"position":{"x":-723.5348447786687,"y":646.9986878863024,"z":182.35498474219457},"direction":{"x":-0.019588226380628227,"y":0.01799902801574671,"z":0.9996461055682404}},{"position":{"x":-724.0245504381844,"y":647.4486635866961,"z":207.34613738140058},"direction":{"x":-0.019588226380628227,"y":0.01799902801574671,"z":0.9996461055682404}},{"position":{"x":-724.564237390246,"y":647.8986392870897,"z":232.33626062765188},"direction":{"x":-0.019588226380628227,"y":0.01799902801574671,"z":0.9996461055682404}},{"position":{"x":-725.2538282596928,"y":648.398605954423,"z":257.3217463696648},"direction":{"x":-0.021587478082463585,"y":0.017999028015746717,"z":0.9996049298500522}},{"position":{"x":-726.0433221245512,"y":648.94856158883,"z":282.30322447320253},"direction":{"x":-0.02758363477787067,"y":0.01999866669333351,"z":0.9994194296805172}},{"position":{"x":-726.8827773333209,"y":649.498517223237,"z":307.28307362712366},"direction":{"x":-0.03157975459433827,"y":0.0219982253762802,"z":0.9992591241415092}},{"position":{"x":-727.8720956275927,"y":650.0484728576439,"z":332.25743644407663},"direction":{"x":-0.0335782083507877,"y":0.021998225376280208,"z":0.9991939661568447}},{"position":{"x":-728.9612530809549,"y":650.6484152593027,"z":357.2264933977639},"direction":{"x":-0.039572731770873414,"y":0.0219982253762802,"z":0.9989745126781189}},{"position":{"x":-730.2499919402054,"y":651.3483237962215,"z":382.1834419330437},"direction":{"x":-0.04356629813448585,"y":0.023997696066354726,"z":0.9987622781474899}},{"position":{"x":-732.5706188408988,"y":652.5094720589593,"z":423.57710649228284},"direction":{"x":-0.05354600582273132,"y":0.027996341476750824,"z":0.9981728458159687}},{"position":{"x":-734.1586489726587,"y":653.2593595640217,"z":448.515346787668},"direction":{"x":-0.05753825819135127,"y":0.02799634147675082,"z":0.9979506769917152}},{"position":{"x":-735.7466791044187,"y":654.009247069084,"z":473.4535870830532},"direction":{"x":-0.06352120527040135,"y":0.02999550020249609,"z":0.9975296118154076}},{"position":{"x":-737.3347092361787,"y":654.7591345741464,"z":498.3918273784384},"direction":{"x":-0.06352120527040135,"y":0.02999550020249609,"z":0.9975296118154076}},{"position":{"x":-739.6621442354962,"y":655.7932294436721,"z":532.7726260781126},"direction":{"x":-0.06751080490839105,"y":0.029995500202496094,"z":0.9972675474456307}},{"position":{"x":-741.349914358206,"y":656.5431169487345,"z":557.7043147642534},"direction":{"x":-0.06751080490839105,"y":0.029995500202496094,"z":0.9972675474456307}},{"position":{"x":-743.0875444495067,"y":657.2930044537968,"z":582.6325780490383},"direction":{"x":-0.06751080490839105,"y":0.029995500202496094,"z":0.9972675474456307}},{"position":{"x":-744.8751312650165,"y":657.9929129907156,"z":607.5587623020876},"direction":{"x":-0.06950520365202748,"y":0.02999550020249609,"z":0.9971305313913983}},{"position":{"x":-746.7126660889775,"y":658.6428397598575,"z":632.4826677136696},"direction":{"x":-0.07150347262039387,"y":0.027996341476750813,"z":0.9970473701219726}},{"position":{"x":-748.600547193677,"y":658.9428325599093,"z":657.409478766318},"direction":{"x":-0.07350139295843922,"y":0.025997070765676977,"z":0.9969562164632777}},{"position":{"x":-750.7874944055015,"y":658.7428346932359,"z":682.3128372295056},"direction":{"x":-0.07551524418798049,"y":0.011999712002074014,"z":0.9970724421059369}},{"position":{"x":-753.0738863765989,"y":658.3928461264571,"z":707.2056056524357},"direction":{"x":-0.08747788847297994,"y":-0.007999914666939308,"z":0.9961343385275054}},{"position":{"x":-755.459830864754,"y":658.0428575596784,"z":732.0890293899877},"direction":{"x":-0.09145567884389699,"y":-0.013999542671148085,"z":0.9957107369172036}},{"position":{"x":-757.9950320526609,"y":657.6928689928997,"z":756.9576896462211},"direction":{"x":-0.09543777952620455,"y":-0.013999542671148084,"z":0.9953369495020801}},{"position":{"x":-760.7787054216254,"y":657.2928860593479,"z":781.7990095835308},"direction":{"x":-0.10140804751627334,"y":-0.013999542671148092,"z":0.994746410249334}},{"position":{"x":-763.6120558299979,"y":656.8929031257961,"z":806.6347124951909},"direction":{"x":-0.11134693475858055,"y":-0.015999317342070992,"z":0.9936527974923919}},{"position":{"x":-766.4949739140227,"y":656.4429274254024,"z":831.4638547516173},"direction":{"x":-0.11333401633489969,"y":-0.015999317342070992,"z":0.9934281164664047}},{"position":{"x":-769.3773845645444,"y":655.7930006562606,"z":856.2886267351927},"direction":{"x":-0.11531672336099184,"y":-0.017999028015745863,"z":0.9931656902570554}},{"position":{"x":-772.2597952150661,"y":655.1430738871187,"z":881.113398718768},"direction":{"x":-0.1152964260208679,"y":-0.025997070765676127,"z":0.9929908793430176}},{"position":{"x":-775.1422058655878,"y":654.4931471179768,"z":905.9381707023434},"direction":{"x":-0.1152964260208679,"y":-0.025997070765676127,"z":0.9929908793430176}},{"position":{"x":-778.0246165161095,"y":653.843220348835,"z":930.7629426859188},"direction":{"x":-0.1152964260208679,"y":-0.025997070765676127,"z":0.9929908793430176}},{"position":{"x":-782.1972358871731,"y":652.9541057095587,"z":967.5664262924997},"direction":{"x":-0.11530219218958003,"y":-0.023997696066353876,"z":0.9930405404915674}},{"position":{"x":-784.9307836187429,"y":652.3541633078999,"z":992.409288162943},"direction":{"x":-0.11132911820373007,"y":-0.023997696066353876,"z":0.9934938037167051}},{"position":{"x":-787.6643313503128,"y":651.754220906241,"z":1017.2521500333862},"direction":{"x":-0.10934190926279287,"y":-0.02399769606635388,"z":0.9937144748177287}},{"position":{"x":-792.9701474973306,"y":650.5897327046123,"z":1065.4721449242866},"direction":{"x":-0.10934190926279287,"y":-0.02399769606635388,"z":0.9937144748177287}},{"position":{"x":-797.0923374764565,"y":649.6850195629287,"z":1102.9351806241746},"direction":{"x":-0.10934190926279287,"y":-0.02399769606635388,"z":0.9937144748177287}},{"position":{"x":-799.8258852080263,"y":649.0850771612699,"z":1127.7780424946177},"direction":{"x":-0.10934190926279287,"y":-0.02399769606635388,"z":0.9937144748177287}},{"position":{"x":-802.5594329395961,"y":648.485134759611,"z":1152.6209043650608},"direction":{"x":-0.10934190926279287,"y":-0.02399769606635388,"z":0.9937144748177287}},{"position":{"x":-805.2432895134552,"y":647.8851923579522,"z":1177.4691836416152},"direction":{"x":-0.10934190926279287,"y":-0.02399769606635388,"z":0.9937144748177287}},{"position":{"x":-809.8043207101817,"y":646.832293443041,"z":1221.0935695471076},"direction":{"x":-0.1073542629543643,"y":-0.023997696066353866,"z":0.9939311710621779}},{"position":{"x":-812.1400497243558,"y":646.2323510413821,"z":1245.9769864966954},"direction":{"x":-0.10138877933851316,"y":-0.023997696066353876,"z":0.9945574020677506}},{"position":{"x":-816.3123570312331,"y":644.9617442077098,"z":1294.6566009264766},"direction":{"x":-0.08944260386419305,"y":-0.025997070765676127,"z":0.9956526366788758}},{"position":{"x":-818.1996340172005,"y":644.261835670791,"z":1319.5754354421233},"direction":{"x":-0.08147460558478964,"y":-0.025997070765676127,"z":0.9963363091629289}},{"position":{"x":-819.8611463929495,"y":642.9250119470008,"z":1367.4182819570997},"direction":{"x":-0.05553902083040396,"y":-0.02999550020249524,"z":0.9980058552597786}},{"position":{"x":-819.9509321833347,"y":642.275085177859,"z":1392.409671148311},"direction":{"x":-0.015586751948482365,"y":-0.025997070765676134,"z":0.9995404971662234}},{"position":{"x":-819.6845092239023,"y":641.016826952839,"z":1440.7923618465154},"direction":{"x":0.0024065304485251897,"y":-0.025997070765676124,"z":0.9996591223626206}},{"position":{"x":-819.324459755177,"y":640.3669001836971,"z":1465.7813185989455},"direction":{"x":0.00840440587761895,"y":-0.02599707076567613,"z":0.9996266894563435}},{"position":{"x":-818.5759866257625,"y":639.1060422515618,"z":1514.2591246223058},"direction":{"x":0.014401978749008792,"y":-0.02599707076567613,"z":0.9995582700972054}},{"position":{"x":-817.616363457147,"y":638.4561154824199,"z":1539.2322445429127},"direction":{"x":0.016401065152510986,"y":-0.02599707076567613,"z":0.9995274670430361}},{"position":{"x":-815.5715135866068,"y":637.201756817976,"z":1587.42257213412},"direction":{"x":0.042380308197724655,"y":-0.025997070765676127,"z":0.9987632661390138}},{"position":{"x":-814.5120058816636,"y":636.5518300488342,"z":1612.3916537875953},"direction":{"x":0.042380308197724655,"y":-0.025997070765676127,"z":0.9987632661390138}},{"position":{"x":-809.3556402390157,"y":635.1040611784248,"z":1660.0668760591598},"direction":{"x":0.07431358154808679,"y":-0.02599707076567613,"z":0.9968960045607067}},{"position":{"x":-799.7140883994985,"y":633.9045219253436,"z":1683.1016667833278},"direction":{"x":0.1378861306816835,"y":-0.033993449711951035,"z":0.989864566666731}},{"position":{"x":-774.2601956278864,"y":631.8293190175131,"z":1717.9936758529302},"direction":{"x":0.570903006513666,"y":-0.04798157012324952,"z":0.819614254440566}},{"position":{"x":-755.3242027562065,"y":630.7796276902868,"z":1734.2825162684182},"direction":{"x":0.6064018535408658,"y":-0.047981570123249516,"z":0.7937093680628384}},{"position":{"x":-711.5915370684211,"y":629.4515230868614,"z":1745.6155698046632},"direction":{"x":0.9421422915190101,"y":-0.03199453894627971,"z":0.33368286142522213}},{"position":{"x":-661.7972561842862,"y":628.2531596564378,"z":1743.8378214223494},"direction":{"x":0.9990885319719407,"y":-0.029995500202495248,"z":0.030370631369048606}},{"position":{"x":-614.2748759100743,"y":627.3860564817658,"z":1735.9851109068793},"direction":{"x":0.9871292438159246,"y":-0.017999028015745867,"z":-0.15890843588019302}},{"position":{"x":-566.790013228439,"y":626.5693960496428,"z":1728.0521537294476},"direction":{"x":0.9858264019216939,"y":-0.01799902801574587,"z":-0.16680030055313325}},{"position":{"x":-542.1189380225941,"y":626.169413116091,"z":1724.0299575830104},"direction":{"x":0.9865192590712389,"y":-0.015999317342071,"z":-0.16286120878257512}},{"position":{"x":-517.1378674037866,"y":625.9194172827368,"z":1723.0899507631102},"direction":{"x":0.9868430082337953,"y":-0.015999317342070996,"z":-0.16088784585748284}},{"position":{"x":-492.1794004543344,"y":625.619424482685,"z":1724.4988268588054},"direction":{"x":0.9992428247522996,"y":-0.009999833334166248,"z":-0.037600272796004974}},{"position":{"x":-467.6071701412045,"y":625.1694487822913,"z":1729.081731975383},"direction":{"x":0.9983386779780863,"y":-0.011999712002073174,"z":0.05635504382780909}},{"position":{"x":-443.5997108584806,"y":624.8194602155125,"z":1736.047319301049},"direction":{"x":0.9828892125251969,"y":-0.017999028015745867,"z":0.18331620466310872}},{"position":{"x":-401.5665512039571,"y":624.3048730256685,"z":1748.698743518986},"direction":{"x":0.9597392040982984,"y":-0.013999542671148096,"z":0.28054353124205833}},{"position":{"x":-378.0856166343182,"y":624.2548730590019,"z":1757.2803058324387},"direction":{"x":0.955763547868325,"y":-0.009999833334166248,"z":0.29396605909431267}},{"position":{"x":-354.6391960696227,"y":624.2048730923352,"z":1765.9557229813},"direction":{"x":0.939237382785554,"y":-0.001999998666666519,"z":0.34326249253811025}},{"position":{"x":-344.23997972216614,"y":624.1695177768461,"z":1788.6901692987376},"direction":{"x":0.9378568225878217,"y":-0.0019999986666665195,"z":0.3470166859544493}},{"position":{"x":-333.70454470057626,"y":624.1341624613569,"z":1811.3618114736557},"direction":{"x":0.9371609139655819,"y":-0.001999998666666519,"z":0.3488917043160083}},{"position":{"x":-310.15570975061956,"y":624.0841624946903,"z":1819.755253705722},"direction":{"x":0.9392373827855544,"y":-0.001999998666666519,"z":0.3432624925381092}},{"position":{"x":-286.4279325549684,"y":624.0341625280237,"z":1827.6286322281144},"direction":{"x":0.9419533979982674,"y":-0.0019999986666665195,"z":0.3357376892826472}},{"position":{"x":-262.60738546402257,"y":623.984162561357,"z":1835.2167173812584},"direction":{"x":0.9491110878260477,"y":-0.001999998666666519,"z":0.31493514089569286}},{"position":{"x":-215.61538846462994,"y":623.8857126269911,"z":1849.871271007288},"direction":{"x":0.9528218836378328,"y":-0.001999998666666519,"z":0.3035234061257641}},{"position":{"x":-191.2202714153532,"y":623.9857123603247,"z":1855.3364575736753},"direction":{"x":0.9563954747448425,"y":-0.0019999986666665187,"z":0.2920679645098394}},{"position":{"x":-166.3628636282013,"y":624.2357081936789,"z":1857.9910347879497},"direction":{"x":0.9758046819710698,"y":0.0039999893333422815,"z":0.2186074626554928}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.9942963114860764,"y":0.00999983333416708,"z":0.1061830885709796}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.9356978018986689,"y":0.07193780812232396,"z":-0.3453904678542175}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.9074206132262139,"y":0.08589402986201593,"z":-0.4113514875702108}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.8929129185289527,"y":0.08589402986201594,"z":-0.4419601062971309}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.760635032129483,"y":0.10779017041000788,"z":-0.640168436476184}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.5213456786524067,"y":0.18492937764159004,"z":-0.8330665091309071}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.3764606934315731,"y":0.22992439907208284,"z":-0.8974475566919555}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.3764606934315731,"y":0.22992439907208284,"z":-0.8974475566919555}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.3764606934315731,"y":0.22992439907208284,"z":-0.8974475566919555}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.38110467200459425,"y":0.23770262642713494,"z":-0.8934521197948508}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.38766297965687474,"y":0.24352634067370327,"z":-0.8890513683705961}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.38766297965687474,"y":0.24352634067370327,"z":-0.8890513683705961}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.38766297965687474,"y":0.24352634067370327,"z":-0.8890513683705961}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.3929902779486068,"y":0.24352634067370324,"z":-0.8867094015718749}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.39653396217863623,"y":0.24352634067370327,"z":-0.8851303509862193}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.39653396217863623,"y":0.24352634067370327,"z":-0.8851303509862193}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.39653396217863623,"y":0.24352634067370327,"z":-0.8851303509862193}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.39653396217863623,"y":0.24352634067370327,"z":-0.8851303509862193}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.39653396217863623,"y":0.24352634067370327,"z":-0.8851303509862193}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.40400436513931254,"y":0.23964482567662768,"z":-0.8828084902598072}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.40753235765312323,"y":0.23964482567662762,"z":-0.881185414650121}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.41982861294798063,"y":0.2396448256766276,"z":-0.8753937932591215}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.43551683995867474,"y":0.2396448256766276,"z":-0.8676954763272821}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}}]},{"animationId":6,"prevCheckpointId":16,"nextCheckpointId":17,"points":[{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.44567655879418855,"y":0.24158606634713706,"z":-0.8619794530545881}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.48978980185890914,"y":0.2551472590634738,"z":-0.8336700943343279}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.7620478862832335,"y":0.22213145663397083,"z":-0.6082274533305172}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.8666902034597722,"y":0.21822962308086968,"z":-0.4485798957118343}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.8733637166031527,"y":0.2201809802192339,"z":-0.4344607628668271}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.8814983818939087,"y":0.22602973608850457,"z":-0.4145734689077216}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.9025895583734427,"y":0.22602973608850457,"z":-0.36639138570522484}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.9025895583734427,"y":0.22602973608850457,"z":-0.36639138570522484}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.9025895583734427,"y":0.22602973608850457,"z":-0.36639138570522484}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.9214513976729849,"y":0.21822962308086968,"z":-0.32140807914003067}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.971964819541909,"y":0.19278539057312127,"z":-0.13460379918276244}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.9753884287115484,"y":0.1947474855852046,"z":-0.1033964699293817}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.9837418456902995,"y":0.17902957342582454,"z":0.014156019101788209}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.9736059803125363,"y":0.13558114487825318,"z":0.18360051267130897}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.923459591575099,"y":0.07792093205630185,"z":0.37570029421791595}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.8968029602419906,"y":0.06196028630040866,"z":0.4380700553824406}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.876467887072184,"y":0.0459837790496054,"z":0.4792593608846242}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.868766117245866,"y":0.043985804040905595,"z":0.49326532674456003}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.8546895041443502,"y":0.04198765308904826,"z":0.5174387775317565}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.8143425423232555,"y":0.03399344971195184,"z":0.579388185191222}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.7745436086261531,"y":0.025997070765676946,"z":0.631986036750798}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.7300218582254522,"y":0.00999983333416706,"z":0.683350634627895}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.7300218582254522,"y":0.00999983333416706,"z":0.683350634627895}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.7300218582254522,"y":0.00999983333416706,"z":0.683350634627895}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.7300218582254522,"y":0.00999983333416706,"z":0.683350634627895}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.7300218582254522,"y":0.00999983333416706,"z":0.683350634627895}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.7300218582254522,"y":0.00999983333416706,"z":0.683350634627895}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.7300218582254522,"y":0.00999983333416706,"z":0.683350634627895}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.7300218582254522,"y":0.00999983333416706,"z":0.683350634627895}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.7300218582254522,"y":0.00999983333416706,"z":0.683350634627895}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.7657810112107902,"y":0.015999317342071814,"z":0.6429023757255589}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.9151968040968493,"y":0.04598377904960539,"z":0.4003752013239963}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.9888007924929606,"y":0.09187027357906025,"z":0.11761311830659779}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.990775088719324,"y":0.09585261193281744,"z":0.09579666152258426}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.995184091000718,"y":0.09386163047913723,"z":0.028259853907488086}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.9953926973840831,"y":0.09585261193281745,"z":0.002377978152997118}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.9953942461403685,"y":0.09585261193281747,"z":-0.0016036010428253093}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.9953890481525922,"y":0.09585261193281745,"z":-0.00359438500071263}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.9953890481525922,"y":0.09585261193281745,"z":-0.00359438500071263}},{"position":{"x":-141.88513562382155,"y":625.5850521893316,"z":1853.090004026467},"direction":{"x":0.994230409176306,"y":0.09585261193281744,"z":0.04814738055981693}},{"position":{"x":-117.0667268958193,"y":627.8320159192818,"z":1855.0894394983213},"direction":{"x":0.9927363491200907,"y":0.08987854919801146,"z":0.07997741887416844}},{"position":{"x":-92.24831816781705,"y":630.0789796492321,"z":1857.0888749701755},"direction":{"x":0.9927363491200907,"y":0.08987854919801146,"z":0.07997741887416844}},{"position":{"x":-67.4299094398148,"y":632.3259433791824,"z":1859.0883104420298},"direction":{"x":0.9927363491200907,"y":0.08987854919801146,"z":0.07997741887416844}},{"position":{"x":-42.62386343178879,"y":634.5231050117545,"z":1861.2866193848424},"direction":{"x":0.9927363491200907,"y":0.08987854919801146,"z":0.07997741887416844}},{"position":{"x":-17.822263650792816,"y":636.7202666443267,"z":1863.53453598998},"direction":{"x":0.99224184032104,"y":0.0878864653028857,"z":0.08793235771250885}},{"position":{"x":6.9793361302031585,"y":638.9174282768988,"z":1865.7824525951175},"direction":{"x":0.992063991239839,"y":0.08788646530288571,"z":0.08991666420550515}},{"position":{"x":54.52400291111159,"y":643.1293871266051,"z":1870.0917087272333},"direction":{"x":0.992063991239839,"y":0.08788646530288571,"z":0.08991666420550515}},{"position":{"x":79.32560269210757,"y":645.3265487591773,"z":1872.3396253323708},"direction":{"x":0.992063991239839,"y":0.08788646530288571,"z":0.08991666420550515}},{"position":{"x":104.20520496712552,"y":647.6730895211557,"z":1873.0461216800581},"direction":{"x":0.992063991239839,"y":0.08788646530288571,"z":0.08991666420550515}},{"position":{"x":143.05021181189403,"y":651.3360396504642,"z":1873.8163839051024},"direction":{"x":0.9953357358469119,"y":0.09386163047913723,"z":0.022288276512202776}},{"position":{"x":184.0948768444474,"y":655.1561992836548,"z":1874.0289932896094},"direction":{"x":0.9954169260399494,"y":0.09386163047913723,"z":0.018306765879747333}},{"position":{"x":208.9784345017299,"y":657.05437074515,"z":1872.5438995486413},"direction":{"x":0.9957644919764049,"y":0.09187027357906025,"z":-0.0035957407416176146}},{"position":{"x":233.76039444108295,"y":658.9026827740495,"z":1869.816592413732},"direction":{"x":0.9953423062913003,"y":0.0759268584598063,"z":-0.059403749638724426}},{"position":{"x":258.52773126183575,"y":660.5514851349251,"z":1866.8399369781544},"direction":{"x":0.9912783975741214,"y":0.07393248115597814,"z":-0.10909228539637142}},{"position":{"x":283.26390616444723,"y":662.1004922924353,"z":1863.5654556431339},"direction":{"x":0.9906934728301124,"y":0.06595209443502288,"z":-0.1190662174231013}},{"position":{"x":308.1454376825017,"y":663.3499715242023,"z":1861.4802240096112},"direction":{"x":0.9894469961044584,"y":0.06196028630040862,"z":-0.13097925340081776}},{"position":{"x":333.04605882897295,"y":664.4496166252248,"z":1859.543771797005},"direction":{"x":0.9952612607221805,"y":0.049979169270678706,"z":-0.08340926534090176}},{"position":{"x":357.94209544274185,"y":665.6491558783061,"z":1857.607676110786},"direction":{"x":0.9960248458588488,"y":0.04398580404090556,"z":-0.07745808850424685}},{"position":{"x":382.83813205651074,"y":666.8486951313874,"z":1855.671580424567},"direction":{"x":0.9958414645507558,"y":0.0479815701232503,"z":-0.07744382744876112}},{"position":{"x":407.73416867027964,"y":668.0482343844687,"z":1853.735484738348},"direction":{"x":0.9958414645507558,"y":0.0479815701232503,"z":-0.07744382744876112}},{"position":{"x":432.63020528404854,"y":669.24777363755,"z":1851.799389052129},"direction":{"x":0.9958414645507558,"y":0.0479815701232503,"z":-0.07744382744876112}},{"position":{"x":457.52624189781744,"y":670.4473128906313,"z":1849.86329336591},"direction":{"x":0.9958414645507558,"y":0.0479815701232503,"z":-0.07744382744876112}},{"position":{"x":482.4143349814658,"y":671.6468521437126,"z":1847.8276292875382},"direction":{"x":0.9958414645507558,"y":0.0479815701232503,"z":-0.07744382744876112}},{"position":{"x":501.55235389097396,"y":672.4597381934766,"z":1863.8923561289573},"direction":{"x":0.9955237233459336,"y":0.047981570123250314,"z":-0.08142656313486986}},{"position":{"x":521.1326247655772,"y":673.2726242432406,"z":1879.414991496293},"direction":{"x":0.9951108525117179,"y":0.04598377904960537,"z":-0.08740642583768743}},{"position":{"x":541.172771740788,"y":674.0148680988749,"z":1894.3428708926012},"direction":{"x":0.9922737343973057,"y":0.04598377904960537,"z":-0.11523162799137524}},{"position":{"x":562.2302171893172,"y":674.8630704390281,"z":1907.7914598138366},"direction":{"x":0.9885448955536277,"y":0.04198765308904823,"z":-0.1449690534663901}},{"position":{"x":584.7057592361979,"y":675.6406369468598,"z":1918.7114140273302},"direction":{"x":0.9752913949978076,"y":0.0479815701232503,"z":-0.21564893640298383}},{"position":{"x":608.3044690990222,"y":676.5594615481152,"z":1926.912429462163},"direction":{"x":0.943951569616521,"y":0.04398580404090556,"z":-0.32714015843577116}},{"position":{"x":649.9910983988616,"y":678.3814951737876,"z":1900.72351149637},"direction":{"x":0.8572892698055411,"y":0.03799085532693741,"z":-0.5134314002744769}},{"position":{"x":669.8002199817199,"y":679.0814037107064,"z":1885.4883931786317},"direction":{"x":0.8350372909996209,"y":0.03599222450386962,"z":-0.5490148289575407}},{"position":{"x":702.1698981703356,"y":680.4185738391953,"z":1848.5736583229093},"direction":{"x":0.7398982190032868,"y":0.02199822537628015,"z":-0.6723590585364777}},{"position":{"x":714.2191880942137,"y":681.2184373128523,"z":1826.6835959485386},"direction":{"x":0.5719065675563682,"y":0.03199453894628049,"z":-0.8196945940187164}},{"position":{"x":725.8282961791133,"y":682.0183007865094,"z":1804.556941707632},"direction":{"x":0.48197159695512476,"y":0.031994538946280494,"z":-0.8756024949748269}},{"position":{"x":737.4374042640129,"y":682.8181642601664,"z":1782.4302874667253},"direction":{"x":0.4643643233959828,"y":0.0319945389462805,"z":-0.8850661696362628}},{"position":{"x":749.0465123489125,"y":683.6180277338235,"z":1760.3036332258187},"direction":{"x":0.4643643233959828,"y":0.0319945389462805,"z":-0.8850661696362628}},{"position":{"x":760.2568271020264,"y":684.3179362707423,"z":1737.9689299330487},"direction":{"x":0.4643643233959828,"y":0.0319945389462805,"z":-0.8850661696362628}},{"position":{"x":770.2934162652082,"y":684.767911971136,"z":1715.0764770317417},"direction":{"x":0.448412590124554,"y":0.027996341476750765,"z":-0.8933881317107957}},{"position":{"x":779.7320806418221,"y":685.1179005379147,"z":1691.9293579283033},"direction":{"x":0.401463566527272,"y":0.017999028015746658,"z":-0.9156981160522779}},{"position":{"x":796.4186661322243,"y":685.7310805069214,"z":1651.4376935433293},"direction":{"x":0.3756940516778979,"y":0.013999542671148887,"z":-0.9266380050153585}},{"position":{"x":807.0479565051477,"y":686.0310733069733,"z":1628.8118633820293},"direction":{"x":0.3849414927431107,"y":0.013999542671148887,"z":-0.922834795599789}},{"position":{"x":817.5870803356945,"y":686.2310711736468,"z":1606.1427904027978},"direction":{"x":0.42517161491693345,"y":0.01199971200207397,"z":-0.9050332064520031}},{"position":{"x":827.5336110434479,"y":686.2810711403134,"z":1583.20670471053},"direction":{"x":0.4215649532218751,"y":0.00799991466694011,"z":-0.9067629191692611}},{"position":{"x":836.6015997068487,"y":686.2310711736468,"z":1559.9092996704023},"direction":{"x":0.3978612283101331,"y":0.00199999866666731,"z":-0.9174434276907135}},{"position":{"x":845.5296415554075,"y":686.1810712069802,"z":1536.5579063767739},"direction":{"x":0.36271954653603083,"y":-0.001999998666666557,"z":-0.9318962016051088}},{"position":{"x":854.4576834039663,"y":686.1310712403135,"z":1513.2065130831454},"direction":{"x":0.35712167394235206,"y":-0.001999998666666557,"z":-0.9340557317451383}},{"position":{"x":863.385725252525,"y":686.0810712736469,"z":1489.855119789517},"direction":{"x":0.35712167394235206,"y":-0.001999998666666557,"z":-0.9340557317451383}},{"position":{"x":871.5146827111377,"y":685.9310721736452,"z":1466.2141056212106},"direction":{"x":0.35712167394235206,"y":-0.001999998666666557,"z":-0.9340557317451383}},{"position":{"x":878.5959744049943,"y":685.8310724403117,"z":1442.2381737727953},"direction":{"x":0.3251582983445034,"y":-0.005999964000064424,"z":-0.9456405667322574}},{"position":{"x":883.6896889909519,"y":685.8310724403117,"z":1417.7625926414555},"direction":{"x":0.28325166775426547,"y":-0.003999989333341489,"z":-0.959037273936608}},{"position":{"x":886.5132612538099,"y":685.9310721736452,"z":1392.9227568986462},"direction":{"x":0.20374858343830374,"y":3.7643499428696714e-16,"z":-0.979023245253597}},{"position":{"x":888.9888104706799,"y":686.0310719069788,"z":1368.0458266996006},"direction":{"x":0.1129428905143205,"y":0.0039999893333422425,"z":-0.9935934297123767}},{"position":{"x":890.2860528651042,"y":686.2701707693822,"z":1320.841307912993},"direction":{"x":0.0771080736373432,"y":0.003999989333342243,"z":-0.997014716574069}},{"position":{"x":885.4005574990218,"y":687.1699763819789,"z":1296.3398327556167},"direction":{"x":-0.01681359783504895,"y":0.00599996400006518,"z":-0.9998406389819527}},{"position":{"x":876.6352030355279,"y":688.5692447633728,"z":1272.9686836797553},"direction":{"x":-0.19541981464329436,"y":0.03599222450386963,"z":-0.9800590062950514}},{"position":{"x":866.852605660768,"y":690.0683449253589,"z":1250.0110381709565},"direction":{"x":-0.3506141785397586,"y":0.05597073525575584,"z":-0.9348459630344564}},{"position":{"x":856.1216848839417,"y":691.8169161087973,"z":1227.4990449651577},"direction":{"x":-0.3913038949903968,"y":0.059964006479445,"z":-0.9183058203519553}},{"position":{"x":844.3796189815434,"y":693.9144473799258,"z":1205.5280583939914},"direction":{"x":-0.4292368310730469,"y":0.06994284733753314,"z":-0.9004797282319503}},{"position":{"x":831.5705106731408,"y":696.3605276293302,"z":1184.1986553138045},"direction":{"x":-0.4696826360959321,"y":0.08390125084514119,"z":-0.8788394628466549}},{"position":{"x":814.7010999151029,"y":700.0470349483284,"z":1166.1201419771508},"direction":{"x":-0.5123643323361058,"y":0.09784320997617772,"z":-0.8531761232074738}},{"position":{"x":795.9590707013847,"y":704.5719574843429,"z":1150.2059528053708},"direction":{"x":-0.6747764303215158,"y":0.14746029275992337,"z":-0.7231405334661516}},{"position":{"x":777.1043701361452,"y":709.1951919253826,"z":1134.4539380168321},"direction":{"x":-0.7496811685487296,"y":0.18099690144058203,"z":-0.6365675668712001}},{"position":{"x":758.21820327172,"y":713.8184263664223,"z":1118.7396641083033},"direction":{"x":-0.7541880226095785,"y":0.18492937764159006,"z":-0.6300805915415488}},{"position":{"x":738.6144734749022,"y":719.0788149527184,"z":1104.14438781854},"direction":{"x":-0.7554466745770119,"y":0.18492937764159004,"z":-0.6285709563411507}},{"position":{"x":716.6774472919449,"y":725.6024160740901,"z":1094.0840940525768},"direction":{"x":-0.7841491918727094,"y":0.2104155434518466,"z":-0.5838110515905304}},{"position":{"x":694.2897586622612,"y":732.5593462102955,"z":1085.4012073839458},"direction":{"x":-0.877481047318294,"y":0.26094404485486905,"z":-0.4024117506385343}},{"position":{"x":671.6072571099684,"y":739.8039187795674,"z":1077.784102184542},"direction":{"x":-0.8955075451873468,"y":0.27827720544821577,"z":-0.3473154667452395}},{"position":{"x":635.5420796418227,"y":751.3227891647098,"z":1065.6729049174899},"direction":{"x":-0.9073000620917142,"y":0.2897829027708762,"z":-0.30468420797615453}},{"position":{"x":612.8595780895299,"y":758.5673617339817,"z":1058.055799718086},"direction":{"x":-0.9073000620917142,"y":0.2897829027708762,"z":-0.30468420797615453}},{"position":{"x":589.7040835757529,"y":766.0985335303886,"z":1052.3897141914242},"direction":{"x":-0.9073000620917142,"y":0.2897829027708762,"z":-0.30468420797615453}},{"position":{"x":566.3002283784901,"y":773.6773675417982,"z":1047.9376543386074},"direction":{"x":-0.9262197805510813,"y":0.3012468718562802,"z":-0.22664342106646973}},{"position":{"x":542.844634802531,"y":781.2562015532077,"z":1043.7667545523589},"direction":{"x":-0.9361542078905076,"y":0.30315336045638086,"z":-0.1780823941126688}},{"position":{"x":519.5017319198489,"y":788.5964251511241,"z":1038.6452310932439},"direction":{"x":-0.9382237430383646,"y":0.3031533604563808,"z":-0.16683599144994024}},{"position":{"x":496.32203707458626,"y":795.6013663817207,"z":1032.429722647719},"direction":{"x":-0.9337161153072835,"y":0.29360894391665426,"z":-0.20486093836459646}},{"position":{"x":473.1288567514803,"y":802.5582965179261,"z":1026.210598145038},"direction":{"x":-0.9271877938105069,"y":0.2801976492238667,"z":-0.2486203378209919}},{"position":{"x":449.88426454158633,"y":809.4191211743708,"z":1020.0772452260176},"direction":{"x":-0.9277272129242375,"y":0.27827720544821577,"z":-0.24876498010724513}},{"position":{"x":426.50137047501374,"y":815.9909769127441,"z":1014.1568586486517},"direction":{"x":-0.9297836883957601,"y":0.2744329862577867,"z":-0.24533411676081607}},{"position":{"x":403.04411284888516,"y":822.3213005538965,"z":1008.2675405845886},"direction":{"x":-0.935315762662903,"y":0.2628742295349343,"z":-0.23681546309463658}},{"position":{"x":379.64731843624025,"y":828.5548327538543,"z":1002.0439493765706},"direction":{"x":-0.9382903050451425,"y":0.25321294564609603,"z":-0.23557272256252593}},{"position":{"x":356.30036185715346,"y":834.8367732382861,"z":995.6833800432254},"direction":{"x":-0.9358717765057962,"y":0.24934128799830807,"z":-0.2489436483207193}},{"position":{"x":332.9783352045015,"y":841.1670968794385,"z":989.279469096682},"direction":{"x":-0.9338782631634719,"y":0.2512776193772733,"z":-0.25442277333380986}},{"position":{"x":309.6563085518495,"y":847.4974205205909,"z":982.8755581501385},"direction":{"x":-0.9328810661060785,"y":0.2532129456460961,"z":-0.2561564378617373}},{"position":{"x":286.33428189919755,"y":853.8277441617433,"z":976.4716472035951},"direction":{"x":-0.9328810661060785,"y":0.2532129456460961,"z":-0.2561564378617373}},{"position":{"x":263.0122552465456,"y":860.1580678028957,"z":970.0677362570517},"direction":{"x":-0.9328810661060785,"y":0.2532129456460961,"z":-0.2561564378617373}},{"position":{"x":239.6902285938936,"y":866.4883914440481,"z":963.6638253105083},"direction":{"x":-0.9328810661060785,"y":0.2532129456460961,"z":-0.2561564378617373}},{"position":{"x":216.36820194124164,"y":872.8187150852006,"z":957.2599143639649},"direction":{"x":-0.9328810661060785,"y":0.2532129456460961,"z":-0.2561564378617373}},{"position":{"x":193.04617528858967,"y":879.149038726353,"z":950.8560034174214},"direction":{"x":-0.9328810661060785,"y":0.2532129456460961,"z":-0.2561564378617373}},{"position":{"x":169.7241486359377,"y":885.4793623675054,"z":944.452092470878},"direction":{"x":-0.9328810661060785,"y":0.2532129456460961,"z":-0.2561564378617373}},{"position":{"x":146.4525009341605,"y":891.9063761648092,"z":937.9617991883189},"direction":{"x":-0.9328810661060785,"y":0.2532129456460961,"z":-0.2561564378617373}},{"position":{"x":123.3452058546586,"y":898.2850576413961,"z":930.8649451860813},"direction":{"x":-0.9308659080710886,"y":0.2570805518921555,"z":-0.25961173130236764}},{"position":{"x":100.39036738432993,"y":904.3732161582386,"z":923.0540734885743},"direction":{"x":-0.9242918031800758,"y":0.2551472590634738,"z":-0.28387416008950306}},{"position":{"x":78.24474897459706,"y":909.7801509838462,"z":912.7907094668643},"direction":{"x":-0.9181935388131468,"y":0.24352634067370327,"z":-0.31243486790028047}},{"position":{"x":56.594164625738614,"y":914.6978710240363,"z":901.298615360076},"direction":{"x":-0.8858247363893151,"y":0.21627739302430415,"z":-0.41053456086840134}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.8660233739543381,"y":0.1967088016076052,"z":-0.45968376427153135}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.5751676438049842,"y":0.003999989333342259,"z":-0.8180257829709014}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.3598613604019849,"y":-0.05996400647944421,"z":-0.9310768599941499}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.06171375977806991,"y":-0.18296350546797416,"z":-0.9811808026663207}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.09033906996269149,"y":-0.23964482567662684,"z":-0.9666484417639616}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.2070701679837241,"y":-0.30505863644344305,"z":-0.9295489088060184}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.22811295736875936,"y":-0.32025627677109403,"z":-0.9194565763912916}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.28299358504507216,"y":-0.35227423327508967,"z":-0.8920860358697392}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.3534824649562354,"y":-0.3857309928146968,"z":-0.852209920237175}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.3534824649562354,"y":-0.3857309928146968,"z":-0.852209920237175}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.3534824649562354,"y":-0.3857309928146968,"z":-0.852209920237175}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.3534824649562354,"y":-0.3857309928146968,"z":-0.852209920237175}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.3534824649562354,"y":-0.3857309928146968,"z":-0.852209920237175}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.3534824649562354,"y":-0.3857309928146968,"z":-0.852209920237175}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.34694271552248035,"y":-0.38388499999363596,"z":-0.8557237047819661}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.3233838896133627,"y":-0.38018841512316115,"z":-0.866533108971995}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.3181789012621159,"y":-0.38018841512316115,"z":-0.8684578031187075}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.2737162889762206,"y":-0.37092046941298235,"z":-0.887410501695545}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.26147430738874994,"y":-0.36906239953935704,"z":-0.8918655346081188}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.24397085044780217,"y":-0.36534183848297025,"z":-0.8983337715936429}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.2225167311648787,"y":-0.36347936218244803,"z":-0.9046375283057507}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.1954335446930554,"y":-0.3616154319649617,"z":-0.91161395830335}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.188280021461878,"y":-0.35975005528622955,"z":-0.913854764850449}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.18462310591208966,"y":-0.35975005528622966,"z":-0.914600572099607}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.15108576488105435,"y":-0.3372554328537058,"z":-0.9292103446803455}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.14385202002698358,"y":-0.33348709214081407,"z":-0.9317150614375731}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.060094812830630576,"y":-0.30696269219636724,"z":-0.9498223618500513}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.03354389308613783,"y":-0.3012468718562793,"z":-0.9529559955388456}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.02401281477527698,"y":-0.30124687185627935,"z":-0.9532437814763728}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.02401281477527698,"y":-0.30124687185627935,"z":-0.9532437814763728}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.01830447589862176,"y":-0.29933917826909284,"z":-0.9539711748869885}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":0.01830447589862176,"y":-0.29933917826909284,"z":-0.9539711748869885}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.023733088903046165,"y":-0.2916965067365834,"z":-0.9562164443517976}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}}]},{"animationId":7,"prevCheckpointId":17,"nextCheckpointId":18,"points":[{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.029487841230924152,"y":-0.2897829027708755,"z":-0.9566380383829746}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.016102169000876798,"y":-0.2878681396739427,"z":-0.9575346752541813}},{"position":{"x":39.46630870600649,"y":916.3466733849119,"z":883.1625186916176},"direction":{"x":-0.016102169000876798,"y":-0.2878681396739427,"z":-0.9575346752541813}},{"position":{"x":46.36995383592241,"y":907.2131274228377,"z":860.9382521777624},"direction":{"x":0.09925811874782589,"y":-0.32593446373469454,"z":-0.940167299586951}},{"position":{"x":53.82284472371685,"y":898.5937307770062,"z":838.6860518623675},"direction":{"x":0.27614580519663684,"y":-0.3653418384829701,"z":-0.8889706605542078}},{"position":{"x":61.13417458703552,"y":890.3037078496861,"z":816.2624041775181},"direction":{"x":0.2981156355117776,"y":-0.34477586583326264,"z":-0.8900880126157935}},{"position":{"x":68.44550445035418,"y":882.0136849223661,"z":793.8387564926686},"direction":{"x":0.29245319453274676,"y":-0.3316009170928013,"z":-0.8969459073939768}},{"position":{"x":75.8211716974205,"y":874.339617617457,"z":771.2177878206537},"direction":{"x":0.29245319453274676,"y":-0.3316009170928013,"z":-0.8969459073939768}},{"position":{"x":96.89573386622699,"y":869.0817432900022,"z":758.839678637511},"direction":{"x":0.29502668988265257,"y":-0.3069626921963672,"z":-0.904838746880594}},{"position":{"x":117.79494289397653,"y":863.8238689625475,"z":746.1677482568972},"direction":{"x":0.21876177791256102,"y":-0.2974302873255923,"z":-0.9293430522180445}},{"position":{"x":137.75819610205082,"y":858.5997604098504,"z":732.0547325912094},"direction":{"x":0.2057299618928259,"y":-0.29743028732559235,"z":-0.9323145429311891}},{"position":{"x":155.18139456586718,"y":853.9186540733704,"z":714.7481038392822},"direction":{"x":0.14010435438336688,"y":-0.2955202066613391,"z":-0.9450071837492344}},{"position":{"x":169.9960857578893,"y":849.8197265655158,"z":695.0320261824465},"direction":{"x":-0.014285321747472475,"y":-0.26480336271843086,"z":-0.9641966130803314}},{"position":{"x":184.09000430127745,"y":845.755199021913,"z":674.7874941814435},"direction":{"x":-0.14999463330624388,"y":-0.23187035491168626,"z":-0.9611127657525178}},{"position":{"x":196.94461815300883,"y":841.6906714783102,"z":653.7342635844503},"direction":{"x":-0.18457761721677174,"y":-0.22992439907208193,"z":-0.9555448047757474}},{"position":{"x":207.55172290499908,"y":838.1093878113668,"z":631.3811041639749},"direction":{"x":-0.24154377203070718,"y":-0.22992439907208195,"z":-0.9427573266246835}},{"position":{"x":217.42509970581534,"y":834.701391386668,"z":608.6676281878425},"direction":{"x":-0.33837538512826526,"y":-0.2025879972998633,"z":-0.9189451572805252}},{"position":{"x":224.71759919164433,"y":832.2345943208472,"z":584.8824571040508},"direction":{"x":-0.3683454754392688,"y":-0.19278539057312027,"z":-0.9094808430665202}},{"position":{"x":230.44533596874683,"y":830.1885803962449,"z":560.633604380003},"direction":{"x":-0.46847863085555463,"y":-0.13954311464423585,"z":-0.8723849446128074}},{"position":{"x":234.10014127846355,"y":828.4237582487451,"z":535.9652481125952},"direction":{"x":-0.5249330798883157,"y":-0.1157400256390722,"z":-0.8432375158305245}},{"position":{"x":237.7035078404001,"y":826.6941183170647,"z":511.28683456700736},"direction":{"x":-0.5948619514410294,"y":-0.09983341664682749,"z":-0.797604255034031}},{"position":{"x":241.30687440233666,"y":824.9644783853844,"z":486.60842102141953},"direction":{"x":-0.5965744666009434,"y":-0.09784320997617665,"z":-0.7965711594461337}},{"position":{"x":244.9102409642732,"y":823.234838453704,"z":461.9300074758317},"direction":{"x":-0.5965744666009434,"y":-0.09784320997617665,"z":-0.7965711594461337}},{"position":{"x":247.96774187574962,"y":821.5403876564006,"z":437.1756033288554},"direction":{"x":-0.5965744666009434,"y":-0.09784320997617665,"z":-0.7965711594461337}},{"position":{"x":250.72797692925545,"y":819.8459368590973,"z":412.38629234720617},"direction":{"x":-0.6140727468653138,"y":-0.0958526119328164,"z":-0.7834072621203771}},{"position":{"x":253.14308417979035,"y":818.1162969274169,"z":387.56340769060046},"direction":{"x":-0.6234291956838729,"y":-0.09585261193281637,"z":-0.7759821613636594}},{"position":{"x":255.74114310108996,"y":815.0866063324047,"z":348.62334060538933},"direction":{"x":-0.639967060314071,"y":-0.10182322398394486,"z":-0.7616260189689438}},{"position":{"x":256.7392125059856,"y":813.0054787882898,"z":323.73011330139883},"direction":{"x":-0.666097811690555,"y":-0.11375323640157532,"z":-0.7371390007788363}},{"position":{"x":256.49489929759426,"y":810.8892459491697,"z":298.82104126675983},"direction":{"x":-0.6760369744628458,"y":-0.11772635191662081,"z":-0.7274025812598727}},{"position":{"x":254.4754444160762,"y":807.5646441588805,"z":259.7427009369565},"direction":{"x":-0.7277914498506158,"y":-0.11971220728891872,"z":-0.6752692744012225}},{"position":{"x":252.09249354404952,"y":805.4484113197603,"z":234.94667093793979},"direction":{"x":-0.7464112434359053,"y":-0.11971220728891872,"z":-0.654629088185425}},{"position":{"x":248.1491470962291,"y":803.6484140157272,"z":210.32533814505598},"direction":{"x":-0.7682329602854847,"y":-0.11971220728891871,"z":-0.6288776559530604}},{"position":{"x":241.94446941172023,"y":802.8708475078955,"z":186.12002126720336},"direction":{"x":-0.8073404735069067,"y":-0.10182322398394486,"z":-0.5812343683017713}},{"position":{"x":233.6108085628042,"y":804.0720028459094,"z":162.58053693323367},"direction":{"x":-0.8599542801284711,"y":-0.04398580404090453,"z":-0.50847210850901}},{"position":{"x":224.7978829668142,"y":806.6087988352393,"z":139.32334431357162},"direction":{"x":-0.9009615170867644,"y":0.06794760678144657,"z":-0.42854575888858126}},{"position":{"x":220.24004518196804,"y":810.6733263788421,"z":115.08070150024942},"direction":{"x":-0.9044510321295771,"y":0.14350285172336347,"z":-0.4017153992903497}},{"position":{"x":220.23768227076647,"y":815.7282953155175,"z":90.59708895091556},"direction":{"x":-0.8108477566731991,"y":0.22992439907208312,"z":-0.5382013435596219}},{"position":{"x":205.00900771243198,"y":824.3946089432193,"z":72.76502571351517},"direction":{"x":-0.6919356747444702,"y":0.28595222510483614,"z":-0.6629150375225379}},{"position":{"x":193.0169413385895,"y":835.0430955698693,"z":53.58691119077304},"direction":{"x":-0.6091469823333792,"y":0.34665254510807186,"z":-0.7132825294960154}},{"position":{"x":184.33387755117337,"y":847.2038651367969,"z":33.5439551512127},"direction":{"x":-0.4796826549536987,"y":0.4259394650660003,"z":-0.7671245809096854}},{"position":{"x":179.32969144298147,"y":860.5258562528269,"z":12.989571820667372},"direction":{"x":-0.3473225514966452,"y":0.4864307826771074,"z":-0.8017182415824133}},{"position":{"x":175.12019152068447,"y":873.5930369760933,"z":-7.903702177193139},"direction":{"x":-0.20016744432767614,"y":0.5328796446411959,"z":-0.8221753332218131}},{"position":{"x":173.60833397846596,"y":885.4908215340514,"z":-29.838993590448922},"direction":{"x":-0.1683799968918795,"y":0.5226872289306599,"z":-0.8357309599144207}},{"position":{"x":172.83971788464552,"y":897.2123285935244,"z":-51.90742129962307},"direction":{"x":-0.060474301688740295,"y":0.47591138231832036,"z":-0.8774116565302315}},{"position":{"x":171.8857038541599,"y":908.5344857280011,"z":-74.17620247533752},"direction":{"x":-0.030744643752817474,"y":0.4688602823789194,"z":-0.8827371083669657}},{"position":{"x":170.21696269321058,"y":922.8886889868361,"z":-105.52738931427443},"direction":{"x":-0.04389505782145752,"y":0.43676555718456206,"z":-0.898503796294768}},{"position":{"x":166.53867314563874,"y":936.8052960018058,"z":-141.09088468495912},"direction":{"x":-0.07460337461558308,"y":0.3820374716330881,"z":-0.9211306675842273}},{"position":{"x":163.10291397724916,"y":944.431761912892,"z":-164.65001405435368},"direction":{"x":-0.1072187764835361,"y":0.3522742332750906,"z":-0.9297349076698264}},{"position":{"x":159.21283615723388,"y":951.4367031434886,"z":-188.33118997342729},"direction":{"x":-0.13743036673558323,"y":0.30505863644344416,"z":-0.942365174775782}},{"position":{"x":154.56884719148115,"y":957.5733441658693,"z":-212.11721535490707},"direction":{"x":-0.15560311280061087,"y":0.2801976492238669,"z":-0.9472470367629447}},{"position":{"x":148.9824811584743,"y":962.9314516123308,"z":-235.88869404550272},"direction":{"x":-0.18575955863010882,"y":0.24546564089523165,"z":-0.9514410152591911}},{"position":{"x":143.18894621170756,"y":967.9471782449673,"z":-259.68527865689714},"direction":{"x":-0.22345464132027482,"y":0.2143242978584551,"z":-0.9508591476238253}},{"position":{"x":133.04348611900875,"y":976.1357597151448,"z":-300.79142664429116},"direction":{"x":-0.23383418544716345,"y":0.1967088016076054,"z":-0.952169743841066}},{"position":{"x":127.1670875059797,"y":980.3653184418197,"z":-324.72004491443784},"direction":{"x":-0.23628861925875894,"y":0.18492937764159026,"z":-0.9539228552109881}},{"position":{"x":121.37681645832515,"y":984.3482736071759,"z":-348.711894141737},"direction":{"x":-0.23505594452116196,"y":0.16918234906699658,"z":-0.9571447308058679}},{"position":{"x":113.10181176388983,"y":989.9662626140146,"z":-385.1115103945166},"direction":{"x":-0.22791551062491208,"y":0.15536803346720646,"z":-0.9612051259711002}},{"position":{"x":108.36504994097538,"y":993.7022159258546,"z":-409.37270863954836},"direction":{"x":-0.21476327735870754,"y":0.14548186320527293,"z":-0.9657700358659247}},{"position":{"x":103.92110912304443,"y":997.4876002867283,"z":-433.68160115334217},"direction":{"x":-0.1894704729165776,"y":0.1494381324735998,"z":-0.9704479298012704}},{"position":{"x":99.6717795762194,"y":1001.2729846476019,"z":-458.02526693405264},"direction":{"x":-0.17775763271723788,"y":0.15141537443494538,"z":-0.9723557005517522}},{"position":{"x":95.61367986073981,"y":1004.9100312277337,"z":-482.4241136050159},"direction":{"x":-0.16997318187300173,"y":0.15141537443494538,"z":-0.9737466312284181}},{"position":{"x":91.88831708017766,"y":1008.1013002498875,"z":-506.93813967544025},"direction":{"x":-0.16232398861918357,"y":0.14548186320527287,"z":-0.9759538668385311}},{"position":{"x":88.21105080949795,"y":1011.2429719636307,"z":-531.4658303865036},"direction":{"x":-0.1490145112224861,"y":0.12765076088614932,"z":-0.9805610428169738}},{"position":{"x":84.63013960910735,"y":1014.2854115589444,"z":-556.0202726787608},"direction":{"x":-0.14709065082718809,"y":0.1256668685497298,"z":-0.981107628442537}},{"position":{"x":81.09748542744431,"y":1017.2782167411674,"z":-580.5878014835478},"direction":{"x":-0.1432364480156244,"y":0.1216975838125483,"z":-0.9821776916902845}},{"position":{"x":77.61314022436375,"y":1020.2213755390829,"z":-605.1682236686124},"direction":{"x":-0.14130616726652143,"y":0.11971220728891989,"z":-0.9827011521914791}},{"position":{"x":74.17118930995218,"y":1022.7172109552537,"z":-629.8040467617865},"direction":{"x":-0.13937380812322264,"y":0.117726351916622,"z":-0.9832168874025887}},{"position":{"x":70.7241536393515,"y":1024.8147422263821,"z":-654.4762640851695},"direction":{"x":-0.13767803657646246,"y":0.0998334166468287,"z":-0.9854329237269632}},{"position":{"x":67.32187053673978,"y":1026.4635445872577,"z":-679.1887289655584},"direction":{"x":-0.1378814268240274,"y":0.08390125084514134,"z":-0.9868886929353234}},{"position":{"x":64.01417588011839,"y":1027.5132359144839,"z":-703.9467035227815},"direction":{"x":-0.13609132410446895,"y":0.06595209443502305,"z":-0.9884985952155553}},{"position":{"x":60.902209130408686,"y":1027.8632244812625,"z":-728.7497914545659},"direction":{"x":-0.13230778626485595,"y":0.0419876530890484,"z":-0.9903189822889223}},{"position":{"x":57.89210022965138,"y":1026.76357938024,"z":-753.5435411721334},"direction":{"x":-0.12447866998838804,"y":0.013999542671149053,"z":-0.9921235172713732}},{"position":{"x":54.88823616731152,"y":1024.8155560788323,"z":-778.2858532288543},"direction":{"x":-0.12040435603029206,"y":-0.043985804040904644,"z":-0.9917499887027001}},{"position":{"x":51.889084488558275,"y":1022.4192407805119,"z":-802.9893501918122},"direction":{"x":-0.12015456249359473,"y":-0.0779209320563009,"z":-0.989692482268836}},{"position":{"x":48.89426987826607,"y":1019.6747832595826,"z":-827.657123467197},"direction":{"x":-0.11996606715012977,"y":-0.09585261193281651,"z":-0.9881398785183135}},{"position":{"x":45.95589171662349,"y":1016.4339296940902,"z":-852.2714039146572},"direction":{"x":-0.11979258441168798,"y":-0.10977830083717428,"z":-0.986710931015397}},{"position":{"x":43.279113777616196,"y":1012.2536586320226,"z":-876.7736526627391},"direction":{"x":-0.11753512646570319,"y":-0.1296341426196943,"z":-0.9845712178984047}},{"position":{"x":40.714644927902846,"y":1007.3359385918325,"z":-901.150681380882},"direction":{"x":-0.1070711175602917,"y":-0.16721084248270376,"z":-0.9800899499232786}},{"position":{"x":38.169148033449744,"y":1001.5878286150304,"z":-925.3473687007388},"direction":{"x":-0.10257875398853392,"y":-0.19670880160760423,"z":-0.975081148725715}},{"position":{"x":33.915922890404616,"y":991.3387159530716,"z":-965.7771799142099},"direction":{"x":-0.10147313365375135,"y":-0.24352634067370235,"z":-0.9645714719732094}},{"position":{"x":31.380373543227496,"y":985.2020749306909,"z":-989.8793090000493},"direction":{"x":-0.10142197388708478,"y":-0.2454656408952305,"z":-0.9640851634335741}},{"position":{"x":28.846113332411047,"y":979.0169759493278,"z":-1013.9691839639136},"direction":{"x":-0.10142197388708478,"y":-0.2454656408952305,"z":-0.9640851634335741}},{"position":{"x":26.61931207117548,"y":972.108084735225,"z":-1037.892155734466},"direction":{"x":-0.1013704084326579,"y":-0.24740395925452244,"z":-0.9635949985545705}},{"position":{"x":24.44415977416119,"y":965.0551604299927,"z":-1061.7778202893712},"direction":{"x":-0.08907205044942276,"y":-0.2763556485641132,"z":-0.9569188708221005}},{"position":{"x":22.2690074771469,"y":958.0022361247604,"z":-1085.6634848442764},"direction":{"x":-0.0870060918805716,"y":-0.2821169722092934,"z":-0.9554265821962096}},{"position":{"x":20.09385518013261,"y":950.9493118195281,"z":-1109.5491493991815},"direction":{"x":-0.0870060918805716,"y":-0.2821169722092934,"z":-0.9554265821962096}},{"position":{"x":17.723557031801608,"y":944.0404206054253,"z":-1133.4583298301313},"direction":{"x":-0.0870060918805716,"y":-0.2821169722092934,"z":-0.9554265821962096}},{"position":{"x":12.437182610501416,"y":938.3896772032127,"z":-1157.2306529071925},"direction":{"x":-0.09481192593324007,"y":-0.27635564856411327,"z":-0.9563672172379909}},{"position":{"x":-15.6464037151861,"y":932.3154081324773,"z":-1184.5331954469905},"direction":{"x":-0.3897551764677961,"y":-0.1967088016076043,"z":-0.8996646874178498}},{"position":{"x":-39.86409408196023,"y":930.317540783248,"z":-1190.4078868732647},"direction":{"x":-0.863376750311865,"y":-0.11176599215128466,"z":-0.4920253550574021}},{"position":{"x":-39.86409408196023,"y":930.317540783248,"z":-1190.4078868732647},"direction":{"x":-0.9687076146709654,"y":-0.07991469396917218,"z":-0.23498765705096553}},{"position":{"x":-39.86409408196023,"y":930.317540783248,"z":-1190.4078868732647},"direction":{"x":-0.891103530570608,"y":0.031994538946280654,"z":0.45267079349369654}},{"position":{"x":-39.86409408196023,"y":930.317540783248,"z":-1190.4078868732647},"direction":{"x":-0.6921880179253612,"y":0.09386163047913736,"z":0.7155876900592673}},{"position":{"x":-39.86409408196023,"y":930.317540783248,"z":-1190.4078868732647},"direction":{"x":-0.46696018518431337,"y":0.1355811448782533,"z":0.8738226013362975}},{"position":{"x":-39.86409408196023,"y":930.317540783248,"z":-1190.4078868732647},"direction":{"x":-0.44383889842822105,"y":0.13954311464423702,"z":0.8851749834905009}},{"position":{"x":-39.86409408196023,"y":930.317540783248,"z":-1190.4078868732647},"direction":{"x":-0.4023179964030222,"y":0.14548186320527282,"z":0.9038668360154498}},{"position":{"x":-39.86409408196023,"y":930.317540783248,"z":-1190.4078868732647},"direction":{"x":-0.3324304325763326,"y":0.1474602927599236,"z":0.9315285661515005}},{"position":{"x":-39.86409408196023,"y":930.317540783248,"z":-1190.4078868732647},"direction":{"x":-0.24743382507484685,"y":0.14548186320527287,"z":0.9579204192870892}},{"position":{"x":-39.86409408196023,"y":930.317540783248,"z":-1190.4078868732647},"direction":{"x":-0.13101792870379747,"y":0.14350285172336338,"z":0.9809389552390246}},{"position":{"x":-39.86409408196023,"y":930.317540783248,"z":-1190.4078868732647},"direction":{"x":-0.142695524281857,"y":0.14746029275992356,"z":0.978720312146981}},{"position":{"x":-39.86409408196023,"y":930.317540783248,"z":-1190.4078868732647},"direction":{"x":-0.142695524281857,"y":0.14746029275992356,"z":0.978720312146981}},{"position":{"x":-43.53253812585964,"y":933.8556224390039,"z":-1165.9329099275353},"direction":{"x":-0.142695524281857,"y":0.14746029275992356,"z":0.978720312146981}},{"position":{"x":-47.11166234732358,"y":936.947684277654,"z":-1141.3844064417158},"direction":{"x":-0.14673776175597616,"y":0.1415232662302383,"z":0.9789990778291733}},{"position":{"x":-53.44469873342596,"y":942.3297599217186,"z":-1097.9473653723599},"direction":{"x":-0.1432003705179361,"y":0.12169758381254828,"z":0.9821829523961989}},{"position":{"x":-59.96508992541583,"y":944.377463327303,"z":-1073.899675057775},"direction":{"x":-0.1432003705179361,"y":0.12169758381254828,"z":0.9821829523961989}},{"position":{"x":-66.53567017290975,"y":946.3254866287106,"z":-1049.857364843729},"direction":{"x":-0.2608156476795948,"y":0.08190813622337512,"z":0.961907612583395}},{"position":{"x":-73.64830459125011,"y":947.4251317297332,"z":-1025.915743923607},"direction":{"x":-0.2628232098997564,"y":0.07792093205630199,"z":0.9616924085618364}},{"position":{"x":-81.00674984420273,"y":947.6751275630874,"z":-1002.024515710252},"direction":{"x":-0.28450537673361453,"y":0.04398580404090572,"z":0.9576648368048915}},{"position":{"x":-88.16213795472147,"y":946.225940393024,"z":-978.1142610580328},"direction":{"x":-0.2943378101181047,"y":0.009999833334167187,"z":0.9556491285341957}},{"position":{"x":-95.23863324974356,"y":943.4814828720946,"z":-954.294286934299},"direction":{"x":-0.2862155244207499,"y":-0.057967486802534496,"z":0.9564101860887688}},{"position":{"x":-102.36180097739607,"y":939.4985277067385,"z":-930.6638711598254},"direction":{"x":-0.28305981180088324,"y":-0.1097783008371743,"z":0.9527989649493493}},{"position":{"x":-109.08730732013807,"y":934.2381391204424,"z":-907.1671506151429},"direction":{"x":-0.2849267091061008,"y":-0.1593182066142455,"z":0.9452166309789456}},{"position":{"x":-114.89531216532639,"y":927.8111253231385,"z":-883.715912409719},"direction":{"x":-0.2690202537096798,"y":-0.21041554345184574,"z":0.9398688217872981}},{"position":{"x":-120.20063313758263,"y":920.8541951869331,"z":-860.2968028523234},"direction":{"x":-0.23232019380753316,"y":-0.25708055189215473,"z":0.938049528216957}},{"position":{"x":-127.64340540092654,"y":909.5228642777378,"z":-824.291197155174},"direction":{"x":-0.2023581311884861,"y":-0.28595222510483514,"z":0.9366336058990716}},{"position":{"x":-131.96246071414583,"y":901.753686464242,"z":-800.9248615994297},"direction":{"x":-0.18841679645621578,"y":-0.2993391782690929,"z":0.9353583095083731}},{"position":{"x":-135.9846810119773,"y":893.699929042158,"z":-777.6019386423486},"direction":{"x":-0.17276221252877136,"y":-0.31076711253982786,"z":0.9346534222297707}},{"position":{"x":-139.90819838769974,"y":885.5515674487907,"z":-754.2950680942433},"direction":{"x":-0.16088881191325893,"y":-0.32215029688336005,"z":0.9329169182832431}},{"position":{"x":-143.83171576342218,"y":877.4032058554234,"z":-730.988197546138},"direction":{"x":-0.15694069502889757,"y":-0.32593446373469454,"z":0.9322748219242134}},{"position":{"x":-147.75523313914462,"y":869.254844262056,"z":-707.6813269980328},"direction":{"x":-0.15694069502889757,"y":-0.32593446373469454,"z":0.9322748219242134}},{"position":{"x":-151.67875051486706,"y":861.1064826686887,"z":-684.3744564499275},"direction":{"x":-0.15694069502889757,"y":-0.32593446373469454,"z":0.9322748219242134}},{"position":{"x":-155.6022678905895,"y":852.9581210753214,"z":-661.0675859018222},"direction":{"x":-0.15694069502889757,"y":-0.32593446373469454,"z":0.9322748219242134}},{"position":{"x":-159.5284827694085,"y":844.8570453654497,"z":-637.7446913758791},"direction":{"x":-0.15694069502889757,"y":-0.32593446373469454,"z":0.9322748219242134}},{"position":{"x":-163.4546976482275,"y":836.755969655578,"z":-614.4217968499361},"direction":{"x":-0.15704859515276012,"y":-0.32404302839486815,"z":0.9329157810377244}},{"position":{"x":-167.3809125270465,"y":828.6548939457064,"z":-591.098902323993},"direction":{"x":-0.15704859515276012,"y":-0.32404302839486815,"z":0.9329157810377244}},{"position":{"x":-171.0595963858299,"y":822.2762124691195,"z":-567.2079059511462},"direction":{"x":-0.15704859515276012,"y":-0.32404302839486815,"z":0.9329157810377244}},{"position":{"x":-173.95066493965302,"y":816.8204718920978,"z":-542.9823694787926},"direction":{"x":-0.14714735435133658,"y":-0.255147259063473,"z":0.9556398549138683}},{"position":{"x":-176.79327667069694,"y":811.364731315076,"z":-518.751099324243},"direction":{"x":-0.11564274215292492,"y":-0.21822962308086888,"z":0.9690214588941435}},{"position":{"x":-179.19711723439042,"y":805.8114448992268,"z":-494.4945010357796},"direction":{"x":-0.11370446924175716,"y":-0.21822962308086893,"z":0.9692508061819873}},{"position":{"x":-180.3867025629018,"y":800.355704322205,"z":-470.1260833296086},"direction":{"x":-0.09615362254773883,"y":-0.22213145663397002,"z":0.9702639315385364}},{"position":{"x":-197.5870308317153,"y":796.7052050642551,"z":-452.3546860122123},"direction":{"x":-0.047583413140455756,"y":-0.21822962308086896,"z":0.9747367082468408}},{"position":{"x":-212.08525550083255,"y":793.4708366786034,"z":-432.24647021394475},"direction":{"x":0.026632002569290814,"y":-0.20650342240103112,"z":0.9780833670888238}},{"position":{"x":-225.218400209887,"y":790.4104197661421,"z":-411.1952384596517},"direction":{"x":0.16557264758157203,"y":-0.1829635054679742,"z":0.9690769082171442}},{"position":{"x":-237.75389064379326,"y":787.4196701090835,"z":-389.77289274144783},"direction":{"x":0.22953976251641342,"y":-0.17312332416475015,"z":0.9577785819562137}},{"position":{"x":-250.1606221364424,"y":784.428920452025,"z":-368.27572013298345},"direction":{"x":0.25644221633674075,"y":-0.1691823490669956,"z":0.9516379156194197}},{"position":{"x":-262.0949265362808,"y":781.3685035395637,"z":-346.5224163192195},"direction":{"x":0.26214739362550976,"y":-0.16918234906699567,"z":0.9500821421222092}},{"position":{"x":-273.2445512004477,"y":778.2036779045053,"z":-324.37134978625363},"direction":{"x":0.2827875096619258,"y":-0.17312332416475015,"z":0.943429668289774}},{"position":{"x":-283.3184910107744,"y":775.0388522694469,"z":-301.71081988517693},"direction":{"x":0.3162208542404247,"y":-0.17902957342582376,"z":0.931639835549352}},{"position":{"x":-292.89150158208395,"y":771.8740266343885,"z":-278.8341648127833},"direction":{"x":0.3605581798529861,"y":-0.1790295734258238,"z":0.9153940194146286}},{"position":{"x":-302.32708073284385,"y":768.7092009993302,"z":-255.9004838001455},"direction":{"x":0.38060797223987475,"y":-0.17902957342582373,"z":0.9072408628949746}},{"position":{"x":-311.3945289148946,"y":765.5443753642718,"z":-232.81877541091438},"direction":{"x":0.38604453383368675,"y":-0.17902957342582382,"z":0.9049408984768559}},{"position":{"x":-319.67489648213353,"y":762.3447719547121,"z":-209.44789500445663},"direction":{"x":0.40047355779805793,"y":-0.17902957342582373,"z":0.8986486195079437}},{"position":{"x":-326.061104246498,"y":759.1451685451524,"z":-185.49003849741692},"direction":{"x":0.4306326301534481,"y":-0.18099690144058117,"z":0.8841920942397259}},{"position":{"x":-330.28734961375943,"y":755.7718710196442,"z":-161.08184901314542},"direction":{"x":0.49991528114767003,"y":-0.18099690144058117,"z":0.8469503133855933}},{"position":{"x":-346.61302067508007,"y":755.7718710196442,"z":-142.1484799416474},"direction":{"x":0.5729295765173332,"y":-0.19082252441973196,"z":0.7970812157652132}},{"position":{"x":-357.6124732112491,"y":755.7718710196442,"z":-119.69826738353194},"direction":{"x":0.7448263691130671,"y":-0.18099690144058117,"z":0.642241233138105}},{"position":{"x":-359.998194486273,"y":755.7718710196442,"z":-94.81236105087251},"direction":{"x":0.8881914522383024,"y":-0.14746029275992256,"z":0.4351682504847675}},{"position":{"x":-349.7032565971656,"y":755.7718710196442,"z":-72.03047671573859},"direction":{"x":0.9910416532598882,"y":-0.09386163047913643,"z":0.09500755668738026}},{"position":{"x":-337.2286627542981,"y":755.7718710196442,"z":-50.36519323142912},"direction":{"x":0.910865330241946,"y":-0.02999550020249524,"z":-0.41161222058004154}},{"position":{"x":-312.3979792836785,"y":755.7718710196442,"z":-15.719090834669164},"direction":{"x":0.8447877994023352,"y":-0.015999317342070996,"z":-0.5348622213482157}},{"position":{"x":-295.1310377767373,"y":755.7718710196442,"z":2.359978029513787},"direction":{"x":0.7884963555826681,"y":-0.003999989333341451,"z":-0.615026420016396}},{"position":{"x":-276.14546384121405,"y":755.7718710196442,"z":18.624909088045225},"direction":{"x":0.7231106874737989,"y":0.011999712002074009,"z":-0.6906279320828526}},{"position":{"x":-256.61796139433034,"y":755.7718710196442,"z":34.235054769202414},"direction":{"x":0.6502212333594765,"y":0.03399344971195187,"z":-0.7589840532350876}},{"position":{"x":-236.8738377108634,"y":755.7718710196442,"z":49.57029457730323},"direction":{"x":0.6237453223624124,"y":0.04598377904960543,"z":-0.7802738396840738}},{"position":{"x":-217.12971402739646,"y":755.7718710196442,"z":64.90553438540405},"direction":{"x":0.6124480174142525,"y":0.05597073525575591,"z":-0.7885269194899319}},{"position":{"x":-197.38559034392952,"y":755.7718710196442,"z":80.24077419350488},"direction":{"x":0.6124480174142525,"y":0.05597073525575591,"z":-0.7885269194899319}},{"position":{"x":-194.251040254711,"y":754.7824388584606,"z":105.02374455092159},"direction":{"x":0.6124480174142525,"y":0.05597073525575591,"z":-0.7885269194899319}},{"position":{"x":-190.96784965726565,"y":753.7930066972771,"z":129.78746162851843},"direction":{"x":0.6124480174142525,"y":0.05597073525575591,"z":-0.7885269194899319}},{"position":{"x":-186.35285387066173,"y":752.8035745360935,"z":154.3378758386299},"direction":{"x":0.6077058602529893,"y":0.05597073525575591,"z":-0.7921873921043583}},{"position":{"x":-181.49367070275457,"y":751.8494442466141,"z":178.8425279343326},"direction":{"x":0.5640627083556409,"y":0.05597073525575591,"z":-0.8238328336728449}},{"position":{"x":-175.6117957955529,"y":750.9659290088799,"z":203.12468081254178},"direction":{"x":0.5558575171295996,"y":0.053973759826109975,"z":-0.8295235101555292}},{"position":{"x":-167.67481219008664,"y":750.6830983642066,"z":226.82962329450098},"direction":{"x":0.5206459584278653,"y":0.04997916927067876,"z":-0.8523085524689651}},{"position":{"x":-177.60106532028138,"y":751.1330740646002,"z":249.7701337653766},"direction":{"x":0.4460139565645253,"y":0.01599931734207184,"z":-0.8948829936892563}},{"position":{"x":-186.3676641124043,"y":751.6830296990072,"z":273.17620764414005},"direction":{"x":0.39705012520778915,"y":-0.017999028015745856,"z":-0.9176204188350253}},{"position":{"x":-191.68588066235014,"y":751.8330287990088,"z":297.60352990831547},"direction":{"x":0.3506639516849163,"y":-0.02199822537627935,"z":-0.9362429551505385}},{"position":{"x":-195.97380418105627,"y":751.9330285323424,"z":322.23285616688497},"direction":{"x":0.21272866199783336,"y":-0.005999964000064376,"z":-0.9770928905670174}},{"position":{"x":-180.54677965321957,"y":751.9683838478315,"z":341.90531570348566},"direction":{"x":0.17151694074824528,"y":-0.003999989333341442,"z":-0.9851730503427794}},{"position":{"x":-152.1946584924501,"y":752.06462087517,"z":374.28168859822784},"direction":{"x":0.09622132077788993,"y":-0.0019999986666665087,"z":-0.9953579544229763}},{"position":{"x":-134.73701787651777,"y":752.135331364727,"z":392.1765421643126},"direction":{"x":0.044355701825974564,"y":-0.003999989333341441,"z":-0.9990077936637223}},{"position":{"x":-117.24362249258266,"y":752.206041854284,"z":410.0364446827471},"direction":{"x":0.01237019988249234,"y":-0.003999989333341441,"z":-0.999915485548754}},{"position":{"x":-99.75022710864755,"y":752.2767523438409,"z":427.89634720118164},"direction":{"x":0.010370345504223027,"y":-0.003999989333341441,"z":-0.9999382261017209}},{"position":{"x":-82.25683172471244,"y":752.3474628333979,"z":445.75624971961616},"direction":{"x":0.010370345504223027,"y":-0.003999989333341441,"z":-0.9999382261017209}},{"position":{"x":-64.76343634077733,"y":752.4181733229549,"z":463.6161522380507},"direction":{"x":0.010370345504223027,"y":-0.003999989333341441,"z":-0.9999382261017209}},{"position":{"x":-47.27004095684223,"y":752.4888838125119,"z":481.4760547564852},"direction":{"x":0.010370345504223027,"y":-0.003999989333341441,"z":-0.9999382261017209}},{"position":{"x":-29.740959298756696,"y":752.5949491932948,"z":499.30075801794703},"direction":{"x":0.010370345504223027,"y":-0.003999989333341441,"z":-0.9999382261017209}},{"position":{"x":-12.140718168562184,"y":752.7363690410425,"z":517.0549550593701},"direction":{"x":0.00837036593978216,"y":-0.005999964000064375,"z":-0.9999469672967822}},{"position":{"x":5.6009875838331595,"y":752.9838483299495,"z":534.6666168491327},"direction":{"x":0.004370460585951594,"y":-0.007999914666939308,"z":-0.9999584493565662}},{"position":{"x":22.25387234223895,"y":753.6423384727285,"z":575.6600847664852},"direction":{"x":-0.009628004311252854,"y":-0.015999317342070992,"z":-0.9998256464892118}},{"position":{"x":22.794477232418586,"y":754.0923141731222,"z":600.650188172069},"direction":{"x":-0.013627219208479105,"y":-0.01599931734207099,"z":-0.9997791359801582}},{"position":{"x":47.733898571591624,"y":754.0923141731222,"z":598.9108597766242},"direction":{"x":-0.021624195607185467,"y":-0.017999028015745853,"z":-0.9996041362233504}},{"position":{"x":72.58381644929065,"y":754.0923141731222,"z":596.1756118040239},"direction":{"x":-0.06955309971643409,"y":-0.02399769606635388,"z":-0.9972895652233322}},{"position":{"x":86.4930471940391,"y":753.1381838836428,"z":575.424155578495},"direction":{"x":-0.10936068813297847,"y":-0.029995500202495234,"z":-0.9935494501325455}},{"position":{"x":99.69119820911165,"y":752.0075852247495,"z":554.2220199205984},"direction":{"x":-0.1941006109174713,"y":-0.053973759826109136,"z":-0.9794956794655596}},{"position":{"x":112.16416368547338,"y":750.700631255366,"z":532.5952540147262},"direction":{"x":-0.22715065332770423,"y":-0.06395631828030887,"z":-0.9717572588073757}},{"position":{"x":123.63370554761863,"y":749.2174526698002,"z":510.4310984757525},"direction":{"x":-0.2598730932819876,"y":-0.07393248115597734,"z":-0.9628083732592755}},{"position":{"x":134.11827794591576,"y":747.6990463953284,"z":487.7867132111773},"direction":{"x":-0.3036312973642223,"y":-0.08390125084514037,"z":-0.9490883074654013}},{"position":{"x":144.1958316639508,"y":746.1102031048003,"z":464.9630744114972},"direction":{"x":-0.3450250410381358,"y":-0.0858940298620151,"z":-0.9346549827025457}},{"position":{"x":153.44665600245514,"y":744.48615076887,"z":441.79445979887316},"direction":{"x":-0.361664371514339,"y":-0.08987854919801062,"z":-0.927965909272102}},{"position":{"x":162.04521780849407,"y":742.8620984329395,"z":418.3759374527069},"direction":{"x":-0.3947575442001002,"y":-0.09187027357905941,"z":-0.914180690087914}},{"position":{"x":169.93746026013648,"y":741.2380460970091,"z":394.71003448885085},"direction":{"x":-0.420196524123668,"y":-0.09187027357905941,"z":-0.9027705876616143}},{"position":{"x":177.26262408917123,"y":739.5435952997058,"z":370.8674085560112},"direction":{"x":-0.44708650521403015,"y":-0.09187027357905941,"z":-0.8897603664403207}},{"position":{"x":199.325304557213,"y":739.5435952997058,"z":359.1099372902548},"direction":{"x":-0.46813337737663996,"y":-0.0958526119328166,"z":-0.8784437476421568}},{"position":{"x":221.38798502525478,"y":739.5435952997058,"z":347.35246602449837},"direction":{"x":-0.46813337737663996,"y":-0.0958526119328166,"z":-0.8784437476421568}},{"position":{"x":245.31466341362201,"y":741.0620015741775,"z":354.4382619350002},"direction":{"x":-0.46813337737663996,"y":-0.0958526119328166,"z":-0.8784437476421568}},{"position":{"x":283.92251937784226,"y":743.1739452695165,"z":365.61964789372456},"direction":{"x":-0.47764357675679714,"y":-0.07792093205630105,"z":-0.8750913906161178}},{"position":{"x":308.01139428349404,"y":744.3751006075304,"z":372.1986547818363},"direction":{"x":-0.4813570813300225,"y":-0.07193780812232312,"z":-0.8735675772463158}},{"position":{"x":320.57278806525665,"y":745.974008564538,"z":393.75450966176425},"direction":{"x":-0.4936778924806925,"y":-0.06794760678144547,"z":-0.8669863097007333}},{"position":{"x":333.1847159513185,"y":747.3233525601908,"z":415.2979203893666},"direction":{"x":-0.5024557512705048,"y":-0.06395631828030886,"z":-0.8622341951971172}},{"position":{"x":345.8049514728233,"y":748.3230859148566,"z":436.85552203243714},"direction":{"x":-0.5044771154424744,"y":-0.053973759826109115,"z":-0.8617364291040934}},{"position":{"x":358.9456140501866,"y":748.9230283165155,"z":458.1149447937112},"direction":{"x":-0.5048094208601914,"y":-0.03998933418663372,"z":-0.8623040657228216}},{"position":{"x":372.2135958675629,"y":749.5229707181743,"z":479.2951413841223},"direction":{"x":-0.5256265030945316,"y":-0.02399769606635385,"z":-0.8503769104509608}},{"position":{"x":385.4815776849392,"y":750.1229131198331,"z":500.47533797453343},"direction":{"x":-0.5307192726950535,"y":-0.02399769606635385,"z":-0.8472078636164447}},{"position":{"x":398.79189333130137,"y":750.722855521492,"z":521.6289562586213},"direction":{"x":-0.5307192726950535,"y":-0.02399769606635385,"z":-0.8472078636164447}},{"position":{"x":393.8264289612303,"y":751.2531060614486,"z":546.12513959306},"direction":{"x":-0.532412625854485,"y":-0.02399769606635385,"z":-0.8461447313635174}},{"position":{"x":388.86096459115925,"y":751.7833566014053,"z":570.6213229274987},"direction":{"x":-0.5524752921948501,"y":-0.029995500202495216,"z":-0.8329893885769597}},{"position":{"x":383.8955002210882,"y":752.313607141362,"z":595.1175062619374},"direction":{"x":-0.5524752921948501,"y":-0.029995500202495216,"z":-0.8329893885769597}},{"position":{"x":378.9273786928803,"y":752.9851969269808,"z":619.6096832913647},"direction":{"x":-0.5524752921948501,"y":-0.029995500202495216,"z":-0.8329893885769597}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5522818790952879,"y":-0.039989334186633724,"z":-0.8326977718081678}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5522818790952879,"y":-0.039989334186633724,"z":-0.8326977718081678}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5522818790952879,"y":-0.039989334186633724,"z":-0.8326977718081678}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5522818790952879,"y":-0.039989334186633724,"z":-0.8326977718081678}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5522818790952879,"y":-0.039989334186633724,"z":-0.8326977718081678}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5522818790952879,"y":-0.039989334186633724,"z":-0.8326977718081678}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5522818790952879,"y":-0.039989334186633724,"z":-0.8326977718081678}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5522818790952879,"y":-0.039989334186633724,"z":-0.8326977718081678}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5522818790952879,"y":-0.039989334186633724,"z":-0.8326977718081678}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5522818790952879,"y":-0.039989334186633724,"z":-0.8326977718081678}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5522818790952879,"y":-0.039989334186633724,"z":-0.8326977718081678}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5522818790952879,"y":-0.039989334186633724,"z":-0.8326977718081678}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5522818790952879,"y":-0.039989334186633724,"z":-0.8326977718081678}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5522818790952879,"y":-0.039989334186633724,"z":-0.8326977718081678}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5522818790952879,"y":-0.039989334186633724,"z":-0.8326977718081678}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5522818790952879,"y":-0.039989334186633724,"z":-0.8326977718081678}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5389705494780417,"y":-0.035992224503868804,"z":-0.8415552902635697}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}}]},{"animationId":8,"prevCheckpointId":18,"nextCheckpointId":19,"points":[{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5372863620788477,"y":-0.035992224503868804,"z":-0.8426315475338794}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.535600025534922,"y":-0.0359922245038688,"z":-0.8437044342791225}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5356375341792905,"y":-0.033993449711951,"z":-0.8437635198057631}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5356375341792905,"y":-0.033993449711951,"z":-0.8437635198057631}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.5356375341792905,"y":-0.033993449711951,"z":-0.8437635198057631}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.6327943630064853,"y":-0.03399344971195101,"z":-0.77357335755822}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.7877376740628175,"y":-0.027996341476749946,"z":-0.6153743265086865}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.8154169105804345,"y":-0.015999317342070975,"z":-0.5786529908192366}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.8154169105804345,"y":-0.015999317342070975,"z":-0.5786529908192366}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.8154169105804345,"y":-0.015999317342070975,"z":-0.5786529908192366}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.8154169105804345,"y":-0.015999317342070975,"z":-0.5786529908192366}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.8569984235591761,"y":-0.01599931734207097,"z":-0.5150706008516452}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.9244573769936216,"y":0.003999989333342307,"z":-0.3812644203271609}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.9416260044742458,"y":0.011999712002074031,"z":-0.3364468377169487}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.9911121656926541,"y":0.05597073525575591,"z":-0.12068119907817898}},{"position":{"x":388.088519632425,"y":754.6458988308692,"z":663.3262389812174},"direction":{"x":-0.9947342108701726,"y":0.0699428473375332,"z":-0.07491226755888257}},{"position":{"x":363.22896283883824,"y":757.2909390514268,"z":663.2475099645309},"direction":{"x":-0.9956298224183492,"y":0.08390125084514125,"z":-0.04101020382572207}},{"position":{"x":338.4439725162221,"y":760.43261076517,"z":664.1608300348728},"direction":{"x":-0.9943822717434694,"y":0.1058016088223026,"z":-0.0031491606674647343}},{"position":{"x":313.9217236996733,"y":764.3168116018502,"z":667.088678534984},"direction":{"x":-0.9913996129046461,"y":0.12566686854972967,"z":0.036532802813677774}},{"position":{"x":289.90728857294584,"y":768.9400460428899,"z":672.2783421895364},"direction":{"x":-0.9808899526619527,"y":0.15536803346720632,"z":0.11711394000444833}},{"position":{"x":252.5980810756323,"y":782.4087371412991,"z":681.1696185452937},"direction":{"x":-0.953458517572527,"y":0.21237034539570004,"z":0.2140460036181724}},{"position":{"x":232.41256375364023,"y":796.8938932072795,"z":683.9490329058647},"direction":{"x":-0.8878755997657665,"y":0.40410484495865406,"z":0.21994588793956332}},{"position":{"x":204.009346818855,"y":819.4705792120382,"z":689.1420618433838},"direction":{"x":-0.7980161173239582,"y":0.5939822893293759,"z":0.10176107533938764}},{"position":{"x":186.6279998454423,"y":835.8421291063656,"z":696.5488918972858},"direction":{"x":-0.7634551506367949,"y":0.6256777111000826,"z":0.16019873532181994}},{"position":{"x":170.0051206099393,"y":852.5510953332656,"z":704.8849781222598},"direction":{"x":-0.6952538789365073,"y":0.654861995773097,"z":0.2962732021560788}},{"position":{"x":153.8702963549043,"y":869.8103387913445,"z":713.0572459540123},"direction":{"x":-0.6649151694201203,"y":0.668358649075997,"z":0.3334434489989586}},{"position":{"x":138.8454624767982,"y":888.0206163667427,"z":721.281609610993},"direction":{"x":-0.6453929702014,"y":0.690369738323155,"z":0.3268907132700982}},{"position":{"x":124.80226500499819,"y":906.5362404544547,"z":730.4989991227022},"direction":{"x":-0.6009933551242447,"y":0.7284111030159275,"z":0.3289745462792273}},{"position":{"x":110.63734074197421,"y":923.2452066813547,"z":742.5474582877205},"direction":{"x":-0.5617278988719999,"y":0.7406249635084817,"z":0.3686955804683701}},{"position":{"x":96.09105503848303,"y":937.8117505387429,"z":756.7327102165088},"direction":{"x":-0.5665969705209589,"y":0.6683586490759971,"z":0.4819383666007302}},{"position":{"x":82.247371187911,"y":952.0102327866763,"z":771.9562288406814},"direction":{"x":-0.581851428139647,"y":0.582661754295526,"z":0.567410077151537}},{"position":{"x":68.49378897924007,"y":966.0022409337657,"z":787.4501852250629},"direction":{"x":-0.5537473540228814,"y":0.5679392899173376,"z":0.608940744966904}},{"position":{"x":54.14370957925687,"y":978.7267538343233,"z":803.4864563832132},"direction":{"x":-0.5501432883468376,"y":0.559680325883576,"z":0.6197582553752572}},{"position":{"x":39.45103245516267,"y":989.9596638005955,"z":820.307484075264},"direction":{"x":-0.5740031759993276,"y":0.5089805160223011,"z":0.6414508463260119}},{"position":{"x":25.95130804227468,"y":999.1862237890795,"z":839.218539877492},"direction":{"x":-0.5877070849637681,"y":0.44931639865088935,"z":0.6728411076820331}},{"position":{"x":13.531303609392975,"y":1006.1911650196761,"z":859.7532492312445},"direction":{"x":-0.5399889765155195,"y":0.36906239953935777,"z":0.756442232089122}},{"position":{"x":1.6112550218117363,"y":1011.5492724661375,"z":881.0652910447798},"direction":{"x":-0.49680017731526815,"y":0.28019764922386664,"z":0.8213883741500954}},{"position":{"x":-10.17285759452019,"y":1016.564999098774,"z":902.5356700864331},"direction":{"x":-0.47680194350324956,"y":0.2143242978584548,"z":0.8524816725414128}},{"position":{"x":-21.730397982872617,"y":1021.2373618512225,"z":924.2057482238357},"direction":{"x":-0.47136450465327706,"y":0.20062906530545968,"z":0.8588151616661344}},{"position":{"x":-32.91775306067841,"y":1025.0721621195974,"z":946.2315829018852},"direction":{"x":-0.46230161553409715,"y":0.186894510097941,"z":0.8668031254961039}},{"position":{"x":-30.837448817940736,"y":1029.717554991051,"z":981.9948440336075},"direction":{"x":-0.43728887862221805,"y":0.1474602927599232,"z":0.8871493102586965}},{"position":{"x":-22.711625828576707,"y":1032.3243093152084,"z":1005.4932659516643},"direction":{"x":-0.43728887862221805,"y":0.1474602927599232,"z":0.8871493102586965}},{"position":{"x":-14.68216938974103,"y":1034.896089615511,"z":1029.0286388058132},"direction":{"x":-0.43728887862221805,"y":0.1474602927599232,"z":0.8871493102586965}},{"position":{"x":-7.165066244953405,"y":1037.5727605664824,"z":1052.7210129572327},"direction":{"x":-0.440964534343364,"y":0.14548186320527265,"z":0.8856552980305954}},{"position":{"x":-0.13133460395853191,"y":1040.7375862015408,"z":1076.5014775847824},"direction":{"x":-0.4599262380558206,"y":0.15141537443494507,"z":0.8749521357951794}},{"position":{"x":7.003140653449852,"y":1044.457242642587,"z":1100.1713618000042},"direction":{"x":-0.47682008503536105,"y":0.17902957342582443,"z":0.8605759805768682}},{"position":{"x":20.977159603998484,"y":1052.5700807603066,"z":1147.141581371041},"direction":{"x":-0.471470564182899,"y":0.2162773930243041,"z":0.8549500549012614}},{"position":{"x":27.731564089230744,"y":1057.0804896874301,"z":1170.7854861111637},"direction":{"x":-0.47827834402304614,"y":0.24546564089523137,"z":0.8432060511989143}},{"position":{"x":34.025935976914646,"y":1061.6933722781082,"z":1194.53632181739},"direction":{"x":-0.48375628293460915,"y":0.2551472590634737,"z":0.8371856036230478}},{"position":{"x":17.09672396693864,"y":1070.2066717414982,"z":1221.0939478455796},"direction":{"x":-0.5160202076955566,"y":0.260944044854869,"z":0.8158623356330497}},{"position":{"x":3.9523947732541913,"y":1076.73027286287,"z":1241.3342353548344},"direction":{"x":-0.5209060640024904,"y":0.26094404485486905,"z":0.8127515474855853}},{"position":{"x":8.664119863771086,"y":1081.000951506726,"z":1265.5119306666772},"direction":{"x":-0.5257731677473779,"y":0.260944044854869,"z":0.8096115003701885}},{"position":{"x":-2.4511454681632294,"y":1089.6551038321286,"z":1305.507105432743},"direction":{"x":-0.5654392580629523,"y":0.22992439907208284,"z":0.7920941965148842}},{"position":{"x":-18.785322217994047,"y":1094.081642064454,"z":1323.9082040190515},"direction":{"x":-0.5934184620565162,"y":0.20845989984609992,"z":0.7774310252663148}},{"position":{"x":-36.234081055743296,"y":1097.8670264253276,"z":1341.4071091351586},"direction":{"x":-0.6533670699932327,"y":0.17706152929301205,"z":0.7360439434523445}},{"position":{"x":-54.01617310470833,"y":1101.4545977184116,"z":1358.609624491326},"direction":{"x":-0.69795035350997,"y":0.15141537443494513,"z":0.6999562046442858}},{"position":{"x":-72.01369902318774,"y":1104.9431755845176,"z":1375.607238597011},"direction":{"x":-0.7112836819586013,"y":0.1435028517233631,"z":0.6881006142466941}},{"position":{"x":-72.85780140257162,"y":1107.3399342581288,"z":1400.4777641048001},"direction":{"x":-0.7199010367391765,"y":0.13954311464423677,"z":0.6799045642273953}},{"position":{"x":-74.36216273885668,"y":1109.5965022242842,"z":1425.3302247070023},"direction":{"x":-0.7270677713735201,"y":0.13558114487825307,"z":0.673045473191407}},{"position":{"x":-77.3184166812343,"y":1111.7127350634044,"z":1450.0644544544355},"direction":{"x":-0.7451102696892717,"y":0.12765076088614902,"z":0.6546113115802138}},{"position":{"x":-81.75937164170942,"y":1113.7587489880068,"z":1474.5816269272016},"direction":{"x":-0.7825834597198852,"y":0.11971220728891961,"z":0.6109272591715562}},{"position":{"x":-86.68974920134421,"y":1115.8047629126092,"z":1499.005082950864},"direction":{"x":-0.8181967780600105,"y":0.11574002563907312,"z":0.5631680733469226}},{"position":{"x":-91.81535455379962,"y":1117.8507768372117,"z":1523.3883148283494},"direction":{"x":-0.8292957547501623,"y":0.11574002563907311,"z":0.5466925988326764}},{"position":{"x":-101.89932414000009,"y":1121.7627554611124,"z":1569.9483934558461},"direction":{"x":-0.8357961999119868,"y":0.11574002563907311,"z":0.5367019272163546}},{"position":{"x":-107.5080285092491,"y":1123.8438830052273,"z":1594.2220693917957},"direction":{"x":-0.8379363155353526,"y":0.1157400256390731,"z":0.5333544577221649}},{"position":{"x":-129.3240154489296,"y":1126.6380328090095,"z":1606.107162606479},"direction":{"x":-0.8440776409541478,"y":0.1177263519166217,"z":0.5231380717417576}},{"position":{"x":-164.04214211541236,"y":1130.9715312347205,"z":1624.3858906332864},"direction":{"x":-0.8766101314821156,"y":0.1097783008371751,"z":0.4685119017145787}},{"position":{"x":-186.50389157507058,"y":1133.616571455278,"z":1635.0382881776507},"direction":{"x":-0.8812513422730136,"y":0.10977830083717509,"z":0.45972252110084255}},{"position":{"x":-209.81683617888078,"y":1135.8635351852283,"z":1643.7823014379314},"direction":{"x":-0.8984699783863295,"y":0.10580160882230248,"z":0.4260959017745671}},{"position":{"x":-233.67603041705573,"y":1137.8614025344577,"z":1650.975866364998},"direction":{"x":-0.9325177841524085,"y":0.08987854919801132,"z":0.3497605304112273}},{"position":{"x":-257.9303158250517,"y":1139.609973717896,"z":1656.7786362349757},"direction":{"x":-0.9543677695269984,"y":0.07991469396917296,"z":0.2877425970826631}},{"position":{"x":-282.75064028151456,"y":1140.7595681941361,"z":1659.5408683787516},"direction":{"x":-0.9701714163198388,"y":0.06994284733753303,"z":0.23211079479911412}},{"position":{"x":-331.10499979556005,"y":1142.7481107790802,"z":1663.3991789306326},"direction":{"x":-0.9953538303550069,"y":0.04198765308904813,"z":0.08664750074693472}},{"position":{"x":-361.559974840802,"y":1143.9368599992952,"z":1665.4891848549212},"direction":{"x":-0.9965510723377387,"y":0.03998933418663444,"z":0.07271047636904317}},{"position":{"x":-410.06580326323035,"y":1145.7841653395674,"z":1668.346228262667},"direction":{"x":-0.9975491706411999,"y":0.03799085532693731,"z":0.058756676765983284}},{"position":{"x":-426.6607163476489,"y":1146.4557551251862,"z":1687.031993617087},"direction":{"x":-0.9975491706411999,"y":0.03799085532693731,"z":0.058756676765983284}},{"position":{"x":-443.2556294320674,"y":1147.127344910805,"z":1705.717758971507},"direction":{"x":-0.9975491706411999,"y":0.03799085532693731,"z":0.058756676765983284}},{"position":{"x":-459.8505425164859,"y":1147.7989346964239,"z":1724.403524325927},"direction":{"x":-0.9975491706411999,"y":0.03799085532693731,"z":0.058756676765983284}},{"position":{"x":-476.44545560090444,"y":1148.4705244820427,"z":1743.089289680347},"direction":{"x":-0.9975491706411999,"y":0.03799085532693731,"z":0.058756676765983284}},{"position":{"x":-493.04036868532296,"y":1149.1421142676616,"z":1761.775055034767},"direction":{"x":-0.9975491706411999,"y":0.03799085532693731,"z":0.058756676765983284}},{"position":{"x":-541.1970548965404,"y":1150.9761228085129,"z":1764.6115336055573},"direction":{"x":-0.9975491706411999,"y":0.03799085532693731,"z":0.058756676765983284}},{"position":{"x":-566.1357841625704,"y":1151.9258941916862,"z":1766.0804505247067},"direction":{"x":-0.9975491706411999,"y":0.03799085532693731,"z":0.058756676765983284}},{"position":{"x":-605.7640133295266,"y":1153.388788709902,"z":1784.0864465928892},"direction":{"x":-0.9976230257426941,"y":0.035992224503869526,"z":0.058761026907764316}},{"position":{"x":-653.2813344441595,"y":1154.8117738269946,"z":1786.4991702827788},"direction":{"x":-0.998093416606605,"y":0.031994538946280376,"z":0.052781447537642676}},{"position":{"x":-678.2760762116762,"y":1155.2117567605465,"z":1786.8199468842013},"direction":{"x":-0.9984163959878143,"y":0.027996341476750647,"z":0.04879451902233688}},{"position":{"x":-724.8971392764438,"y":1155.677998989752,"z":1786.4358119969054},"direction":{"x":-0.999924319287954,"y":0.009999833334166928,"z":-0.007166521458190078}},{"position":{"x":-772.2177847342546,"y":1156.1512411023027,"z":1786.0020142734718},"direction":{"x":-0.999907986406621,"y":0.009999833334166928,"z":-0.009166354430496517}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.999907986406621,"y":0.009999833334166928,"z":-0.009166354430496517}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.999907986406621,"y":0.009999833334166928,"z":-0.009166354430496517}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.999907986406621,"y":0.009999833334166928,"z":-0.009166354430496517}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.999907986406621,"y":0.009999833334166928,"z":-0.009166354430496517}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.999907986406621,"y":0.009999833334166928,"z":-0.009166354430496517}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.999907986406621,"y":0.009999833334166928,"z":-0.009166354430496517}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.999907986406621,"y":0.009999833334166928,"z":-0.009166354430496517}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.999907986406621,"y":0.009999833334166928,"z":-0.009166354430496517}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9996893504865582,"y":-0.009999833334166399,"z":0.022829933356284915}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9987451338118595,"y":-0.025997070765676283,"z":0.04280549028729209}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9984163959878143,"y":-0.027996341476750126,"z":0.04879451902233688}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9983168101827026,"y":-0.027996341476750126,"z":0.050791252894085925}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9982132311116813,"y":-0.02799634147675013,"z":0.0527877836008912}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}}]},{"animationId":9,"prevCheckpointId":19,"nextCheckpointId":20,"points":[{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9981056591890664,"y":-0.027996341476750133,"z":0.05478410315663251}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.9745018646873064,"y":-0.02599707076567628,"z":0.22286827506975326}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.677458325616933,"y":-0.059964006479444346,"z":0.7331129073882378}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.28495631210682437,"y":-0.08190813622337433,"z":0.9550345320515334}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.24105589572702227,"y":-0.06395631828030902,"z":0.9684015925675002}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.24105589572702227,"y":-0.06395631828030902,"z":0.9684015925675002}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":-0.05769635499728418,"y":-0.08987854919801079,"z":0.994280130050927}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":0.15056927485802976,"y":-0.10779017041000725,"z":0.9827055370922202}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":0.6418648281305565,"y":-0.08589402986201526,"z":0.7619919671774726}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":0.7474632032388875,"y":-0.08190813622337434,"z":0.6592342656630303}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":0.7516461336851307,"y":-0.07792093205630118,"z":0.65494764528447}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":0.7516461336851307,"y":-0.07792093205630118,"z":0.65494764528447}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":0.7516461336851307,"y":-0.07792093205630118,"z":0.65494764528447}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":0.7516461336851307,"y":-0.07792093205630118,"z":0.65494764528447}},{"position":{"x":-821.6882323632121,"y":1156.6459828565255,"z":1785.5485088880093},"direction":{"x":0.7516461336851307,"y":-0.07792093205630118,"z":0.65494764528447}},{"position":{"x":-780.1017879111622,"y":1154.2825643748085,"z":1810.3195644126934},"direction":{"x":0.8302317429853778,"y":-0.05796748680253473,"z":0.5543960889231268}},{"position":{"x":-757.1717464443823,"y":1153.5326768697462,"z":1820.2518786979697},"direction":{"x":0.8822097079203811,"y":-0.03998933418663389,"z":0.46915550130244177}},{"position":{"x":-710.4376215284191,"y":1152.6057329686867,"z":1834.4212884092615},"direction":{"x":0.951911160262909,"y":-0.019998666693332806,"z":0.3057207815923078}},{"position":{"x":-686.3126443684815,"y":1152.155757268293,"z":1840.9621598268593},"direction":{"x":0.9612417496909776,"y":-0.017999028015746005,"z":0.27511876279439096}},{"position":{"x":-638.1614475000904,"y":1150.9648814640382,"z":1852.5748245273878},"direction":{"x":0.9690247201665353,"y":-0.01999866669333281,"z":0.24615268642990112}},{"position":{"x":-613.7152339976835,"y":1150.2149939589758,"z":1857.7536578056943},"direction":{"x":0.9744655995032291,"y":-0.02799634147675012,"z":0.22278464993964398}},{"position":{"x":-589.2587117280359,"y":1149.4651064539134,"z":1862.8835883319277},"direction":{"x":0.9778485400962729,"y":-0.029995500202495393,"z":0.2071533311322567}},{"position":{"x":-564.7818654429199,"y":1148.715218948851,"z":1867.9156519905625},"direction":{"x":0.9782608907859044,"y":-0.02999550020249539,"z":0.2051972210493389}},{"position":{"x":-540.289938429046,"y":1147.8154133362543,"z":1872.848791052723},"direction":{"x":0.9790738514046412,"y":-0.02999550020249539,"z":0.20128254634539222}},{"position":{"x":-515.7745938017838,"y":1146.7657220090282,"z":1877.6337702506003},"direction":{"x":0.9796770805549555,"y":-0.035992224503868984,"z":0.19732556248642102}},{"position":{"x":-491.2204595801247,"y":1145.3664536276344,"z":1882.1211459448766},"direction":{"x":0.9806137850904844,"y":-0.041987653089047595,"z":0.1913991679150861}},{"position":{"x":-466.3863847385969,"y":1143.4682821661393,"z":1884.281162580961},"direction":{"x":0.9821653688663633,"y":-0.0559707352557552,"z":0.17949502777105164}},{"position":{"x":-441.5048298535166,"y":1141.221318436189,"z":1883.3541348052056},"direction":{"x":0.993362993661112,"y":-0.07592685845980565,"z":0.08640066544337732}},{"position":{"x":-416.75781098384755,"y":1138.5762782156314,"z":1880.9900664272018},"direction":{"x":0.995262195403214,"y":-0.08987854919801082,"z":-0.03708111103021982}},{"position":{"x":-392.115284489489,"y":1135.7821284118493,"z":1877.8375095524},"direction":{"x":0.9898807547867617,"y":-0.105801608822302,"z":-0.09456273512015059}},{"position":{"x":-351.2593945721154,"y":1130.1238058764761,"z":1862.6400509962916},"direction":{"x":0.9535711515634421,"y":-0.12169758381254753,"z":-0.27548458577597235}},{"position":{"x":-329.94694467010413,"y":1126.3878525646362,"z":1850.1171866264276},"direction":{"x":0.9076143791751806,"y":-0.1335993425461439,"z":-0.3979790878748398}},{"position":{"x":-314.09339662693924,"y":1122.4048973992801,"z":1831.201555984183},"direction":{"x":0.8524979960804504,"y":-0.14943813247359902,"z":-0.5009145747945647}},{"position":{"x":-289.08823616540144,"y":1115.4610442376602,"z":1798.6581802142962},"direction":{"x":0.6076577476254703,"y":-0.16326583067337883,"z":-0.7772363413307899}},{"position":{"x":-274.24023523893516,"y":1111.0837248148023,"z":1779.0271857627172},"direction":{"x":0.5961140162905744,"y":-0.1691823490669958,"z":-0.7848728638104989}},{"position":{"x":-259.54840319797955,"y":1106.3622524403897,"z":1759.3584855032184},"direction":{"x":0.5939200370586518,"y":-0.1750927769143181,"z":-0.7852397780631611}},{"position":{"x":-246.1285473107057,"y":1101.0529938054972,"z":1738.9447832247824},"direction":{"x":0.5876732816382235,"y":-0.18885889497650044,"z":-0.7867480103799541}},{"position":{"x":-232.89590006028283,"y":1095.5484693000164,"z":1718.4607099795894},"direction":{"x":0.536794235490954,"y":-0.21237034539569943,"z":-0.8165480911374379}},{"position":{"x":-208.52526372192773,"y":1085.3895203278971,"z":1681.4370013823564},"direction":{"x":0.5309435561726188,"y":-0.2201809802192334,"z":-0.8183026800081195}},{"position":{"x":-194.2923333203674,"y":1079.5441357461425,"z":1661.7328096639496},"direction":{"x":0.5399826810367399,"y":-0.22602973608850405,"z":-0.8107584489748693}},{"position":{"x":-178.00615960675245,"y":1073.553015104227,"z":1643.7365039534998},"direction":{"x":0.5693172160624136,"y":-0.2338153832701806,"z":-0.7881676687362669}},{"position":{"x":-161.7199858931375,"y":1067.5618944623113,"z":1625.74019824305},"direction":{"x":0.6514469485445973,"y":-0.2396448256766271,"z":-0.719852228417994}},{"position":{"x":-145.8208402812508,"y":1061.4252534399307,"z":1607.4492495040026},"direction":{"x":0.6514469485445973,"y":-0.2396448256766271,"z":-0.719852228417994}},{"position":{"x":-130.16642756629776,"y":1055.143312955499,"z":1588.9972418544278},"direction":{"x":0.6359658244754681,"y":-0.24546564089523096,"z":-0.7316379495618934}},{"position":{"x":-114.54895015085614,"y":1048.8613724710672,"z":1570.5139623042985},"direction":{"x":0.6261765085981222,"y":-0.2512776193772728,"z":-0.7380803059829981}},{"position":{"x":-98.94781526379674,"y":1042.4826909944804,"z":1552.0500241313077},"direction":{"x":0.6246990966176643,"y":-0.25127761937727283,"z":-0.7393311820051719}},{"position":{"x":-83.44552402150582,"y":1035.9590898731087,"z":1533.5534948717836},"direction":{"x":0.624045395482376,"y":-0.25514725906347335,"z":-0.7385575269196313}},{"position":{"x":-68.3289513532677,"y":1029.1463592176117,"z":1514.8431786857452},"direction":{"x":0.620091649691637,"y":-0.26094404485486855,"z":-0.7398611703809604}},{"position":{"x":-71.6094634250893,"y":1024.1931177716435,"z":1490.5593643287589},"direction":{"x":0.6046629067295252,"y":-0.2725092262198797,"z":-0.7484126474415329}},{"position":{"x":-74.8899754969109,"y":1019.2398763256754,"z":1466.2755499717725},"direction":{"x":0.5972807254846747,"y":-0.2801976492238662,"z":-0.751495184504811}},{"position":{"x":-78.17048756873251,"y":1014.2866348797072,"z":1441.9917356147862},"direction":{"x":0.5972807254846747,"y":-0.2801976492238662,"z":-0.751495184504811}},{"position":{"x":-80.86729930215569,"y":1009.333393433739,"z":1417.636189929},"direction":{"x":0.5972807254846747,"y":-0.2801976492238662,"z":-0.751495184504811}},{"position":{"x":-82.87465162920624,"y":1004.4141009581872,"z":1393.2072910963661},"direction":{"x":0.6151428699254587,"y":-0.28019764922386625,"z":-0.7369454029636725}},{"position":{"x":-84.51371444764169,"y":999.6307997767981,"z":1368.7239599732256},"direction":{"x":0.635903265381681,"y":-0.2782772054482153,"z":-0.7198533420113067}},{"position":{"x":-85.67962080666535,"y":995.01791718612,"z":1344.1808962572466},"direction":{"x":0.6473949693267107,"y":-0.27058437614543157,"z":-0.7125053326652756}},{"position":{"x":-86.12599907882327,"y":990.575914470568,"z":1319.5827386369456},"direction":{"x":0.6619368405198682,"y":-0.26094404485486855,"z":-0.7026719181932312}},{"position":{"x":-68.16358060856288,"y":984.7305298888135,"z":1303.2064447402595},"direction":{"x":0.683157273994536,"y":-0.2512776193772728,"z":-0.6856790043369018}},{"position":{"x":-49.050642892025955,"y":979.323595063206,"z":1288.0255136872768},"direction":{"x":0.7184967388104158,"y":-0.23381538327018056,"z":-0.6550517558674397}},{"position":{"x":-27.634023341983593,"y":974.3568617933295,"z":1276.1234143903189},"direction":{"x":0.7645175086614773,"y":-0.21627739302430368,"z":-0.6072372421193049}},{"position":{"x":-5.5245084649190375,"y":969.4881746536994,"z":1265.5184515220546},"direction":{"x":0.8566647820016947,"y":-0.19866933079506108,"z":-0.4760839718783145}},{"position":{"x":17.254313810825725,"y":964.5214413838229,"z":1256.4931085171636},"direction":{"x":0.8843805950825824,"y":-0.19474748558520405,"z":-0.42419851473056647}},{"position":{"x":40.19027907023987,"y":959.4567414513263,"z":1247.9321323921697},"direction":{"x":0.9111528910297902,"y":-0.198669330795061,"z":-0.36101372019564243}},{"position":{"x":64.01971879746404,"y":953.7086314745242,"z":1243.0212227023892},"direction":{"x":0.9174386103765658,"y":-0.20258799729986365,"z":-0.3424390449997581}},{"position":{"x":88.058811630211,"y":947.523532493161,"z":1240.0435446859954},"direction":{"x":0.9531775890889668,"y":-0.2299243990720823,"z":-0.1964363875912164}},{"position":{"x":112.14092395109661,"y":941.0482120831867,"z":1238.2766005011329},"direction":{"x":0.9615637133098781,"y":-0.24740395925452277,"z":-0.11910712065575599}},{"position":{"x":136.19071917824851,"y":934.428128015226,"z":1236.6087166726866},"direction":{"x":0.9632844928354245,"y":-0.2590128163989719,"z":-0.07067776739450393}},{"position":{"x":172.63126469039577,"y":923.9649518559874,"z":1234.0452899686588},"direction":{"x":0.9603894896854821,"y":-0.27058437614543157,"z":-0.06660423025339425}},{"position":{"x":188.13590940573633,"y":918.8422654654571,"z":1215.11478346737},"direction":{"x":0.9575074128781604,"y":-0.2801976492238662,"z":-0.06832884934485252}},{"position":{"x":203.53377015935803,"y":913.61815691276,"z":1196.1249289644595},"direction":{"x":0.9542387778700121,"y":-0.2897829027708757,"z":-0.07385271877751799}},{"position":{"x":227.32363554916247,"y":906.1823997296202,"z":1194.1879674655213},"direction":{"x":0.9521856106214808,"y":-0.2955202066613395,"z":-0.0775265785407625}},{"position":{"x":251.06068243005572,"y":898.6035657182107,"z":1192.1596971675142},"direction":{"x":0.951594615592178,"y":-0.29743028732559273,"z":-0.07747845995753111}},{"position":{"x":266.1767077377323,"y":893.2108399559937,"z":1172.9913824854352},"direction":{"x":0.9494818752357305,"y":-0.3031533604563803,"z":-0.08113081192028783}},{"position":{"x":281.2819609264108,"y":887.7844549254105,"z":1153.8240751209205},"direction":{"x":0.948196882120511,"y":-0.30505863644344333,"z":-0.08866736191073299}},{"position":{"x":311.2054674934081,"y":877.0347861797443,"z":1115.8536392315311},"direction":{"x":0.9475875190492121,"y":-0.3069626921963675,"z":-0.08861037942429328}},{"position":{"x":334.8951554696384,"y":869.3607188748351,"z":1113.6383797459239},"direction":{"x":0.9475875190492121,"y":-0.3069626921963675,"z":-0.08861037942429328}},{"position":{"x":358.58484344586867,"y":861.686651569926,"z":1111.4231202603166},"direction":{"x":0.9475875190492121,"y":-0.3069626921963675,"z":-0.08861037942429328}},{"position":{"x":382.27453142209896,"y":854.0125842650168,"z":1109.2078607747094},"direction":{"x":0.9475875190492121,"y":-0.3069626921963675,"z":-0.08861037942429328}},{"position":{"x":405.96421939832925,"y":846.3385169601077,"z":1106.9926012891021},"direction":{"x":0.9475875190492121,"y":-0.3069626921963675,"z":-0.08861037942429328}},{"position":{"x":429.65390737455954,"y":838.6644496551985,"z":1104.777341803495},"direction":{"x":0.9475875190492121,"y":-0.3069626921963675,"z":-0.08861037942429328}},{"position":{"x":453.3645631019097,"y":830.9903823502893,"z":1102.7990860114396},"direction":{"x":0.9475875190492121,"y":-0.3069626921963675,"z":-0.08861037942429328}},{"position":{"x":498.7367158399802,"y":816.2497754036829,"z":1101.4763370173876},"direction":{"x":0.9506416357233218,"y":-0.3088655200989321,"z":-0.02970809524865836}},{"position":{"x":525.136380921377,"y":807.9123209033729,"z":1127.7608412185748},"direction":{"x":0.9507528626644848,"y":-0.3088655200989321,"z":-0.02590530118148804}},{"position":{"x":548.8975378394573,"y":800.1906829008996,"z":1126.8755568161785},"direction":{"x":0.9507528626644848,"y":-0.3088655200989321,"z":-0.02590530118148804}},{"position":{"x":596.3517370232457,"y":784.6523272739081,"z":1124.299094656564},"direction":{"x":0.9492385718691092,"y":-0.31076711253982814,"z":-0.048681982699475435}},{"position":{"x":620.0722056404807,"y":776.8831494604124,"z":1122.8922383451174},"direction":{"x":0.9489293954824258,"y":-0.3107671125398281,"z":-0.05437650368510351}},{"position":{"x":643.7439896117949,"y":769.1139716469166,"z":1120.8218471459188},"direction":{"x":0.9488187446893991,"y":-0.310767112539828,"z":-0.05627425245785721}},{"position":{"x":688.6213476340871,"y":754.5533541990985,"z":1112.6367386779298},"direction":{"x":0.9405689397848406,"y":-0.3069626921963675,"z":-0.14527207271729606}},{"position":{"x":729.1723624657143,"y":741.5692356493809,"z":1092.7403330498237},"direction":{"x":0.9037258069076205,"y":-0.28786813967394304,"z":-0.3168778946058461}},{"position":{"x":755.0349837365058,"y":732.7208048350817,"z":1067.7492299843746},"direction":{"x":0.7444060592317889,"y":-0.24546564089523087,"z":-0.620972010737112}},{"position":{"x":767.6277748080462,"y":727.4115462001893,"z":1046.8152053886033},"direction":{"x":0.665269936277154,"y":-0.2338153832701805,"z":-0.7090460340711386}},{"position":{"x":776.5545025294872,"y":722.8866236641747,"z":1023.9058490416799},"direction":{"x":0.5037116428616157,"y":-0.21237034539569938,"z":-0.8373609838308467}},{"position":{"x":791.359593593744,"y":714.6498769285479,"z":978.8616384614932},"direction":{"x":0.30763825588066096,"y":-0.17115317892211687,"z":-0.9359835964714119}},{"position":{"x":799.0505499907605,"y":710.3710474554949,"z":955.4620485497079},"direction":{"x":0.30763825588066096,"y":-0.17115317892211687,"z":-0.9359835964714119}},{"position":{"x":805.804256115781,"y":706.1907763934273,"z":931.7573488590452},"direction":{"x":0.30763825588066096,"y":-0.17115317892211687,"z":-0.9359835964714119}},{"position":{"x":812.5579622408014,"y":702.0105053313597,"z":908.0526491683826},"direction":{"x":0.27014824500082046,"y":-0.16721084248270413,"z":-0.9481879876265049}},{"position":{"x":819.3116683658219,"y":697.8302342692921,"z":884.3479494777199},"direction":{"x":0.27014824500082046,"y":-0.16721084248270413,"z":-0.9481879876265049}},{"position":{"x":841.0883695632707,"y":694.8743362541062,"z":872.429981870747},"direction":{"x":0.27014824500082046,"y":-0.16721084248270413,"z":-0.9481879876265049}},{"position":{"x":862.8650707607195,"y":691.9184382389203,"z":860.5120142637742},"direction":{"x":0.27014824500082046,"y":-0.16721084248270413,"z":-0.9481879876265049}},{"position":{"x":884.6417719581683,"y":688.9625402237344,"z":848.5940466568013},"direction":{"x":0.27014824500082046,"y":-0.16721084248270413,"z":-0.9481879876265049}},{"position":{"x":906.4184731556171,"y":686.0066422085486,"z":836.6760790498284},"direction":{"x":0.27014824500082046,"y":-0.16721084248270413,"z":-0.9481879876265049}},{"position":{"x":912.4239399639179,"y":682.1718419401737,"z":812.7130100619866},"direction":{"x":0.27014824500082046,"y":-0.16721084248270413,"z":-0.9481879876265049}},{"position":{"x":917.8322533618491,"y":679.2783412991969,"z":788.4771316947719},"direction":{"x":0.24021867233202804,"y":-0.1533920107349944,"z":-0.9585227595136766}},{"position":{"x":923.4064594516974,"y":677.3303179977894,"z":764.1844695992938},"direction":{"x":0.21633253591724855,"y":-0.11574002563907261,"z":-0.9694351346885872}},{"position":{"x":929.0393392082143,"y":676.0808387660225,"z":739.8593906210458},"direction":{"x":0.22296824359393025,"y":-0.07792093205630124,"z":-0.9717064838191186}},{"position":{"x":934.0914587921991,"y":675.4309119968806,"z":715.3838174325815},"direction":{"x":0.22531519026067795,"y":-0.049979169270678137,"z":-0.9730031591299215}},{"position":{"x":938.6050199194582,"y":675.0809234301018,"z":690.7971284738458},"direction":{"x":0.20208478335939023,"y":-0.025997070765676335,"z":-0.9790229275385703}},{"position":{"x":944.0987357945706,"y":675.3024192824561,"z":651.9389164485381},"direction":{"x":0.15887946678711998,"y":-0.001999998666666727,"z":-0.9872959612187087}},{"position":{"x":950.3729322100509,"y":675.8943050769718,"z":603.0181667030929},"direction":{"x":0.12720114374735067,"y":0.0119997120020738,"z":-0.9918043536611609}},{"position":{"x":953.4041338029648,"y":676.1942978770237,"z":578.2044241151028},"direction":{"x":0.12720114374735067,"y":0.0119997120020738,"z":-0.9918043536611609}},{"position":{"x":937.8432144647344,"y":676.4417771659307,"z":558.6392370894021},"direction":{"x":0.12124806371655732,"y":0.011999712002073799,"z":-0.9925497035196036}},{"position":{"x":922.4394543703274,"y":676.5831970136784,"z":538.9490320274781},"direction":{"x":0.1133009248390714,"y":0.01399954267114872,"z":-0.9934620844479218}},{"position":{"x":907.075135967834,"y":676.6892623944614,"z":519.2278132476512},"direction":{"x":0.12125291390425043,"y":0.00799991466693994,"z":-0.9925894076782454}},{"position":{"x":885.2270751990303,"y":676.840087365938,"z":491.18424014214946},"direction":{"x":0.12323957426112495,"y":0.00599996400006501,"z":-0.9923588099915952}},{"position":{"x":861.9250087417303,"y":676.8448602543331,"z":460.3814836293431},"direction":{"x":0.12720928509817628,"y":0.003999989333342073,"z":-0.9918678328639076}},{"position":{"x":867.4079008710931,"y":676.7682103054309,"z":422.4507883579832},"direction":{"x":0.1430630692551326,"y":-0.001999998666666727,"z":-0.9897115530398918}},{"position":{"x":870.9844776024714,"y":676.7182103387643,"z":397.7079995319859},"direction":{"x":0.1430630692551326,"y":-0.001999998666666727,"z":-0.9897115530398918}},{"position":{"x":874.7184237099771,"y":676.6660103735651,"z":371.8765279980134},"direction":{"x":0.1430630692551326,"y":-0.001999998666666727,"z":-0.9897115530398918}},{"position":{"x":881.0704239849582,"y":676.5772104327643,"z":327.9333350426735},"direction":{"x":0.1430630692551326,"y":-0.001999998666666727,"z":-0.9897115530398918}},{"position":{"x":885.6913611217391,"y":676.5126104758332,"z":295.96565188059105},"direction":{"x":0.1430630692551326,"y":-0.001999998666666727,"z":-0.9897115530398918}},{"position":{"x":870.7245540259554,"y":676.477255160344,"z":275.94083139801825},"direction":{"x":0.1430630692551326,"y":-0.001999998666666727,"z":-0.9897115530398918}},{"position":{"x":855.7577469301717,"y":676.4418998448549,"z":255.91601091544544},"direction":{"x":0.1430630692551326,"y":-0.001999998666666727,"z":-0.9897115530398918}},{"position":{"x":840.790939834388,"y":676.4065445293658,"z":235.89119043287263},"direction":{"x":0.1430630692551326,"y":-0.001999998666666727,"z":-0.9897115530398918}},{"position":{"x":825.8241327386044,"y":676.3711892138766,"z":215.86636995029983},"direction":{"x":0.1430630692551326,"y":-0.001999998666666727,"z":-0.9897115530398918}},{"position":{"x":810.8573256428207,"y":676.3358338983875,"z":195.84154946772702},"direction":{"x":0.1430630692551326,"y":-0.001999998666666727,"z":-0.9897115530398918}},{"position":{"x":782.1659564397575,"y":676.2680577585938,"z":157.45396860203817},"direction":{"x":0.1430630692551326,"y":-0.001999998666666727,"z":-0.9897115530398918}},{"position":{"x":773.5146517745495,"y":676.1891724991742,"z":116.35090144267407},"direction":{"x":0.1430630692551326,"y":-0.001999998666666727,"z":-0.9897115530398918}},{"position":{"x":777.0912285059278,"y":676.1391725325076,"z":91.60811261667678},"direction":{"x":0.1430630692551326,"y":-0.001999998666666727,"z":-0.9897115530398918}},{"position":{"x":782.3027619463769,"y":676.069772578772,"z":57.30212402543893},"direction":{"x":0.1430630692551326,"y":-0.001999998666666727,"z":-0.9897115530398918}},{"position":{"x":789.727617803826,"y":675.8203240754626,"z":16.396257502002122},"direction":{"x":0.17858943733612787,"y":-0.005999964000064596,"z":-0.9839053883905523}},{"position":{"x":794.7811927960629,"y":675.5703282421084,"z":-8.086366578785125},"direction":{"x":0.17858943733612787,"y":-0.005999964000064596,"z":-0.9839053883905523}},{"position":{"x":800.5180846021964,"y":675.2703354420565,"z":-32.41737717688062},"direction":{"x":0.20214299968947527,"y":-0.009999833334166458,"z":-0.9793049632314899}},{"position":{"x":806.3522542961185,"y":674.9703426420047,"z":-56.72524562111978},"direction":{"x":0.22947567224534093,"y":-0.01199971200207339,"z":-0.9732404239238198}},{"position":{"x":812.1864239900407,"y":674.6703498419528,"z":-81.03311406535894},"direction":{"x":0.23336678775688435,"y":-0.011999712002073386,"z":-0.9723147377695663}},{"position":{"x":818.0205936839628,"y":674.3703570419009,"z":-105.3409825095981},"direction":{"x":0.23336678775688435,"y":-0.011999712002073386,"z":-0.9723147377695663}},{"position":{"x":823.854763377885,"y":674.070364241849,"z":-129.64885095383727},"direction":{"x":0.23336678775688435,"y":-0.011999712002073386,"z":-0.9723147377695663}},{"position":{"x":829.3965152284293,"y":673.6703813082972,"z":-154.02361249277044},"direction":{"x":0.23336678775688435,"y":-0.011999712002073386,"z":-0.9723147377695663}},{"position":{"x":834.6940663035283,"y":673.2204056079036,"z":-178.45174124787104},"direction":{"x":0.2216700740217739,"y":-0.015999317342071207,"z":-0.9749904615573267}},{"position":{"x":839.8447583762348,"y":672.7204389405703,"z":-202.91028585918662},"direction":{"x":0.21190204300395885,"y":-0.01799902801574608,"z":-0.9771251502040241}},{"position":{"x":844.1117957322404,"y":672.220472273237,"z":-227.53836791065805},"direction":{"x":0.20602768290826207,"y":-0.01999866669333288,"z":-0.9783417844526227}},{"position":{"x":846.7949757238913,"y":671.7205056059037,"z":-252.38893286326947},"direction":{"x":0.17068149424021975,"y":-0.019998666693332872,"z":-0.9851232820588572}},{"position":{"x":849.3290049233503,"y":671.2205389385704,"z":-277.2551494904093},"direction":{"x":0.10732719966603958,"y":-0.019998666693332875,"z":-0.9940225981044571}},{"position":{"x":851.6640254232008,"y":670.7205722712371,"z":-302.14084242022005},"direction":{"x":0.10136116797836343,"y":-0.01999866669333288,"z":-0.9946486650855926}},{"position":{"x":834.6991183201067,"y":670.3670424503985,"z":-320.5002254068339},"direction":{"x":0.09340081999401766,"y":-0.019998666693332875,"z":-0.9954277171924308}},{"position":{"x":817.1554965142717,"y":670.0135126295598,"z":-338.30742481043495},"direction":{"x":0.039537698154604936,"y":-0.019998666693332875,"z":-0.9990179296464727}},{"position":{"x":817.344354977332,"y":669.5135459622265,"z":-363.3017114738404},"direction":{"x":0.007554338522412978,"y":-0.01999866669333287,"z":-0.9997714665362168}},{"position":{"x":817.5332134403924,"y":669.0135792948932,"z":-388.2959981372458},"direction":{"x":0.007554338522412978,"y":-0.01999866669333287,"z":-0.9997714665362168}},{"position":{"x":817.8720333241984,"y":668.51361262756,"z":-413.2887017608615},"direction":{"x":0.007554338522412978,"y":-0.01999866669333287,"z":-0.9997714665362168}},{"position":{"x":819.1102658354897,"y":668.1136296940082,"z":-438.2548146721829},"direction":{"x":0.013552795352237027,"y":-0.019998666693332875,"z":-0.999708144944628}},{"position":{"x":820.4982718373523,"y":667.7136467604564,"z":-463.21304884432857},"direction":{"x":0.04952930045165593,"y":-0.01599931734207121,"z":-0.9986445164528553}},{"position":{"x":821.8862778392148,"y":667.3136638269046,"z":-488.17128301647426},"direction":{"x":0.055520240074501855,"y":-0.01599931734207121,"z":-0.9983293668858276}},{"position":{"x":823.2742838410774,"y":666.9136808933529,"z":-513.12951718862},"direction":{"x":0.055520240074501855,"y":-0.01599931734207121,"z":-0.9983293668858276}},{"position":{"x":825.8582264300902,"y":666.5136979598011,"z":-537.9924062876275},"direction":{"x":0.055520240074501855,"y":-0.01599931734207121,"z":-0.9983293668858276}},{"position":{"x":828.9388768799356,"y":666.1137150262493,"z":-562.7986475679734},"direction":{"x":0.10335770356051208,"y":-0.01599931734207121,"z":-0.9945155639603059}},{"position":{"x":833.9664984139456,"y":665.4609428787107,"z":-603.2824333363889},"direction":{"x":0.12322601799381602,"y":-0.015999317342071207,"z":-0.9922496512138341}},{"position":{"x":837.047148863791,"y":665.060959945159,"z":-628.0886746167347},"direction":{"x":0.12322601799381602,"y":-0.015999317342071207,"z":-0.9922496512138341}},{"position":{"x":840.1276945631757,"y":664.6109842447653,"z":-652.8940724176783},"direction":{"x":0.12322601799381602,"y":-0.015999317342071207,"z":-0.9922496512138341}},{"position":{"x":843.2082402625605,"y":664.1610085443716,"z":-677.699470218622},"direction":{"x":0.12322182797539177,"y":-0.017999028015746075,"z":-0.9922159120377436}},{"position":{"x":827.8436081470925,"y":663.8428276752541,"z":-697.4181628956444},"direction":{"x":0.12322182797539177,"y":-0.017999028015746075,"z":-0.9922159120377436}},{"position":{"x":812.4789760316245,"y":663.5246468061365,"z":-717.1368555726668},"direction":{"x":0.12322182797539177,"y":-0.017999028015746075,"z":-0.9922159120377436}},{"position":{"x":797.1143439161565,"y":663.206465937019,"z":-736.8555482496893},"direction":{"x":0.12322182797539177,"y":-0.017999028015746075,"z":-0.9922159120377436}},{"position":{"x":766.9074771769174,"y":662.5809223483292,"z":-775.6224980530092},"direction":{"x":0.12322182797539177,"y":-0.017999028015746075,"z":-0.9922159120377436}},{"position":{"x":759.8320010488935,"y":661.9206290934678,"z":-813.4619517122893},"direction":{"x":0.12322182797539177,"y":-0.017999028015746075,"z":-0.9922159120377436}},{"position":{"x":762.9125467482783,"y":661.4706533930741,"z":-838.267349513233},"direction":{"x":0.12322182797539177,"y":-0.017999028015746075,"z":-0.9922159120377436}},{"position":{"x":747.5479146328103,"y":661.1524725239566,"z":-857.9860421902554},"direction":{"x":0.12322182797539177,"y":-0.017999028015746075,"z":-0.9922159120377436}},{"position":{"x":750.628460332195,"y":660.7024968235629,"z":-882.791439991199},"direction":{"x":0.12322182797539177,"y":-0.017999028015746075,"z":-0.9922159120377436}},{"position":{"x":753.7090060315797,"y":660.2525211231692,"z":-907.5968377921427},"direction":{"x":0.12322182797539177,"y":-0.017999028015746075,"z":-0.9922159120377436}},{"position":{"x":756.7895517309645,"y":659.8025454227756,"z":-932.4022355930863},"direction":{"x":0.12322182797539177,"y":-0.017999028015746075,"z":-0.9922159120377436}},{"position":{"x":763.904741723004,"y":658.7651222877186,"z":-981.2496165807136},"direction":{"x":0.13709511109110284,"y":-0.019998666693332872,"z":-0.9903559884432502}},{"position":{"x":768.2208453693293,"y":658.2151666533116,"z":-1005.8680811574162},"direction":{"x":0.1509398663677571,"y":-0.021998225376279577,"z":-0.9882981507729224}},{"position":{"x":776.6802099448439,"y":657.0872668426221,"z":-1054.1191391043294},"direction":{"x":0.1726441458530078,"y":-0.021998225376279573,"z":-0.9847385830681054}},{"position":{"x":780.9961150198864,"y":656.4873244409632,"z":-1078.736471057608},"direction":{"x":0.17263620300169813,"y":-0.02399769606635409,"z":-0.9846932781311465}},{"position":{"x":789.4552889669695,"y":655.3114373337119,"z":-1126.9864416860341},"direction":{"x":0.17263620300169813,"y":-0.02399769606635409,"z":-0.9846932781311465}},{"position":{"x":793.771194042012,"y":654.711494932053,"z":-1151.6037736393127},"direction":{"x":0.17263620300169813,"y":-0.02399769606635409,"z":-0.9846932781311465}},{"position":{"x":802.1181544570798,"y":653.5512063272538,"z":-1199.2136936365869},"direction":{"x":0.17263620300169813,"y":-0.02399769606635409,"z":-0.9846932781311465}},{"position":{"x":806.2367788895885,"y":652.9012795581119,"z":-1223.8635319317705},"direction":{"x":0.17263620300169813,"y":-0.02399769606635409,"z":-0.9846932781311465}},{"position":{"x":812.9578575438923,"y":651.4850791258821,"z":-1272.173543723791},"direction":{"x":0.15091722230047827,"y":-0.027996341476750196,"z":-0.9881498858356587}},{"position":{"x":815.5409680770401,"y":650.7351916208197,"z":-1297.028426718955},"direction":{"x":0.12516995053759905,"y":-0.02999550020249546,"z":-0.9916817803358178}},{"position":{"x":819.2793844694493,"y":649.3014067111181,"z":-1344.6598402560323},"direction":{"x":0.08342117630158769,"y":-0.029995500202495466,"z":-0.996062838033857}},{"position":{"x":820.7666406997695,"y":648.5015432374612,"z":-1369.6027407956424},"direction":{"x":0.07345654290683415,"y":-0.02999550020249547,"z":-0.9968472331665363}},{"position":{"x":823.2292825411329,"y":647.2933528619393,"z":-1403.4897660483111},"direction":{"x":0.05949024921280876,"y":-0.03199453894627993,"z":-0.997716021584405}},{"position":{"x":827.3645869232214,"y":645.4954356336202,"z":-1450.5994505753495},"direction":{"x":0.0873809695119622,"y":-0.037990855326936836,"z":-0.995450280565874}},{"position":{"x":831.1612900484511,"y":643.844732969693,"z":-1493.8517652651951},"direction":{"x":0.0873809695119622,"y":-0.037990855326936836,"z":-0.995450280565874}},{"position":{"x":831.1612900484511,"y":643.844732969693,"z":-1493.8517652651951},"direction":{"x":0.0873809695119622,"y":-0.037990855326936836,"z":-0.995450280565874}},{"position":{"x":831.1612900484511,"y":643.844732969693,"z":-1493.8517652651951},"direction":{"x":-0.34138049164249606,"y":-0.017999028015746082,"z":-0.9397528371419881}},{"position":{"x":831.1612900484511,"y":643.844732969693,"z":-1493.8517652651951},"direction":{"x":-0.8078183172882419,"y":-0.0019999986666667377,"z":-0.58942816887126}},{"position":{"x":831.1612900484511,"y":643.844732969693,"z":-1493.8517652651951},"direction":{"x":-0.9076757713951092,"y":-0.025997070765676342,"z":-0.418866143694973}},{"position":{"x":831.1612900484511,"y":643.844732969693,"z":-1493.8517652651951},"direction":{"x":-0.9392578953300267,"y":-0.03799085532693684,"z":-0.34110306502835264}},{"position":{"x":831.1612900484511,"y":643.844732969693,"z":-1493.8517652651951},"direction":{"x":-0.9650853767161892,"y":-0.03799085532693685,"z":-0.2591657974349611}},{"position":{"x":831.1612900484511,"y":643.844732969693,"z":-1493.8517652651951},"direction":{"x":-0.9884594939690472,"y":-0.04798157012324973,"z":-0.14368576029294924}},{"position":{"x":831.1612900484511,"y":643.844732969693,"z":-1493.8517652651951},"direction":{"x":-0.9984122658930871,"y":-0.05597073525575528,"z":-0.0063422479580760305}},{"position":{"x":806.2503071200391,"y":641.7472016985645,"z":-1494.0598328191402},"direction":{"x":-0.9981938988683495,"y":-0.0599640064794444,"z":0.003641179607852818}},{"position":{"x":781.4070497124632,"y":639.1021614780069,"z":-1494.9633391071966},"direction":{"x":-0.9964393171364794,"y":-0.08390125084514059,"z":-0.00832270215780573}},{"position":{"x":756.5857334010942,"y":636.2583305679675,"z":-1495.8660474355465},"direction":{"x":-0.9937302963030363,"y":-0.10580160882230198,"z":-0.0361402515222603}},{"position":{"x":731.7644170897253,"y":633.4144996579281,"z":-1496.7687557638965},"direction":{"x":-0.9928526524547594,"y":-0.11375323640157575,"z":-0.03610833313399986}},{"position":{"x":713.5706145021439,"y":631.4036075368913,"z":-1479.7410765244442},"direction":{"x":-0.9928526524547594,"y":-0.11375323640157575,"z":-0.03610833313399986}},{"position":{"x":695.3768119145626,"y":629.3927154158545,"z":-1462.713397284992},"direction":{"x":-0.9928526524547594,"y":-0.11375323640157575,"z":-0.03610833313399986}},{"position":{"x":670.5554956031937,"y":626.5488845058151,"z":-1463.616105613342},"direction":{"x":-0.9928526524547594,"y":-0.11375323640157575,"z":-0.03610833313399986}},{"position":{"x":645.7764436682588,"y":623.4568226671649,"z":-1464.815163073084},"direction":{"x":-0.9928526524547594,"y":-0.11375323640157575,"z":-0.03610833313399986}},{"position":{"x":621.027881288721,"y":620.1663975217439,"z":-1466.1119909369531},"direction":{"x":-0.9911620773973958,"y":-0.12368247354600294,"z":-0.04796229838968559}},{"position":{"x":596.3134149497986,"y":616.6283158659879,"z":-1467.407032163892},"direction":{"x":-0.9899424951815119,"y":-0.13161700581684316,"z":-0.05187311455476275}},{"position":{"x":571.6088885239999,"y":612.9418085469898,"z":-1468.4539504338582},"direction":{"x":-0.9885786535568991,"y":-0.14152326623023756,"z":-0.05180164907755326}},{"position":{"x":546.9461376031421,"y":608.9095000162802,"z":-1469.1533822953668},"direction":{"x":-0.9881810570319467,"y":-0.14746029275992278,"z":-0.04187673079864895}},{"position":{"x":508.3242018452285,"y":602.7191693213385,"z":-1470.0231637232766},"direction":{"x":-0.9862395727331917,"y":-0.16326583067337883,"z":-0.02599564789697196}},{"position":{"x":483.6329000521713,"y":598.8349684846584,"z":-1470.5257566246419},"direction":{"x":-0.9876520717222887,"y":-0.15536803346720568,"z":-0.020103716054608256}},{"position":{"x":458.9415982591141,"y":594.9507676479782,"z":-1471.028349526007},"direction":{"x":-0.9876520717222887,"y":-0.15536803346720568,"z":-0.020103716054608256}},{"position":{"x":434.25029646605685,"y":591.066566811298,"z":-1471.5309424273723},"direction":{"x":-0.9876520717222887,"y":-0.15536803346720568,"z":-0.020103716054608256}},{"position":{"x":409.55899467299963,"y":587.1823659746178,"z":-1472.0335353287376},"direction":{"x":-0.9876520717222887,"y":-0.15536803346720568,"z":-0.020103716054608256}},{"position":{"x":384.8676928799424,"y":583.2981651379376,"z":-1472.5361282301028},"direction":{"x":-0.9876520717222887,"y":-0.15536803346720568,"z":-0.020103716054608256}},{"position":{"x":360.2209846156878,"y":579.11789407587,"z":-1472.7912861897396},"direction":{"x":-0.9876520717222887,"y":-0.15536803346720568,"z":-0.020103716054608256}},{"position":{"x":335.64371073067304,"y":574.5438064391707,"z":-1472.6033216378546},"direction":{"x":-0.9858683305701825,"y":-0.16721084248270413,"z":-0.010206318385470372}},{"position":{"x":311.16138885008303,"y":569.5280798065342,"z":-1471.9262679606295},"direction":{"x":-0.9830909554005907,"y":-0.1829635054679744,"z":0.007518582075396685}},{"position":{"x":287.1025203823362,"y":562.9562240681609,"z":-1470.1995484681622},"direction":{"x":-0.9792928752236011,"y":-0.20062906530545926,"z":0.02708214708900681}},{"position":{"x":263.4322938703703,"y":555.2821567632517,"z":-1467.7852022063448},"direction":{"x":-0.9623547387098731,"y":-0.2628742295349337,"z":0.06906877969869553}},{"position":{"x":219.49109247410487,"y":539.2767871439222,"z":-1461.5137739169534},"direction":{"x":-0.939920417120623,"y":-0.3221502968833602,"z":0.11299909600415917}},{"position":{"x":197.1637812219678,"y":529.2657178642013,"z":-1456.3883798709487},"direction":{"x":-0.9229987254054871,"y":-0.35414532112635183,"z":0.15051393431891794}},{"position":{"x":176.10829450630553,"y":518.1222347924534,"z":-1448.8062123578798},"direction":{"x":-0.8930924500854825,"y":-0.40044277118883825,"z":0.20501576184019066}},{"position":{"x":155.9031276138192,"y":506.444914763799,"z":-1439.840085669328},"direction":{"x":-0.8422194686264912,"y":-0.44573932286991635,"z":0.30328670052275514}},{"position":{"x":137.31040204957318,"y":493.84974683510194,"z":-1428.8549911799503},"direction":{"x":-0.8082066756994526,"y":-0.46709280114617513,"z":0.35864506754207537}},{"position":{"x":119.60143197490883,"y":481.2114133049808,"z":-1416.539760590308},"direction":{"x":-0.7437090225698408,"y":-0.5038067171478813,"z":0.4394037795751041}},{"position":{"x":102.80464794307247,"y":468.61624537628376,"z":-1402.9666330569883},"direction":{"x":-0.7083588029865739,"y":-0.5055333412048468,"z":0.4926092235856856}},{"position":{"x":88.91483813537737,"y":456.8505981720048,"z":-1385.8306262476262},"direction":{"x":-0.6718713612734554,"y":-0.5038067171478813,"z":0.542925101332798}},{"position":{"x":79.75935311011003,"y":446.83952889228385,"z":-1364.8316837545212},"direction":{"x":-0.5555923923078043,"y":-0.47062588817115814,"z":0.6854402723744787}},{"position":{"x":79.75935311011003,"y":446.83952889228385,"z":-1364.8316837545212},"direction":{"x":-0.19400236832013926,"y":-0.30505863644344333,"z":0.9323638288873308}},{"position":{"x":79.75935311011003,"y":446.83952889228385,"z":-1364.8316837545212},"direction":{"x":0.12639993135631575,"y":-0.04198765308904778,"z":0.9910903562951223}},{"position":{"x":79.75935311011003,"y":446.83952889228385,"z":-1364.8316837545212},"direction":{"x":0.21855417461561344,"y":0.06794760678144594,"z":0.9734563141152057}},{"position":{"x":79.75935311011003,"y":446.83952889228385,"z":-1364.8316837545212},"direction":{"x":0.2588296590814456,"y":0.08788646530288537,"z":0.9619164084245302}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":0.29663162651740776,"y":0.10381262402830278,"z":0.9493327220958918}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":0.30395295813773787,"y":0.11176599215128524,"z":0.946108324790432}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":0.30388397869122774,"y":0.11375323640157604,"z":0.9458936138398211}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":0.29630718626105146,"y":0.11375323640157604,"z":0.9482943913037902}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":0.2699933218519698,"y":0.10182322398394557,"z":0.9574631257718773}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":0.2662152732571657,"y":0.09983341664682821,"z":0.958729741483612}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":0.2642972826221366,"y":0.09983341664682822,"z":0.9592602542163287}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":0.24151629594812618,"y":0.08589402986201561,"z":0.9665878617205785}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":0.2415574564066473,"y":0.08390125084514087,"z":0.9667525926321436}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":0.23012141628739116,"y":0.07393248115597784,"z":0.9703494844621738}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":0.21089261103432683,"y":0.05796748680253507,"z":0.9757889510979934}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":0.2070114020507083,"y":0.05597073525575554,"z":0.9767361753390371}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":0.2070114020507083,"y":0.05597073525575554,"z":0.9767361753390371}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":0.19919097166634805,"y":0.05597073525575554,"z":0.9783609934996114}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":0.1913788649026592,"y":0.05397375982610964,"z":0.980031103240506}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":0.17572835177111099,"y":0.04798157012325001,"z":0.9832686892769018}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":0.16591759002744502,"y":0.04398580404090526,"z":0.9851581610900657}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":0.152135138282365,"y":0.03998933418663425,"z":0.9875503799053067}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":0.07875398643734063,"y":0.019998666693333157,"z":0.9966934648881351}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":0.044830649884702915,"y":0.01599931734207149,"z":0.9988664748981733}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.009148374324465535,"y":0.003999989333341945,"z":0.9999501524238861}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}}]},{"animationId":10,"prevCheckpointId":20,"nextCheckpointId":21,"points":[{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":-0.0151479654584476,"y":0.00199999866666701,"z":0.99988326276011}},{"position":{"x":55.95751585456172,"y":446.83952889228385,"z":-1357.1849495980075},"direction":{"x":0.028842749204728853,"y":-0.017999028015746214,"z":0.9994218983036152}},{"position":{"x":56.67858458467994,"y":446.3895531918902,"z":-1332.199402140417},"direction":{"x":0.028842749204728853,"y":-0.017999028015746214,"z":0.9994218983036152}},{"position":{"x":57.39962591140033,"y":445.8895865245569,"z":-1307.21480423017},"direction":{"x":0.028842749204728853,"y":-0.017999028015746214,"z":0.9994218983036152}},{"position":{"x":58.12039466532611,"y":445.0397502817581,"z":-1282.239651162295},"direction":{"x":0.028841653068815438,"y":-0.019998666693333004,"z":0.9993839164098786}},{"position":{"x":58.73921252032339,"y":442.8425886491859,"z":-1257.344078358628},"direction":{"x":0.02883075015703123,"y":-0.03399344971195138,"z":0.9990061227150033}},{"position":{"x":59.355966762506,"y":439.84978346696295,"z":-1232.5315264675787},"direction":{"x":0.024752714199891154,"y":-0.08788646530288523,"z":0.9958229121466846}},{"position":{"x":60.020973979322946,"y":436.4602548450066,"z":-1207.7712990630794},"direction":{"x":0.024670169687304448,"y":-0.11971220728891928,"z":0.9925020756419678}},{"position":{"x":60.68503793385577,"y":432.8232082648748,"z":-1183.0461921626381},"direction":{"x":0.02660028867267783,"y":-0.13558114487825274,"z":0.9904090961799739}},{"position":{"x":61.50067569429957,"y":426.9013899583214,"z":-1143.4706356566153},"direction":{"x":0.026562558181312933,"y":-0.14548186320527232,"z":0.9890042760176454}},{"position":{"x":61.86720551577365,"y":422.91843479296523,"z":-1118.792675367306},"direction":{"x":0.016661412950387113,"y":-0.14943813247359916,"z":0.9886306903395725}},{"position":{"x":62.23274205665199,"y":418.54111537010726,"z":-1094.1815913256073},"direction":{"x":0.014661192858963187,"y":-0.15931820661424595,"z":0.987118411572377}},{"position":{"x":63.33594116146326,"y":414.11457713778196,"z":-1069.6013408994438},"direction":{"x":0.01462146163513387,"y":-0.17509277691431827,"z":0.9844433616679455}},{"position":{"x":65.91731873184526,"y":410.0329313709475,"z":-1045.072242716404},"direction":{"x":0.0441279641924507,"y":-0.17706152929301172,"z":0.9832100170465361}},{"position":{"x":69.43860437834932,"y":406.39588479081567,"z":-1020.5901586635771},"direction":{"x":0.10325510281527996,"y":-0.163265830673379,"z":0.9811639273215957}},{"position":{"x":73.65103610990742,"y":403.05590122716205,"z":-996.1750008983386},"direction":{"x":0.1408514258601629,"y":-0.1454818632052723,"z":0.9792833621130717}},{"position":{"x":80.84775104759582,"y":397.9989611474565,"z":-958.001754747161},"direction":{"x":0.172448473647911,"y":-0.13161700581684338,"z":0.9761856830113393}},{"position":{"x":86.32641385904985,"y":394.7581075819641,"z":-933.8257103650578},"direction":{"x":0.19009031294403078,"y":-0.1276507608861487,"z":0.9734325637505805}},{"position":{"x":93.19728867632516,"y":391.5172540164717,"z":-910.0079030055974},"direction":{"x":0.21914651245816102,"y":-0.12963414261969478,"z":0.96704177528413}},{"position":{"x":100.78340332042194,"y":388.3755823027285,"z":-886.3947549001523},"direction":{"x":0.27483499269101236,"y":-0.12963414261969478,"z":0.9527122943784172}},{"position":{"x":108.5561931538749,"y":385.18431328057477,"z":-862.8490644190215},"direction":{"x":0.30344458576387107,"y":-0.1256668685497292,"z":0.9445259242178046}},{"position":{"x":116.4168867474498,"y":381.84432971692115,"z":-839.3532348737074},"direction":{"x":0.31091159333811813,"y":-0.12765076088614866,"z":0.9418276192452311}},{"position":{"x":124.27758034102469,"y":378.50434615326753,"z":-815.8574053283933},"direction":{"x":0.3144277437429958,"y":-0.13359934254614403,"z":0.9398331818125636}},{"position":{"x":132.1382739345996,"y":375.1643625896139,"z":-792.3615757830792},"direction":{"x":0.3144277437429958,"y":-0.13359934254614403,"z":0.9398331818125636}},{"position":{"x":139.9989675281745,"y":371.8243790259603,"z":-768.865746237765},"direction":{"x":0.3144277437429958,"y":-0.13359934254614403,"z":0.9398331818125636}},{"position":{"x":147.84170076817745,"y":368.0884257141203,"z":-745.4236006837015},"direction":{"x":0.3144277437429958,"y":-0.13359934254614403,"z":0.9398331818125636}},{"position":{"x":154.9447547421554,"y":363.661887481795,"z":-721.8661733300935},"direction":{"x":0.3137093296001177,"y":-0.14943813247359916,"z":0.9376858221625448}},{"position":{"x":161.50548504741755,"y":358.79320034216494,"z":-698.2388014195737},"direction":{"x":0.2841221589591181,"y":-0.17706152929301175,"z":0.9422970941443201}},{"position":{"x":167.96383417814084,"y":353.77747370952846,"z":-674.6139794551156},"direction":{"x":0.2624292122104861,"y":-0.19474748558520422,"z":0.945094876420788}},{"position":{"x":174.36961772080792,"y":348.66382073596475,"z":-650.9958404414156},"direction":{"x":0.2583339652289314,"y":-0.20062906530545946,"z":0.9449928785783284}},{"position":{"x":180.5836426419325,"y":343.501235175939,"z":-627.3371506083953},"direction":{"x":0.25623134170668277,"y":-0.2045461189425492,"z":0.9447255605480005}},{"position":{"x":186.50826937570153,"y":338.24084658964284,"z":-603.6258218816732},"direction":{"x":0.24856099684498348,"y":-0.20650342240103153,"z":0.9463475933208101}},{"position":{"x":191.90038165566207,"y":332.7851060126211,"z":-579.8317045432104},"direction":{"x":0.23698506935076175,"y":-0.21041554345184624,"z":0.9484531490688821}},{"position":{"x":197.1972745832318,"y":327.32936543559936,"z":-556.0162091658285},"direction":{"x":0.2156844911984213,"y":-0.2182296230808694,"z":0.9517646935385133}},{"position":{"x":202.31896100013867,"y":322.21571246203564,"z":-532.0867528094288},"direction":{"x":0.21187571710278905,"y":-0.2182296230808694,"z":0.9526198150952776}},{"position":{"x":207.17418417869456,"y":317.6416248253363,"z":-507.99309119110677},"direction":{"x":0.20486745667627487,"y":-0.20454611894254923,"z":0.957178254255985}},{"position":{"x":211.89162134125664,"y":313.2643054024783,"z":-483.8355900519668},"direction":{"x":0.19420892714223512,"y":-0.18296350546797466,"z":0.9637464647328844}},{"position":{"x":216.37347593237803,"y":309.0840343404107,"z":-459.59846329833357},"direction":{"x":0.18869748650248325,"y":-0.17509277691431832,"z":0.9663000455655988}},{"position":{"x":220.4300519578961,"y":305.34808102857073,"z":-435.21431181010365},"direction":{"x":0.1792741836448561,"y":-0.1672108424827043,"z":0.9694850701453297}},{"position":{"x":224.21262620700125,"y":302.5539312247886,"z":-410.6605980599592},"direction":{"x":0.1622630410207222,"y":-0.1494381324735992,"z":0.9753660595291958}},{"position":{"x":227.75737312090877,"y":300.3069674948383,"z":-386.01539724291104},"direction":{"x":0.15130296996420622,"y":-0.11176599215128515,"z":0.9821485500057767}},{"position":{"x":230.96232831209338,"y":298.6082773253022,"z":-361.2799426497482},"direction":{"x":0.14178987655630051,"y":-0.089878549198011,"z":0.9858080326819263}},{"position":{"x":233.87272195863412,"y":297.25893332964944,"z":-336.4866193629524},"direction":{"x":0.12819820764738488,"y":-0.06794760678144583,"z":0.9894181837265132}},{"position":{"x":236.78372157716288,"y":296.0094540978825,"z":-311.68813386745677},"direction":{"x":0.1164157458616292,"y":-0.05397375982610949,"z":0.9917329314718324}},{"position":{"x":239.69472119569164,"y":294.75997486611556,"z":-286.88964837196113},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":242.6057208142204,"y":293.5104956343486,"z":-262.0911628764655},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":245.51672043274917,"y":292.2610164025817,"z":-237.29267738096982},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":248.42772005127793,"y":291.01153717081473,"z":-212.49419188547415},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":251.3387196698067,"y":289.7620579390478,"z":-187.69570638997848},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":254.24971928833546,"y":288.51257870728085,"z":-162.8972208944828},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":257.16071890686425,"y":287.2630994755139,"z":-138.09873539898715},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":260.071718525393,"y":286.01362024374697,"z":-113.30024990349148},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":262.9827181439218,"y":284.76414101198003,"z":-88.50176440799581},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":265.89371776245054,"y":283.5146617802131,"z":-63.703278912500146},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":268.8047173809793,"y":282.26518254844615,"z":-38.904793417004484},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":271.71571699950806,"y":281.0157033166792,"z":-14.106307921508822},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":276.19574541238046,"y":279.0927547790085,"z":24.058561255689476},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":279.1067450309092,"y":277.84327554724155,"z":48.85704675118514},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":282.017744649438,"y":276.5937963154746,"z":73.65553224668079},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":284.92874426796675,"y":275.34431708370767,"z":98.45401774217646},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":287.8397438864955,"y":274.0948378519407,"z":123.25250323767213},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":290.7507435050243,"y":272.8453586201738,"z":148.0509887331678},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":293.66174312355304,"y":271.59587938840684,"z":172.84947422866347},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":296.5727427420818,"y":270.3464001566399,"z":197.64795972415914},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":299.48374236061056,"y":269.09692092487296,"z":222.4464452196548},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":302.3947419791393,"y":267.847441693106,"z":247.24493071515047},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":305.3057415976681,"y":266.5979624613391,"z":272.0434162106461},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":308.21674121619685,"y":265.34848322957214,"z":296.84190170614175},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":311.1277408347256,"y":264.0990039978052,"z":321.6403872016374},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":314.0387404532544,"y":262.84952476603826,"z":346.43887269713304},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":316.94974007178314,"y":261.6000455342713,"z":371.2373581926287},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":319.8607396903119,"y":260.3505663025044,"z":396.0358436881243},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":322.77173930884067,"y":259.10108707073744,"z":420.83432918361996},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":325.6827389273694,"y":257.8516078389705,"z":445.6328146791156},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":328.5937385458982,"y":256.60212860720355,"z":470.43130017461124},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":331.50473816442695,"y":255.35264937543658,"z":495.2297856701069},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":316.4020878565961,"y":254.645731140974,"z":515.1398389168755},"direction":{"x":0.1164399847411507,"y":-0.04997916927067826,"z":0.9919394198198264}},{"position":{"x":281.25996272724274,"y":254.20525313780436,"z":535.6538000385057},"direction":{"x":0.1541441653854827,"y":-0.03399344971195137,"z":0.987463428008498}},{"position":{"x":257.95948474381237,"y":254.20525313780436,"z":544.714027725693},"direction":{"x":0.22877715798684933,"y":-0.015999317342071342,"z":0.9733473346283166}},{"position":{"x":236.29951381228287,"y":254.20525313780436,"z":557.1978436184918},"direction":{"x":0.36237359197505264,"y":0.013999542671148581,"z":0.9319277829553623}},{"position":{"x":215.62178030650384,"y":254.20525313780436,"z":571.2488698110509},"direction":{"x":0.4989122714265159,"y":0.04198765308904792,"z":0.8656347858121856}},{"position":{"x":196.7748272722672,"y":254.20525313780436,"z":587.6742270773412},"direction":{"x":0.5613386427453975,"y":0.04997916927067839,"z":0.8260756689309812}},{"position":{"x":179.73486616378182,"y":254.20525313780436,"z":605.9673876960344},"direction":{"x":0.6559095023758196,"y":0.057967486802535044,"z":0.7526104537985788}},{"position":{"x":185.2963421452647,"y":256.5794118442216,"z":644.0891552228026},"direction":{"x":0.7471483080673758,"y":0.07393248115597784,"z":0.6605326592850492}},{"position":{"x":174.02001539454832,"y":256.5794118442216,"z":666.4015834862408},"direction":{"x":0.8261934310078374,"y":0.09386163047913688,"z":0.5555127441232074}},{"position":{"x":163.87293774498988,"y":256.5794118442216,"z":689.2497084678193},"direction":{"x":0.8871029653066322,"y":0.1097783008371749,"z":0.44832694945707063}},{"position":{"x":153.95484488690002,"y":256.5794118442216,"z":712.1981601379932},"direction":{"x":0.9079927434278784,"y":0.11375323640157607,"z":0.4032485326575689}},{"position":{"x":144.08266873773164,"y":256.5794118442216,"z":735.1664020837711},"direction":{"x":0.9119797622878596,"y":0.11375323640157609,"z":0.3941485942960429}},{"position":{"x":130.36034389038758,"y":256.5794118442216,"z":767.0922583884023},"direction":{"x":0.9127662349920033,"y":0.11375323640157609,"z":0.3923238476905152}},{"position":{"x":120.48816774121921,"y":256.5794118442216,"z":790.0605003341802},"direction":{"x":0.9127662349920033,"y":0.11375323640157609,"z":0.3923238476905152}},{"position":{"x":110.61599159205085,"y":256.5794118442216,"z":813.0287422799581},"direction":{"x":0.9127662349920033,"y":0.11375323640157609,"z":0.3923238476905152}},{"position":{"x":100.74381544288248,"y":256.5794118442216,"z":835.996984225736},"direction":{"x":0.9127662349920033,"y":0.11375323640157609,"z":0.3923238476905152}},{"position":{"x":90.87163929371411,"y":256.5794118442216,"z":858.9652261715139},"direction":{"x":0.9127662349920033,"y":0.11375323640157609,"z":0.3923238476905152}},{"position":{"x":80.99946314454574,"y":256.5794118442216,"z":881.9334681172918},"direction":{"x":0.9127662349920033,"y":0.11375323640157609,"z":0.3923238476905152}},{"position":{"x":90.20069470565434,"y":258.5903039652584,"z":905.091482942324},"direction":{"x":0.9127662349920033,"y":0.11375323640157609,"z":0.3923238476905152}},{"position":{"x":99.92003741025273,"y":260.4957829763126,"z":928.0458622005178},"direction":{"x":0.9135490566324241,"y":0.11375323640157609,"z":0.3904975317901197}},{"position":{"x":110.33731620585436,"y":262.26060512381247,"z":950.7034372093841},"direction":{"x":0.9225349791883839,"y":0.10779017041000757,"z":0.3705543028179135}},{"position":{"x":133.79355282009337,"y":264.7066853732169,"z":958.9993190377558},"direction":{"x":0.9340144238003136,"y":0.09983341664682824,"z":0.34300196071391365}},{"position":{"x":157.44671912719826,"y":267.1030006715373,"z":966.7314207338973},"direction":{"x":0.9382494645695603,"y":0.0978432099761774,"z":0.3318352731348664}},{"position":{"x":181.1760225141275,"y":269.4993159698577,"z":974.2266081072793},"direction":{"x":0.9461266522841952,"y":0.09585261193281713,"z":0.3092840678456594}},{"position":{"x":205.12850147117115,"y":271.7960728093342,"z":981.0092078914844},"direction":{"x":0.9491721354771693,"y":0.09585261193281713,"z":0.2998074949352787}},{"position":{"x":229.39003476933348,"y":274.09282964881066,"z":986.5862061918677},"direction":{"x":0.9580991582817461,"y":0.09187027357905993,"z":0.2713039913682041}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9704613319264933,"y":0.09187027357905994,"z":0.22307993201533272}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9809234994351935,"y":0.08987854919801114,"z":0.17236860111364471}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9939163867740926,"y":0.08190813622337467,"z":0.07362929663079476}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9951688454447254,"y":0.07792093205630152,"z":0.059726856636604486}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9951688454447254,"y":0.07792093205630152,"z":0.059726856636604486}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9951688454447254,"y":0.07792093205630152,"z":0.059726856636604486}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9951688454447254,"y":0.07792093205630152,"z":0.059726856636604486}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9951688454447254,"y":0.07792093205630152,"z":0.059726856636604486}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9951688454447254,"y":0.07792093205630152,"z":0.059726856636604486}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9951688454447254,"y":0.07792093205630152,"z":0.059726856636604486}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9951688454447254,"y":0.07792093205630152,"z":0.059726856636604486}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9951688454447254,"y":0.07792093205630152,"z":0.059726856636604486}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9951688454447254,"y":0.07792093205630152,"z":0.059726856636604486}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9951688454447254,"y":0.07792093205630152,"z":0.059726856636604486}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9951688454447254,"y":0.07792093205630152,"z":0.059726856636604486}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9936065990391951,"y":0.09187027357905993,"z":0.06561843626811825}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}}]},{"animationId":11,"prevCheckpointId":21,"nextCheckpointId":22,"points":[{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9934733750416145,"y":0.09187027357905991,"z":0.06760551690455863}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9942811895359629,"y":0.08987854919801112,"z":0.05767809401333879}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9970951106901915,"y":0.07592685845980598,"z":-0.0060375824747608275}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9970951106901915,"y":0.07592685845980598,"z":-0.0060375824747608275}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9970951106901915,"y":0.07592685845980598,"z":-0.0060375824747608275}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9970951106901915,"y":0.07592685845980598,"z":-0.0060375824747608275}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9970627028251987,"y":0.07393248115597782,"z":-0.01999887159393343}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9941212033155669,"y":0.04198765308904792,"z":-0.09980015083396987}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9782759966489998,"y":0.017999028015746345,"z":-0.20652387118901}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.9113623068666907,"y":-0.011999712002073526,"z":-0.4114301308053302}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.7953484394395544,"y":-0.04198765308904778,"z":-0.6046965328734235}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.6765619272553819,"y":-0.05996400647944453,"z":-0.733940240425211}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.5964883000012506,"y":-0.06595209443502244,"z":-0.7999075129046181}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.523808843161413,"y":-0.06794760678144585,"z":-0.8491215569979226}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.4649024860359669,"y":-0.06794760678144585,"z":-0.8827507016198016}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.4236996458353649,"y":-0.07193780812232348,"z":-0.9029416159871811}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.38340006401717963,"y":-0.0779209320563014,"z":-0.9202894757950347}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.26851081580329134,"y":-0.07991469396917264,"z":-0.9599560320579607}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.06645654118834314,"y":-0.08390125084514076,"z":-0.9942555547945925}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.0206889499872716,"y":-0.06994284733753271,"z":-0.9973364354392869}},{"position":{"x":253.91312225521332,"y":276.33979337876093,"z":990.8954212197089},"direction":{"x":0.026676247217826538,"y":-0.06794760678144587,"z":-0.9973321916829155}},{"position":{"x":228.93188094385377,"y":276.33979337876093,"z":989.9271327587517},"direction":{"x":0.028670856918938618,"y":-0.06794760678144586,"z":-0.9972768445603296}},{"position":{"x":203.95918525301337,"y":276.33979337876093,"z":988.7590274840949},"direction":{"x":0.038642025621667304,"y":-0.06794760678144585,"z":-0.996940277342895}},{"position":{"x":178.9939476589431,"y":276.33979337876093,"z":987.4411079601404},"direction":{"x":0.046609783405400965,"y":-0.06994284733753271,"z":-0.9964615026167445}},{"position":{"x":154.04960688880905,"y":276.33979337876093,"z":985.7738156811961},"direction":{"x":0.05258767757496777,"y":-0.06994284733753273,"z":-0.9961639093410232}},{"position":{"x":129.2564996928044,"y":276.33979337876093,"z":982.5641684159312},"direction":{"x":0.06652836322301733,"y":-0.06994284733753271,"z":-0.9953300834362362}},{"position":{"x":84.35744080144661,"y":276.33979337876093,"z":969.811516309803},"direction":{"x":0.272514440469298,"y":-0.07193780812232349,"z":-0.9594586137495776}},{"position":{"x":60.308667962324456,"y":276.33979337876093,"z":962.9809581384453},"direction":{"x":0.272514440469298,"y":-0.07193780812232349,"z":-0.9594586137495776}},{"position":{"x":36.2598951232023,"y":276.33979337876093,"z":956.1503999670877},"direction":{"x":0.272514440469298,"y":-0.07193780812232349,"z":-0.9594586137495776}},{"position":{"x":36.2598951232023,"y":276.33979337876093,"z":956.1503999670877},"direction":{"x":0.272514440469298,"y":-0.07193780812232349,"z":-0.9594586137495776}},{"position":{"x":29.447034111469847,"y":278.138238581819,"z":980.136865310827},"direction":{"x":0.272514440469298,"y":-0.07193780812232349,"z":-0.9594586137495776}},{"position":{"x":22.634173099737396,"y":279.93668378487706,"z":1004.1233306545664},"direction":{"x":0.272514440469298,"y":-0.07193780812232349,"z":-0.9594586137495776}},{"position":{"x":15.821312088004944,"y":281.7351289879351,"z":1028.1097959983058},"direction":{"x":0.272514440469298,"y":-0.07193780812232349,"z":-0.9594586137495776}},{"position":{"x":9.00944745210101,"y":283.58344101683457,"z":1052.0927533394251},"direction":{"x":0.272514440469298,"y":-0.07193780812232349,"z":-0.9594586137495776}},{"position":{"x":2.486842149019794,"y":285.48161247832974,"z":1076.152108384043},"direction":{"x":0.2724745854361573,"y":-0.07393248115597771,"z":-0.9593182936447711}},{"position":{"x":-4.0357631540614225,"y":287.3797839398249,"z":1100.2114634286609},"direction":{"x":0.26090421212324866,"y":-0.07592685845980585,"z":-0.9623742017847171}},{"position":{"x":-10.558368457142638,"y":289.27795540132007,"z":1124.2708184732787},"direction":{"x":0.26090421212324866,"y":-0.07592685845980585,"z":-0.9623742017847171}},{"position":{"x":-17.080973760223856,"y":291.17612686281524,"z":1148.3301735178966},"direction":{"x":0.26090421212324866,"y":-0.07592685845980585,"z":-0.9623742017847171}},{"position":{"x":-23.603579063305073,"y":293.0742983243104,"z":1172.3895285625144},"direction":{"x":0.26090421212324866,"y":-0.07592685845980585,"z":-0.9623742017847171}},{"position":{"x":-34.88768623763558,"y":296.358134952697,"z":1214.0122127897034},"direction":{"x":0.26090421212324866,"y":-0.07592685845980585,"z":-0.9623742017847171}},{"position":{"x":-44.9129305886658,"y":299.2756244890716,"z":1250.991441493998},"direction":{"x":0.26090421212324866,"y":-0.07592685845980585,"z":-0.9623742017847171}},{"position":{"x":-51.435535891747016,"y":301.1737959505668,"z":1275.050796538616},"direction":{"x":0.26090421212324866,"y":-0.07592685845980585,"z":-0.9623742017847171}},{"position":{"x":-38.98593051071802,"y":302.5160058628448,"z":1296.6888601859953},"direction":{"x":0.26090421212324866,"y":-0.07592685845980585,"z":-0.9623742017847171}},{"position":{"x":-38.98593051071802,"y":302.5160058628448,"z":1296.6888601859953},"direction":{"x":0.26090421212324866,"y":-0.07592685845980585,"z":-0.9623742017847171}},{"position":{"x":-38.98593051071802,"y":302.5160058628448,"z":1296.6888601859953},"direction":{"x":0.2589789431945953,"y":-0.07592685845980586,"z":-0.9628940851133292}},{"position":{"x":-38.98593051071802,"y":302.5160058628448,"z":1296.6888601859953},"direction":{"x":0.2589789431945953,"y":-0.07592685845980586,"z":-0.9628940851133292}},{"position":{"x":-38.98593051071802,"y":302.5160058628448,"z":1296.6888601859953},"direction":{"x":0.2589789431945953,"y":-0.07592685845980586,"z":-0.9628940851133292}},{"position":{"x":-38.98593051071802,"y":302.5160058628448,"z":1296.6888601859953},"direction":{"x":0.2589789431945953,"y":-0.07592685845980586,"z":-0.9628940851133292}},{"position":{"x":-38.98593051071802,"y":302.5160058628448,"z":1296.6888601859953},"direction":{"x":0.25705263835051456,"y":-0.07592685845980587,"z":-0.9634101168668846}},{"position":{"x":-44.74169721548062,"y":304.0151060248309,"z":1320.971031595173},"direction":{"x":0.25512530529622307,"y":-0.07592685845980586,"z":-0.9639222949812573}},{"position":{"x":-50.30663289803588,"y":305.21464527791215,"z":1345.3142564519856},"direction":{"x":0.2302306681905041,"y":-0.05996400647944456,"z":-0.9712868563671019}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.22259742730221038,"y":-0.04798157012324989,"z":-0.9737289942725056}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.20719504766069582,"y":-0.01799902801574624,"z":-0.978134064029758}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.18348059894365026,"y":0.04798157012324996,"z":-0.9818516378454472}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17921222836121886,"y":0.0779209320563015,"z":-0.9807197895185372}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17915476692879692,"y":0.08190813622337464,"z":-0.9804053379633862}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}},{"position":{"x":-55.48650908955327,"y":305.66462097830583,"z":1369.7676080527294},"direction":{"x":0.17912496122616456,"y":0.08390125084514084,"z":-0.9802422294373702}}]}]');var Nx=n(72),Dx=n.n(Nx),Ux=n(825),Ox=n.n(Ux),kx=n(659),Fx=n.n(kx),Bx=n(56),Hx=n.n(Bx),Vx=n(159),Gx=n.n(Vx),Wx=n(113),jx=n.n(Wx),Xx=n(235),qx={};qx.styleTagTransform=jx(),qx.setAttributes=Hx(),qx.insert=Fx().bind(null,"head"),qx.domAPI=Ox(),qx.insertStyleElement=Gx(),Dx()(Xx.A,qx),Xx.A&&Xx.A.locals&&Xx.A.locals,mh.registerPlugin(Sy);let Yx=null;function Kx(t,e=50){const[n,i]=(0,r.useState)(""),[o,s]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{if(!t)return i(""),void s(!1);i(""),s(!1);let n=0;const r=setInterval(()=>{n<t.length?(i(t.substring(0,n+1)),n++):(s(!0),clearInterval(r))},e);return()=>clearInterval(r)},[t,e]),{displayedText:n,isComplete:o}}function Zx(){const t=(0,r.useRef)(null),e=(0,r.useRef)(null),n=(0,r.useRef)(null),[i,o]=(0,r.useState)(0),[s,a]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!0),[u,d]=(0,r.useState)(!1),[p,h]=(0,r.useState)(0),[f,m]=(0,r.useState)(!1),[y,x]=(0,r.useState)(null),[g,v]=(0,r.useState)([]),[_,z]=(0,r.useState)(0),[b,S]=(0,r.useState)(!1),[M,E]=(0,r.useState)(null),[w,T]=(0,r.useState)(!1),[A,R]=(0,r.useState)(null),[C,P]=(0,r.useState)(!1),L=Kx(M?.title||"",15),I=Kx(M?.comment||"",10);function N(t,n){return new Promise(i=>{if(!g.length)return i(!1);if(b)return i(!1);const r=g[t],o=g[n];if(!r||!o)return i(!1);let s=Array.isArray(Ix)?Ix:[];if(!s.length){const t=localStorage.getItem("animations.txt")||"[]";try{s=JSON.parse(t)}catch{s=[]}}let a=s.find(t=>t.prevCheckpointId===r.id&&t.nextCheckpointId===o.id),l=null;if(a&&Array.isArray(a.points)&&a.points.length)l=a.points;else{const t=s.find(t=>t.prevCheckpointId===o.id&&t.nextCheckpointId===r.id);t&&Array.isArray(t.points)&&t.points.length&&(l=t.points.slice().reverse())}if(!l)return i(!1);let c=0;S(!0),function t(){if(c>=l.length)return S(!1),i(!0);const n=l[c];e.current&&e.current("set",n.position,n.direction),c++,setTimeout(t,100)}()})}return(0,r.useEffect)(()=>{const t=Lx.map(t=>({...t,source:"base"}));let e=[];try{const t=localStorage.getItem("userCheckpoints");t&&(e=JSON.parse(t).map(t=>({...t,source:"user"})))}catch(t){console.error("Failed to load user checkpoints:",t)}v([...t,...e]),z(0)},[f]),(0,r.useEffect)(()=>{if(1===i)return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t);function t(t){"Enter"!==t.key||f||Yx&&(x(Yx()),m(!0))}},[i,f]),(0,r.useEffect)(()=>{const t=new Ss;t.background=new Cn(724756);const e=new Mi(60,window.innerWidth/window.innerHeight,.1,1e3);e.position.set(0,1.6,6);const i=new zs({antialias:!0});i.setSize(window.innerWidth,window.innerHeight),i.setPixelRatio(Math.min(window.devicePixelRatio,2)),n.current.appendChild(i.domElement);const r=new ll(16777215,.4);t.add(r);const o=new al(16777215,.8);o.position.set(3,5,2),t.add(o);const s=new dl;let l;function c(){e.aspect=window.innerWidth/window.innerHeight,e.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)}return function n(){l=requestAnimationFrame(n),s.getDelta(),i.render(t,e)}(),window.addEventListener("resize",c),a(!0),()=>{cancelAnimationFrame(l),window.removeEventListener("resize",c),i.dispose(),n.current?.removeChild(i.domElement)}},[]),(0,Ly.jsxs)("div",{className:"app-root",ref:n,children:[s&&0===i&&(0,Ly.jsx)(Px,{onLoadComplete:()=>c(!1)}),0===i&&!l&&(0,Ly.jsx)(Iy,{onEnter:()=>{mh.to(".title-intro",{duration:.6,opacity:0,ease:"power2.inOut",onComplete:()=>{h(0),d(!0),o(1);try{window.scrollTo({top:0,behavior:"smooth"})}catch(t){window.scrollTo(0,0)}}})}}),1===i&&s&&(0,Ly.jsxs)(Ly.Fragment,{children:[u&&(0,Ly.jsx)("div",{className:"loading-overlay",children:(0,Ly.jsxs)("div",{className:"loading-container",children:[(0,Ly.jsx)("img",{src:"/assets/images/loading-logo.jfif",alt:"Loading",className:"loading-logo"}),(0,Ly.jsx)("div",{className:"loading-text",children:"Loading.."}),(0,Ly.jsxs)("div",{className:"progress-bar-wrapper",children:[(0,Ly.jsx)("div",{className:"progress-bar-fill",style:{width:`${p}%`}}),(0,Ly.jsxs)("div",{className:"loading-percent",style:{right:100-p+"%"},children:[Math.round(p),"%"]})]})]})}),(0,Ly.jsx)(Ax,{onLoadComplete:()=>d(!1),onProgress:t=>h(t),setGetCameraInfo:t=>{Yx=t},setCameraMove:t=>{e.current=t},onCheckpointSaved:e=>{t.current=e},allChapters:g,onNearbyCheckpoint:(t,e)=>{E(t),T(e)},onCameraInfo:t=>R(t)}),(0,Ly.jsx)("button",{onClick:()=>P(!0),title:"Open mini-map",style:{position:"fixed",top:12,right:12,zIndex:2100,borderRadius:999,border:"1px solid rgba(255,255,255,0.25)",background:"rgba(255,255,255,0.08)",color:"#e4e5e7",padding:"8px 10px",backdropFilter:"blur(6px)",cursor:"pointer",boxShadow:"0 8px 24px rgba(15,23,42,0.28)"},children:" Mini-map"}),(0,Ly.jsx)("div",{style:{position:"fixed",top:10,left:10,zIndex:3e3,pointerEvents:"none",display:"none"},children:(0,Ly.jsxs)("div",{style:{pointerEvents:"auto",fontFamily:"ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto",fontSize:12,lineHeight:1.5,color:"#e4e5e7",background:"rgba(255,255,255,0.06)",backdropFilter:"blur(6px) saturate(120%)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:8,padding:"10px 12px",boxShadow:"0 8px 24px rgba(15,23,42,0.18)"},children:[(0,Ly.jsx)("div",{style:{fontWeight:600,marginBottom:6},children:"Camera"}),A?(0,Ly.jsxs)(Ly.Fragment,{children:[(0,Ly.jsxs)("div",{children:["pos: x ",A.position.x.toFixed(2),", y ",A.position.y.toFixed(2),", z ",A.position.z.toFixed(2)]}),(0,Ly.jsxs)("div",{children:["dir: x ",A.direction.x.toFixed(3),", y ",A.direction.y.toFixed(3),", z ",A.direction.z.toFixed(3)]})]}):(0,Ly.jsx)("div",{children:"pos: -, dir: -"}),(0,Ly.jsx)("div",{style:{fontWeight:600,marginTop:10,marginBottom:6},children:"Checkpoints"}),(0,Ly.jsx)("div",{style:{maxHeight:160,overflowY:"auto"},children:g&&g.length?g.map(t=>(0,Ly.jsxs)("div",{style:{opacity:.9},children:["#",t.id," ",t.title,"  x ",t.position.x.toFixed(2),", y ",t.position.y.toFixed(2),", z ",t.position.z.toFixed(2)]},`${t.source||"base"}-${t.id}`)):(0,Ly.jsx)("div",{children:"no checkpoints"})})]})}),(0,Ly.jsxs)("div",{style:{position:"fixed",bottom:24,left:24,zIndex:1e3,display:"flex",gap:12},children:[(0,Ly.jsx)("button",{onClick:function(){if(!g.length||b)return;const t=(_-1+g.length)%g.length;N(_,t),z(t)},disabled:b,className:"nav-button nav-button-prev",children:" Prev"}),(0,Ly.jsx)("button",{onClick:function(){if(!g.length||b)return;const t=(_+1)%g.length;N(_,t),z(t)},disabled:b,className:"nav-button nav-button-next",children:"Next "})]}),(0,Ly.jsx)("div",{style:{position:"fixed",bottom:24,right:24,zIndex:1e3,display:"none"},children:(0,Ly.jsx)("button",{onClick:function(){const t=localStorage.getItem("animations.txt")||"[]",e=new Blob([t],{type:"application/json"}),n=URL.createObjectURL(e),i=document.createElement("a");i.href=n,i.download="animations.txt",document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(n)},className:"nav-button nav-button-export",children:" Export"})}),w&&M&&(0,Ly.jsx)("div",{style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",zIndex:2e3},children:(0,Ly.jsxs)("div",{className:"dialog-entrance-animation",style:{pointerEvents:"auto",minWidth:300,maxWidth:"42%",background:"rgba(255,255,255,0.02)",color:"#0f172a",padding:18,borderRadius:10,backdropFilter:"blur(3px) saturate(120%)",boxShadow:"0 12px 32px rgba(15,23,42,0.22)",border:"1px solid rgba(255,255,255,0.2)",textAlign:"left",position:"absolute",top:"50%",transform:"translateY(-50%)",right:28},children:[(0,Ly.jsxs)("div",{style:{fontSize:18,lineHeight:1.6,color:"#e4e5e7ff",minHeight:"1.6em"},children:[L.displayedText,!L.isComplete&&(0,Ly.jsx)("span",{style:{animation:"blink 0.7s infinite"},children:"|"})]}),(0,Ly.jsxs)("div",{style:{fontSize:14,lineHeight:1.6,color:"#e4e5e7ff",marginTop:8,minHeight:"3.2em"},children:[I.displayedText,!I.isComplete&&(0,Ly.jsx)("span",{style:{animation:"blink 0.7s infinite"},children:"|"})]})]})}),(0,Ly.jsx)(Rx,{open:f,onSubmit:function({title:e,comment:n}){if(m(!1),!y)return;const i=(g.length>0?Math.max(...g.map(t=>t.id)):0)+1,{position:r,direction:o}=y,s={id:i,title:e,comment:n,position:{x:parseFloat(r.x.toFixed(4)),y:parseFloat(r.y.toFixed(4)),z:parseFloat(r.z.toFixed(4))},direction:{x:parseFloat(o.x.toFixed(4)),y:parseFloat(o.y.toFixed(4)),z:parseFloat(o.z.toFixed(4))}},a=[...g,s];v(a);let l=[];try{const t=localStorage.getItem("userCheckpoints");t&&(l=JSON.parse(t))}catch(t){console.error("Failed to load existing user checkpoints:",t)}l.push(s),localStorage.setItem("userCheckpoints",JSON.stringify(l,null,2)),x(null),t.current&&t.current(i)},onCancel:()=>m(!1),onMoveForward:()=>e.current&&e.current("forward"),onMoveBackward:()=>e.current&&e.current("backward")}),C&&(0,Ly.jsx)(Cx,{chapters:g,cameraInfo:A,onSelectChapter:t=>{e.current&&e.current("set",t.position,t.direction),z(g.findIndex(e=>e.id===t.id)||0),P(!1)},onClose:()=>P(!1)})]})]})}var $x=n(628),Jx={};Jx.styleTagTransform=jx(),Jx.setAttributes=Hx(),Jx.insert=Fx().bind(null,"head"),Jx.domAPI=Ox(),Jx.insertStyleElement=Gx(),Dx()($x.A,Jx),$x.A&&$x.A.locals&&$x.A.locals,(0,i.H)(document.getElementById("root")).render((0,Ly.jsx)(Zx,{}))})();